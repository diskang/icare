"use strict";(function webpackUniversalModuleDefinition(a,b){if(typeof exports==="object"&&typeof module==="object"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){exports.vis=b()}else{a.vis=b()}}}})(this,function(){return(function(a){var b={};function c(e){if(b[e]){return b[e].exports}var d=b[e]={exports:{},id:e,loaded:false};a[e].call(d.exports,d,d.exports,c);d.loaded=true;return d.exports}c.m=a;c.c=b;c.p="";return c(0)})([function(b,a,c){a.util=c(1);a.DOMutil=c(2);a.DataSet=c(3);a.DataView=c(4);a.Queue=c(5);a.Graph3d=c(6);a.graph3d={Camera:c(7),Filter:c(8),Point2d:c(9),Point3d:c(10),Slider:c(11),StepNumber:c(12)};a.Timeline=c(13);a.Graph2d=c(14);a.timeline={DateUtil:c(15),DataStep:c(16),Range:c(17),stack:c(18),TimeStep:c(19),components:{items:{Item:c(20),BackgroundItem:c(21),BoxItem:c(22),PointItem:c(23),RangeItem:c(24)},Component:c(25),CurrentTime:c(26),CustomTime:c(27),DataAxis:c(28),GraphGroup:c(29),Group:c(30),BackgroundGroup:c(31),ItemSet:c(32),Legend:c(33),LineGraph:c(34),TimeAxis:c(35)}};a.Network=c(36);a.network={Edge:c(37),Groups:c(38),Images:c(39),Node:c(40),Popup:c(41),dotparser:c(42),gephiParser:c(43)};a.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")};a.moment=c(44);a.hammer=c(45)},function(b,a,f){var e=f(44);a.isNumber=function(g){return(g instanceof Number||typeof g=="number")};a.giveRange=function(h,g,i,j){if(g==h){return 0.5}else{var k=1/(g-h);return Math.max(0,(j-h)*k)}};a.isString=function(g){return(g instanceof String||typeof g=="string")};a.isDate=function(h){if(h instanceof Date){return true}else{if(a.isString(h)){var g=c.exec(h);if(g){return true}else{if(!isNaN(Date.parse(h))){return true}}}}return false};a.isDataTable=function(g){return(typeof(google)!=="undefined")&&(google.visualization)&&(google.visualization.DataTable)&&(g instanceof google.visualization.DataTable)};a.randomUUID=function(){var g=function(){return Math.floor(Math.random()*65536).toString(16)};return(g()+g()+"-"+g()+"-"+g()+"-"+g()+"-"+g()+g()+g())};a.extend=function(k,j){for(var l=1,h=arguments.length;l<h;l++){var g=arguments[l];for(var m in g){if(g.hasOwnProperty(m)){k[m]=g[m]}}}return k};a.selectiveExtend=function(l,j,h){if(!Array.isArray(l)){throw new Error("Array with property names expected as first argument")}for(var k=2;k<arguments.length;k++){var g=arguments[k];for(var m=0;m<l.length;m++){var n=l[m];if(g.hasOwnProperty(n)){j[n]=g[n]}}}return j};a.selectiveDeepExtend=function(l,j,h){if(Array.isArray(h)){throw new TypeError("Arrays are not supported by deepExtend")}for(var k=2;k<arguments.length;k++){var g=arguments[k];for(var m=0;m<l.length;m++){var n=l[m];if(g.hasOwnProperty(n)){if(h[n]&&h[n].constructor===Object){if(j[n]===undefined){j[n]={}}if(j[n].constructor===Object){a.deepExtend(j[n],h[n])}else{j[n]=h[n]}}else{if(Array.isArray(h[n])){throw new TypeError("Arrays are not supported by deepExtend")}else{j[n]=h[n]}}}}}return j};a.selectiveNotDeepExtend=function(i,h,g){if(Array.isArray(g)){throw new TypeError("Arrays are not supported by deepExtend")}for(var j in g){if(g.hasOwnProperty(j)){if(i.indexOf(j)==-1){if(g[j]&&g[j].constructor===Object){if(h[j]===undefined){h[j]={}}if(h[j].constructor===Object){a.deepExtend(h[j],g[j])}else{h[j]=g[j]}}else{if(Array.isArray(g[j])){throw new TypeError("Arrays are not supported by deepExtend")}else{h[j]=g[j]}}}}}return h};a.deepExtend=function(h,g){if(Array.isArray(g)){throw new TypeError("Arrays are not supported by deepExtend")}for(var i in g){if(g.hasOwnProperty(i)){if(g[i]&&g[i].constructor===Object){if(h[i]===undefined){h[i]={}}if(h[i].constructor===Object){a.deepExtend(h[i],g[i])}else{h[i]=g[i]}}else{if(Array.isArray(g[i])){throw new TypeError("Arrays are not supported by deepExtend")}else{h[i]=g[i]}}}}return h};a.equalArray=function(j,h){if(j.length!=h.length){return false}for(var k=0,g=j.length;k<g;k++){if(j[k]!=h[k]){return false}}return true};a.convert=function(h,i){var g;if(h===undefined){return undefined}if(h===null){return null}if(!i){return h}if(!(typeof i==="string")&&!(i instanceof String)){throw new Error("Type must be a string")}switch(i){case"boolean":case"Boolean":return Boolean(h);case"number":case"Number":return Number(h.valueOf());case"string":case"String":return String(h);case"Date":if(a.isNumber(h)){return new Date(h)}if(h instanceof Date){return new Date(h.valueOf())}else{if(e.isMoment(h)){return new Date(h.valueOf())}}if(a.isString(h)){g=c.exec(h);if(g){return new Date(Number(g[1]))}else{return e(h).toDate()}}else{throw new Error("Cannot convert object of type "+a.getType(h)+" to type Date")}case"Moment":if(a.isNumber(h)){return e(h)}if(h instanceof Date){return e(h.valueOf())}else{if(e.isMoment(h)){return e(h)}}if(a.isString(h)){g=c.exec(h);if(g){return e(Number(g[1]))}else{return e(h)}}else{throw new Error("Cannot convert object of type "+a.getType(h)+" to type Date")}case"ISODate":if(a.isNumber(h)){return new Date(h)}else{if(h instanceof Date){return h.toISOString()}else{if(e.isMoment(h)){return h.toDate().toISOString()}else{if(a.isString(h)){g=c.exec(h);if(g){return new Date(Number(g[1])).toISOString()}else{return new Date(h).toISOString()}}else{throw new Error("Cannot convert object of type "+a.getType(h)+" to type ISODate")}}}}case"ASPDate":if(a.isNumber(h)){return"/Date("+h+")/"}else{if(h instanceof Date){return"/Date("+h.valueOf()+")/"}else{if(a.isString(h)){g=c.exec(h);var j;if(g){j=new Date(Number(g[1])).valueOf()}else{j=new Date(h).valueOf()}return"/Date("+j+")/"}else{throw new Error("Cannot convert object of type "+a.getType(h)+" to type ASPDate")}}}default:throw new Error('Unknown type "'+i+'"')}};var c=/^\/?Date\((\-?\d+)/i;a.getType=function(g){var h=typeof g;if(h=="object"){if(g==null){return"null"}if(g instanceof Boolean){return"Boolean"}if(g instanceof Number){return"Number"}if(g instanceof String){return"String"}if(Array.isArray(g)){return"Array"}if(g instanceof Date){return"Date"}return"Object"}else{if(h=="number"){return"Number"}else{if(h=="boolean"){return"Boolean"}else{if(h=="string"){return"String"}}}}return h};a.getAbsoluteLeft=function(g){return g.getBoundingClientRect().left+window.pageXOffset};a.getAbsoluteTop=function(g){return g.getBoundingClientRect().top+window.pageYOffset};a.addClassName=function(i,h){var g=i.className.split(" ");if(g.indexOf(h)==-1){g.push(h);i.className=g.join(" ")}};a.removeClassName=function(j,i){var h=j.className.split(" ");var g=h.indexOf(i);if(g!=-1){h.splice(g,1);j.className=h.join(" ")}};a.forEach=function(h,k){var j,g;if(Array.isArray(h)){for(j=0,g=h.length;j<g;j++){k(h[j],j,h)}}else{for(j in h){if(h.hasOwnProperty(j)){k(h[j],j,h)}}}};a.toArray=function(g){var i=[];for(var h in g){if(g.hasOwnProperty(h)){i.push(g[h])}}return i};a.updateProperty=function(g,h,i){if(g[h]!==i){g[h]=i;return true}else{return false}};a.addEventListener=function(h,j,i,g){if(h.addEventListener){if(g===undefined){g=false}if(j==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){j="DOMMouseScroll"}h.addEventListener(j,i,g)}else{h.attachEvent("on"+j,i)}};a.removeEventListener=function(h,j,i,g){if(h.removeEventListener){if(g===undefined){g=false}if(j==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0){j="DOMMouseScroll"}h.removeEventListener(j,i,g)}else{h.detachEvent("on"+j,i)}};a.preventDefault=function(g){if(!g){g=window.event}if(g.preventDefault){g.preventDefault()}else{g.returnValue=false}};a.getTarget=function(g){if(!g){g=window.event}var h;if(g.target){h=g.target}else{if(g.srcElement){h=g.srcElement}}if(h.nodeType!=undefined&&h.nodeType==3){h=h.parentNode}return h};a.hasParent=function(g,h){var i=g;while(i){if(i===h){return true}i=i.parentNode}return false};a.option={};a.option.asBoolean=function(h,g){if(typeof h=="function"){h=h()}if(h!=null){return(h!=false)}return g||null};a.option.asNumber=function(h,g){if(typeof h=="function"){h=h()}if(h!=null){return Number(h)||g||null}return g||null};a.option.asString=function(h,g){if(typeof h=="function"){h=h()}if(h!=null){return String(h)}return g||null};a.option.asSize=function(h,g){if(typeof h=="function"){h=h()}if(a.isString(h)){return h}else{if(a.isNumber(h)){return h+"px"}else{return g||null}}};a.option.asElement=function(h,g){if(typeof h=="function"){h=h()}return h||g||null};a.hexToRGB=function(i){var h=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;i=i.replace(h,function(k,n,l,j){return n+n+l+l+j+j});var g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return g?{r:parseInt(g[1],16),g:parseInt(g[2],16),b:parseInt(g[3],16)}:null};a.overrideOpacity=function(g,i){if(g.indexOf("rgb")!=-1){var h=g.substr(g.indexOf("(")+1).replace(")","").split(",");return"rgba("+h[0]+","+h[1]+","+h[2]+","+i+")"}else{var h=a.hexToRGB(g);if(h==null){return g}else{return"rgba("+h.r+","+h.g+","+h.b+","+i+")"}}};a.RGBToHex=function(i,h,g){return"#"+((1<<24)+(i<<16)+(h<<8)+g).toString(16).slice(1)};a.parseColor=function(g){var n;if(a.isString(g)){if(a.isValidRGB(g)){var i=g.substr(4).substr(0,g.length-5).split(",");g=a.RGBToHex(i[0],i[1],i[2])}if(a.isValidHex(g)){var h=a.hexToHSV(g);var k={h:h.h,s:h.s*0.45,v:Math.min(1,h.v*1.05)};var j={h:h.h,s:Math.min(1,h.v*1.25),v:h.v*0.6};var m=a.HSVToHex(j.h,j.h,j.v);var l=a.HSVToHex(k.h,k.s,k.v);n={background:g,border:m,highlight:{background:l,border:m},hover:{background:l,border:m}}}else{n={background:g,border:g,highlight:{background:g,border:g},hover:{background:g,border:g}}}}else{n={};n.background=g.background||"white";n.border=g.border||n.background;if(a.isString(g.highlight)){n.highlight={border:g.highlight,background:g.highlight}}else{n.highlight={};n.highlight.background=g.highlight&&g.highlight.background||n.background;n.highlight.border=g.highlight&&g.highlight.border||n.border}if(a.isString(g.hover)){n.hover={border:g.hover,background:g.hover}}else{n.hover={};n.hover.background=g.hover&&g.hover.background||n.background;n.hover.border=g.hover&&g.hover.border||n.border}}return n};a.RGBToHSV=function(g,i,o){g=g/255;i=i/255;o=o/255;var p=Math.min(g,Math.min(i,o));var q=Math.max(g,Math.max(i,o));if(p==q){return{h:0,s:0,v:p}}var m=(g==p)?i-o:((o==p)?g-i:o-g);var k=(g==p)?3:((o==p)?1:5);var l=60*(k-m/(q-p))/360;var j=(q-p)/q;var n=q;return{h:l,s:j,v:n}};var d={split:function(g){var h={};g.split(";").forEach(function(j){if(j.trim()!=""){var l=j.split(":");var i=l[0].trim();var k=l[1].trim();h[i]=k}});return h},join:function(g){return Object.keys(g).map(function(h){return h+": "+g[h]}).join("; ")}};a.addCssText=function(g,h){var j=d.split(g.style.cssText);var k=d.split(h);var i=a.extend(j,k);g.style.cssText=d.join(i)};a.removeCssText=function(h,i){var j=d.split(h.style.cssText);var k=d.split(i);for(var g in k){if(k.hasOwnProperty(g)){delete j[g]}}h.style.cssText=d.join(j)};a.HSVToRGB=function(n,z,x){var j,o,w;var m=Math.floor(n*6);var u=n*6-m;var l=x*(1-z);var k=x*(1-u*z);var y=x*(1-(1-u)*z);switch(m%6){case 0:j=x,o=y,w=l;break;case 1:j=k,o=x,w=l;break;case 2:j=l,o=x,w=y;break;case 3:j=l,o=k,w=x;break;case 4:j=y,o=l,w=x;break;case 5:j=x,o=l,w=k;break}return{r:Math.floor(j*255),g:Math.floor(o*255),b:Math.floor(w*255)}};a.HSVToHex=function(k,j,g){var i=a.HSVToRGB(k,j,g);return a.RGBToHex(i.r,i.g,i.b)};a.hexToHSV=function(h){var g=a.hexToRGB(h);return a.RGBToHSV(g.r,g.g,g.b)};a.isValidHex=function(h){var g=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(h);return g};a.isValidRGB=function(h){h=h.replace(" ","");var g=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(h);return g};a.selectiveBridgeObject=function(h,k){if(typeof k=="object"){var g=Object.create(k);for(var j=0;j<h.length;j++){if(k.hasOwnProperty(h[j])){if(typeof k[h[j]]=="object"){g[h[j]]=a.bridgeObject(k[h[j]])}}}return g}else{return null}};a.bridgeObject=function(j){if(typeof j=="object"){var g=Object.create(j);for(var h in j){if(j.hasOwnProperty(h)){if(typeof j[h]=="object"){g[h]=a.bridgeObject(j[h])}}}return g}else{return null}};a.mergeOptions=function(i,g,h){if(g[h]!==undefined){if(typeof g[h]=="boolean"){i[h].enabled=g[h]}else{i[h].enabled=true;for(var j in g[h]){if(g[h].hasOwnProperty(j)){i[h][j]=g[h][j]}}}}};a.binarySearchCustom=function(l,k,o,h){var m=10000;var g=0;var n=0;var i=l.length-1;while(n<=i&&g<m){var r=Math.floor((n+i)/2);var q=l[r];var p=(h===undefined)?q[o]:q[o][h];var j=k(p);if(j==0){return r}else{if(j==-1){n=r+1}else{i=r-1}}g++}return -1};a.binarySearchValue=function(j,k,p,o){var l=10000;var g=0;var m=0;var h=j.length-1;var i,q,n,r;while(m<=h&&g<l){r=Math.floor(0.5*(h+m));i=j[Math.max(0,r-1)][p];q=j[r][p];n=j[Math.min(j.length-1,r+1)][p];if(q==k){return r}else{if(i<k&&q>k){return o=="before"?Math.max(0,r-1):r}else{if(q<k&&n>k){return o=="before"?r:Math.min(j.length-1,r+1)}else{if(q<k){m=r+1}else{h=r-1}}}}g++}return -1};a.easeInOutQuad=function(h,k,g,i){var j=g-k;h/=i/2;if(h<1){return j/2*h*h+k}h--;return -j/2*(h*(h-2)-1)+k};a.easingFunctions={linear:function(g){return g},easeInQuad:function(g){return g*g},easeOutQuad:function(g){return g*(2-g)},easeInOutQuad:function(g){return g<0.5?2*g*g:-1+(4-2*g)*g},easeInCubic:function(g){return g*g*g},easeOutCubic:function(g){return(--g)*g*g+1},easeInOutCubic:function(g){return g<0.5?4*g*g*g:(g-1)*(2*g-2)*(2*g-2)+1},easeInQuart:function(g){return g*g*g*g},easeOutQuart:function(g){return 1-(--g)*g*g*g},easeInOutQuart:function(g){return g<0.5?8*g*g*g*g:1-8*(--g)*g*g*g},easeInQuint:function(g){return g*g*g*g*g},easeOutQuint:function(g){return 1+(--g)*g*g*g*g},easeInOutQuint:function(g){return g<0.5?16*g*g*g*g*g:1+16*(--g)*g*g*g*g}}},function(b,a,c){a.prepareElements=function(e){for(var d in e){if(e.hasOwnProperty(d)){e[d].redundant=e[d].used;e[d].used=[]}}};a.cleanupElements=function(e){for(var d in e){if(e.hasOwnProperty(d)){if(e[d].redundant){for(var f=0;f<e[d].redundant.length;f++){e[d].redundant[f].parentNode.removeChild(e[d].redundant[f])}e[d].redundant=[]}}}};a.getSVGElement=function(e,d,g){var f;if(d.hasOwnProperty(e)){if(d[e].redundant.length>0){f=d[e].redundant[0];d[e].redundant.shift()}else{f=document.createElementNS("http://www.w3.org/2000/svg",e);g.appendChild(f)}}else{f=document.createElementNS("http://www.w3.org/2000/svg",e);d[e]={used:[],redundant:[]};g.appendChild(f)}d[e].used.push(f);return f};a.getDOMElement=function(f,e,d,g){var h;if(e.hasOwnProperty(f)){if(e[f].redundant.length>0){h=e[f].redundant[0];e[f].redundant.shift()}else{h=document.createElement(f);if(g!==undefined){d.insertBefore(h,g)}else{d.appendChild(h)}}}else{h=document.createElement(f);e[f]={used:[],redundant:[]};if(g!==undefined){d.insertBefore(h,g)}else{d.appendChild(h)}}e[f].used.push(h);return h};a.drawPoint=function(e,k,j,f,i,h){var d;if(j.options.drawPoints.style=="circle"){d=a.getSVGElement("circle",f,i);d.setAttributeNS(null,"cx",e);d.setAttributeNS(null,"cy",k);d.setAttributeNS(null,"r",0.5*j.options.drawPoints.size)}else{d=a.getSVGElement("rect",f,i);d.setAttributeNS(null,"x",e-0.5*j.options.drawPoints.size);d.setAttributeNS(null,"y",k-0.5*j.options.drawPoints.size);d.setAttributeNS(null,"width",j.options.drawPoints.size);d.setAttributeNS(null,"height",j.options.drawPoints.size)}if(j.options.drawPoints.styles!==undefined){d.setAttributeNS(null,"style",j.group.options.drawPoints.styles)}d.setAttributeNS(null,"class",j.className+" point");var g=a.getSVGElement("text",f,i);if(h){if(h.xOffset){e=e+h.xOffset}if(h.yOffset){k=k+h.yOffset}if(h.content){g.textContent=h.content}if(h.className){g.setAttributeNS(null,"class",h.className+" label")}}g.setAttributeNS(null,"x",e);g.setAttributeNS(null,"y",k);return d};a.drawBar=function(e,k,h,d,g,f,j){if(d!=0){if(d<0){d*=-1;k-=d}var i=a.getSVGElement("rect",f,j);i.setAttributeNS(null,"x",e-0.5*h);i.setAttributeNS(null,"y",k);i.setAttributeNS(null,"width",h);i.setAttributeNS(null,"height",d);i.setAttributeNS(null,"class",g)}}},function(d,c,f){var a=f(1);var e=f(5);function b(i,g){if(i&&!Array.isArray(i)&&!a.isDataTable(i)){g=i;i=null}this._options=g||{};this._data={};this.length=0;this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type){for(var j in this._options.type){if(this._options.type.hasOwnProperty(j)){var h=this._options.type[j];if(h=="Date"||h=="ISODate"||h=="ASPDate"){this._type[j]="Date"}else{this._type[j]=h}}}}if(this._options.convert){throw new Error('Option "convert" is deprecated. Use "type" instead.')}this._subscribers={};if(i){this.add(i)}this.setOptions(g)}b.prototype.setOptions=function(g){if(g&&g.queue!==undefined){if(g.queue===false){if(this._queue){this._queue.destroy();delete this._queue}}else{if(!this._queue){this._queue=e.extend(this,{replace:["add","update","remove"]})}if(typeof g.queue==="object"){this._queue.setOptions(g.queue)}}}};b.prototype.on=function(g,i){var h=this._subscribers[g];if(!h){h=[];this._subscribers[g]=h}h.push({callback:i})};b.prototype.subscribe=b.prototype.on;b.prototype.off=function(g,i){var h=this._subscribers[g];if(h){this._subscribers[g]=h.filter(function(j){return(j.callback!=i)})}};b.prototype.unsubscribe=b.prototype.off;b.prototype._trigger=function(j,m,l){if(j=="*"){throw new Error("Cannot trigger event *")}var k=[];if(j in this._subscribers){k=k.concat(this._subscribers[j])}if("*" in this._subscribers){k=k.concat(this._subscribers["*"])}for(var g=0;g<k.length;g++){var h=k[g];if(h.callback){h.callback(j,m,l||null)}}};b.prototype.add=function(k,r){var p=[],g,n=this;if(Array.isArray(k)){for(var l=0,m=k.length;l<m;l++){g=n._addItem(k[l]);p.push(g)}}else{if(a.isDataTable(k)){var j=this._getColumnNames(k);for(var u=0,t=k.getNumberOfRows();u<t;u++){var s={};for(var h=0,o=j.length;h<o;h++){var q=j[h];s[q]=k.getValue(u,h)}g=n._addItem(s);p.push(g)}}else{if(k instanceof Object){g=n._addItem(k);p.push(g)}else{throw new Error("Unknown dataType")}}}if(p.length){this._trigger("add",{items:p},r)}return p};b.prototype.update=function(m,t){var r=[];var u=[];var h=[];var p=this;var o=p._fieldId;var g=function(i){var y=i[o];if(p._data[y]){y=p._updateItem(i);u.push(y);h.push(i)}else{y=p._addItem(i);r.push(y)}};if(Array.isArray(m)){for(var l=0,n=m.length;l<n;l++){g(m[l])}}else{if(a.isDataTable(m)){var k=this._getColumnNames(m);for(var x=0,w=m.getNumberOfRows();x<w;x++){var v={};for(var j=0,q=k.length;j<q;j++){var s=k[j];v[s]=m.getValue(x,j)}g(v)}}else{if(m instanceof Object){g(m)}else{throw new Error("Unknown dataType")}}}if(r.length){this._trigger("add",{items:r},t)}if(u.length){this._trigger("update",{items:u,data:h},t)}return r.concat(u)};b.prototype.get=function(h){var y=this;var q,t,j,z;var l=a.getType(arguments[0]);if(l=="String"||l=="Number"){q=arguments[0];j=arguments[1];z=arguments[2]}else{if(l=="Array"){t=arguments[0];j=arguments[1];z=arguments[2]}else{j=arguments[0];z=arguments[1]}}var x;if(j&&j.returnType){var r=["DataTable","Array","Object"];x=r.indexOf(j.returnType)==-1?"Array":j.returnType;if(z&&(x!=a.getType(z))){throw new Error('Type of parameter "data" ('+a.getType(z)+") does not correspond with specified options.type ("+j.type+")")}if(x=="DataTable"&&!a.isDataTable(z)){throw new Error('Parameter "data" must be a DataTable when options.type is "DataTable"')}}else{if(z){x=(a.getType(z)=="DataTable")?"DataTable":"Array"}else{x="Array"}}var k=j&&j.type||this._options.type;var n=j&&j.filter;var p=[],w,o,u,v;if(q!=undefined){w=y._getItem(q,k);if(n&&!n(w)){w=null}}else{if(t!=undefined){for(u=0,v=t.length;u<v;u++){w=y._getItem(t[u],k);if(!n||n(w)){p.push(w)}}}else{for(o in this._data){if(this._data.hasOwnProperty(o)){w=y._getItem(o,k);if(!n||n(w)){p.push(w)}}}}}if(j&&j.order&&q==undefined){this._sort(p,j.order)}if(j&&j.fields){var s=j.fields;if(q!=undefined){w=this._filterFields(w,s)}else{for(u=0,v=p.length;u<v;u++){p[u]=this._filterFields(p[u],s)}}}if(x=="DataTable"){var g=this._getColumnNames(z);if(q!=undefined){y._appendRow(z,g,w)}else{for(u=0;u<p.length;u++){y._appendRow(z,g,p[u])}}return z}else{if(x=="Object"){var m={};for(u=0;u<p.length;u++){m[p[u].id]=p[u]}return m}else{if(q!=undefined){return w}else{if(z){for(u=0,v=p.length;u<v;u++){z.push(p[u])}return z}else{return p}}}}};b.prototype.getIds=function(r){var l=this._data,j=r&&r.filter,k=r&&r.order,p=r&&r.type||this._options.type,m,n,h,q,o,g=[];if(j){if(k){o=[];for(h in l){if(l.hasOwnProperty(h)){q=this._getItem(h,p);if(j(q)){o.push(q)}}}this._sort(o,k);for(m=0,n=o.length;m<n;m++){g[m]=o[m][this._fieldId]}}else{for(h in l){if(l.hasOwnProperty(h)){q=this._getItem(h,p);if(j(q)){g.push(q[this._fieldId])}}}}}else{if(k){o=[];for(h in l){if(l.hasOwnProperty(h)){o.push(l[h])}}this._sort(o,k);for(m=0,n=o.length;m<n;m++){g[m]=o[m][this._fieldId]}}else{for(h in l){if(l.hasOwnProperty(h)){q=l[h];g.push(q[this._fieldId])}}}}return g};b.prototype.getDataSet=function(){return this};b.prototype.forEach=function(o,q){var h=q&&q.filter,n=q&&q.type||this._options.type,k=this._data,p,g;if(q&&q.order){var m=this.get(q);for(var j=0,l=m.length;j<l;j++){p=m[j];g=p[this._fieldId];o(p,g)}}else{for(g in k){if(k.hasOwnProperty(g)){p=this._getItem(g,n);if(!h||h(p)){o(p,g)}}}}};b.prototype.map=function(n,h){var j=h&&h.filter,i=h&&h.type||this._options.type,g=[],l=this._data,k;for(var m in l){if(l.hasOwnProperty(m)){k=this._getItem(m,i);if(!j||j(k)){g.push(n(k,m))}}}if(h&&h.order){this._sort(g,h.order)}return g};b.prototype._filterFields=function(i,g){if(!i){return i}var h={};if(Array.isArray(g)){for(var j in i){if(i.hasOwnProperty(j)&&(g.indexOf(j)!=-1)){h[j]=i[j]}}}else{for(var j in i){if(i.hasOwnProperty(j)&&g.hasOwnProperty(j)){h[g[j]]=i[j]}}}return h};b.prototype._sort=function(h,g){if(a.isString(g)){var i=g;h.sort(function(l,k){var m=l[i];var j=k[i];return(m>j)?1:((m<j)?-1:0)})}else{if(typeof g==="function"){h.sort(g)}else{throw new TypeError("Order must be a function or a string")}}};b.prototype.remove=function(m,l){var k=[],j,g,h;if(Array.isArray(m)){for(j=0,g=m.length;j<g;j++){h=this._remove(m[j]);if(h!=null){k.push(h)}}}else{h=this._remove(m);if(h!=null){k.push(h)}}if(k.length){this._trigger("remove",{items:k},l)}return k};b.prototype._remove=function(h){if(a.isNumber(h)||a.isString(h)){if(this._data[h]){delete this._data[h];this.length--;return h}}else{if(h instanceof Object){var g=h[this._fieldId];if(g&&this._data[g]){delete this._data[g];this.length--;return g}}}return null};b.prototype.clear=function(h){var g=Object.keys(this._data);this._data={};this.length=0;this._trigger("remove",{items:g},h);return g};b.prototype.max=function(j){var i=this._data,g=null,k=null;for(var m in i){if(i.hasOwnProperty(m)){var h=i[m];var l=h[j];if(l!=null&&(!g||l>k)){g=h;k=l}}}return g};b.prototype.min=function(k){var i=this._data,g=null,j=null;for(var m in i){if(i.hasOwnProperty(m)){var h=i[m];var l=h[k];if(l!=null&&(!g||l<j)){g=h;j=l}}}return g};b.prototype.distinct=function(m){var h=this._data;var p=[];var k=this._options.type&&this._options.type[m]||null;var l=0;var j;for(var g in h){if(h.hasOwnProperty(g)){var q=h[g];var o=q[m];var n=false;for(j=0;j<l;j++){if(p[j]==o){n=true;break}}if(!n&&(o!==undefined)){p[l]=o;l++}}}if(k){for(j=0;j<p.length;j++){p[j]=a.convert(p[j],k)}}return p};b.prototype._addItem=function(h){var k=h[this._fieldId];if(k!=undefined){if(this._data[k]){throw new Error("Cannot add item: item with id "+k+" already exists")}}else{k=a.randomUUID();h[this._fieldId]=k}var j={};for(var i in h){if(h.hasOwnProperty(i)){var g=this._type[i];j[i]=a.convert(h[i],g)}}this._data[k]=j;this.length++;return k};b.prototype._getItem=function(l,h){var k,i;var g=this._data[l];if(!g){return null}var j={};if(h){for(k in g){if(g.hasOwnProperty(k)){i=g[k];j[k]=a.convert(i,h[k])}}}else{for(k in g){if(g.hasOwnProperty(k)){i=g[k];j[k]=i}}}return j};b.prototype._updateItem=function(h){var k=h[this._fieldId];if(k==undefined){throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(h)+")")}var j=this._data[k];if(!j){throw new Error("Cannot update item: no item with id "+k+" found")}for(var i in h){if(h.hasOwnProperty(i)){var g=this._type[i];j[i]=a.convert(h[i],g)}}return k};b.prototype._getColumnNames=function(i){var h=[];for(var g=0,j=i.getNumberOfColumns();g<j;g++){h[g]=i.getColumnId(g)||i.getColumnLabel(g)}return h};b.prototype._appendRow=function(j,h,i){var m=j.addRow();for(var g=0,l=h.length;g<l;g++){var k=h[g];j.setValue(m,g,i[k])}};d.exports=b},function(d,c,e){var a=e(1);var b=e(3);function f(i,g){this._data=null;this._ids={};this.length=0;this._options=g||{};this._fieldId="id";this._subscribers={};var h=this;this.listener=function(){h._onEvent.apply(h,arguments)};this.setData(i)}f.prototype.setData=function(k){var j,h,g;if(this._data){if(this._data.unsubscribe){this._data.unsubscribe("*",this.listener)}j=[];for(var l in this._ids){if(this._ids.hasOwnProperty(l)){j.push(l)}}this._ids={};this.length=0;this._trigger("remove",{items:j})}this._data=k;if(this._data){this._fieldId=this._options.fieldId||(this._data&&this._data.options&&this._data.options.fieldId)||"id";j=this._data.getIds({filter:this._options&&this._options.filter});for(h=0,g=j.length;h<g;h++){l=j[h];this._ids[l]=true}this.length=j.length;this._trigger("add",{items:j});if(this._data.on){this._data.on("*",this.listener)}}};f.prototype.refresh=function(){var m;var j=this._data.getIds({filter:this._options&&this._options.filter});var l={};var h=[];var k=[];for(var g=0;g<j.length;g++){m=j[g];l[m]=true;if(!this._ids[m]){h.push(m);this._ids[m]=true;this.length++}}for(m in this._ids){if(this._ids.hasOwnProperty(m)){if(!l[m]){k.push(m);delete this._ids[m];this.length--}}}if(h.length){this._trigger("add",{items:h})}if(k.length){this._trigger("remove",{items:k})}};f.prototype.get=function(i){var l=this;var k,h,n;var m=a.getType(arguments[0]);if(m=="String"||m=="Number"||m=="Array"){k=arguments[0];h=arguments[1];n=arguments[2]}else{h=arguments[0];n=arguments[1]}var g=a.extend({},this._options,h);if(this._options.filter&&h&&h.filter){g.filter=function(o){return l._options.filter(o)&&h.filter(o)}}var j=[];if(k!=undefined){j.push(k)}j.push(g);j.push(n);return this._data&&this._data.get.apply(this._data,j)};f.prototype.getIds=function(h){var j;if(this._data){var g=this._options.filter;var i;if(h&&h.filter){if(g){i=function(k){return g(k)&&h.filter(k)}}else{i=h.filter}}else{i=g}j=this._data.getIds({filter:i,order:h&&h.order})}else{j=[]}return j};f.prototype.getDataSet=function(){var g=this;while(g instanceof f){g=g._data}return g||null};f.prototype._onEvent=function(h,l,s){var n,q,j,t;var g=l&&l.items;var m=this._data;var k=[];var r=[];var o=[];var p=[];if(g&&m){switch(h){case"add":for(n=0,q=g.length;n<q;n++){j=g[n];t=this.get(j);if(t){this._ids[j]=true;r.push(j)}}break;case"update":for(n=0,q=g.length;n<q;n++){j=g[n];t=this.get(j);if(t){if(this._ids[j]){o.push(j);k.push(l.data[n])}else{this._ids[j]=true;r.push(j)}}else{if(this._ids[j]){delete this._ids[j];p.push(j)}else{}}}break;case"remove":for(n=0,q=g.length;n<q;n++){j=g[n];if(this._ids[j]){delete this._ids[j];p.push(j)}}break}this.length+=r.length-p.length;if(r.length){this._trigger("add",{items:r},s)}if(o.length){this._trigger("update",{items:o,data:k},s)}if(p.length){this._trigger("remove",{items:p},s)}}};f.prototype.on=b.prototype.on;f.prototype.off=b.prototype.off;f.prototype._trigger=b.prototype._trigger;f.prototype.subscribe=f.prototype.on;f.prototype.unsubscribe=f.prototype.off;d.exports=f},function(b,a,d){function c(e){this.delay=null;this.max=Infinity;this._queue=[];this._timeout=null;this._extended=null;this.setOptions(e)}c.prototype.setOptions=function(e){if(e&&typeof e.delay!=="undefined"){this.delay=e.delay}if(e&&typeof e.max!=="undefined"){this.max=e.max}this._flushIfNeeded()};c.extend=function(j,h){var e=new c(h);if(j.flush!==undefined){throw new Error("Target object already has a property flush")}j.flush=function(){e.flush()};var f=[{name:"flush",original:undefined}];if(h&&h.replace){for(var k=0;k<h.replace.length;k++){var g=h.replace[k];f.push({name:g,original:j[g]});e.replace(j,g)}}e._extended={object:j,methods:f};return e};c.prototype.destroy=function(){this.flush();if(this._extended){var f=this._extended.object;var e=this._extended.methods;for(var g=0;g<e.length;g++){var h=e[g];if(h.original){f[h.name]=h.original}else{delete f[h.name]}}this._extended=null}};c.prototype.replace=function(e,h){var g=this;var f=e[h];if(!f){throw new Error("Method "+h+" undefined")}e[h]=function(){var j=[];for(var k=0;k<arguments.length;k++){j[k]=arguments[k]}g.queue({args:j,fn:f,context:this})}};c.prototype.queue=function(e){if(typeof e==="function"){this._queue.push({fn:e})}else{this._queue.push(e)}this._flushIfNeeded()};c.prototype._flushIfNeeded=function(){if(this._queue.length>this.max){this.flush()}clearTimeout(this._timeout);if(this.queue.length>0&&typeof this.delay==="number"){var e=this;this._timeout=setTimeout(function(){e.flush()},this.delay)}};c.prototype.flush=function(){while(this._queue.length>0){var e=this._queue.shift();e.fn.apply(e.context||e.fn,e.args||[])}};b.exports=c},function(e,h,d){var n=d(56);var c=d(3);var k=d(4);var i=d(1);var m=d(10);var a=d(9);var l=d(7);var b=d(8);var g=d(11);var j=d(12);function f(q,t,s){if(!(this instanceof f)){throw new SyntaxError("Constructor must be called with the new operator")}this.containerElement=q;this.width="400px";this.height="400px";this.margin=10;this.defaultXCenter="55%";this.defaultYCenter="50%";this.xLabel="x";this.yLabel="y";this.zLabel="z";var r=function(u){return u};this.xValueLabel=r;this.yValueLabel=r;this.zValueLabel=r;this.filterLabel="time";this.legendLabel="value";this.style=f.STYLE.DOT;this.showPerspective=true;this.showGrid=true;this.keepAspectRatio=true;this.showShadow=false;this.showGrayBottom=false;this.showTooltip=false;this.verticalRatio=0.5;this.animationInterval=1000;this.animationPreload=false;this.camera=new l();this.eye=new m(0,0,-1);this.dataTable=null;this.dataPoints=null;this.colX=undefined;this.colY=undefined;this.colZ=undefined;this.colValue=undefined;this.colFilter=undefined;this.xMin=0;this.xStep=undefined;this.xMax=1;this.yMin=0;this.yStep=undefined;this.yMax=1;this.zMin=0;this.zStep=undefined;this.zMax=1;this.valueMin=0;this.valueMax=1;this.xBarWidth=1;this.yBarWidth=1;this.colorAxis="#4D4D4D";this.colorGrid="#D3D3D3";this.colorDot="#7DC1FF";this.colorDotBorder="#3267D2";this.create();this.setOptions(s);if(t){this.setData(t)}}n(f.prototype);f.prototype._setScale=function(){this.scale=new m(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin));if(this.keepAspectRatio){if(this.scale.x<this.scale.y){this.scale.y=this.scale.x}else{this.scale.x=this.scale.y}}this.scale.z*=this.verticalRatio;this.scale.value=1/(this.valueMax-this.valueMin);var r=(this.xMax+this.xMin)/2*this.scale.x;var s=(this.yMax+this.yMin)/2*this.scale.y;var q=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(r,s,q)};f.prototype._convert3Dto2D=function(q){var r=this._convertPointToTranslation(q);return this._convertTranslationToScreen(r)};f.prototype._convertPointToTranslation=function(s){var r=s.x*this.scale.x,F=s.y*this.scale.y,B=s.z*this.scale.z,w=this.camera.getCameraLocation().x,v=this.camera.getCameraLocation().y,u=this.camera.getCameraLocation().z,t=Math.sin(this.camera.getCameraRotation().x),E=Math.cos(this.camera.getCameraRotation().x),q=Math.sin(this.camera.getCameraRotation().y),A=Math.cos(this.camera.getCameraRotation().y),D=Math.sin(this.camera.getCameraRotation().z),y=Math.cos(this.camera.getCameraRotation().z),C=A*(D*(F-v)+y*(r-w))-q*(B-u),z=t*(A*(B-u)+q*(D*(F-v)+y*(r-w)))+E*(y*(F-v)-D*(r-w)),x=E*(A*(B-u)+q*(D*(F-v)+y*(r-w)))-t*(y*(F-v)-D*(r-w));return new m(C,z,x)};f.prototype._convertTranslationToScreen=function(q){var u=this.eye.x,s=this.eye.y,r=this.eye.z,y=q.x,x=q.y,w=q.z;var v;var t;if(this.showPerspective){v=(y-u)*(r/w);t=(x-s)*(r/w)}else{v=y*-(r/this.camera.getArmLength());t=x*-(r/this.camera.getArmLength())}return new a(this.xcenter+v*this.frame.canvas.clientWidth,this.ycenter-t*this.frame.canvas.clientWidth)};f.prototype._setBackgroundColor=function(q){var s="white";var r="gray";var t=1;if(typeof(q)==="string"){s=q;r="none";t=0}else{if(typeof(q)==="object"){if(q.fill!==undefined){s=q.fill}if(q.stroke!==undefined){r=q.stroke}if(q.strokeWidth!==undefined){t=q.strokeWidth}}else{if(q===undefined){}else{throw"Unsupported type of backgroundColor"}}}this.frame.style.backgroundColor=s;this.frame.style.borderColor=r;this.frame.style.borderWidth=t+"px";this.frame.style.borderStyle="solid"};f.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};f.prototype._getStyleNumber=function(q){switch(q){case"dot":return f.STYLE.DOT;case"dot-line":return f.STYLE.DOTLINE;case"dot-color":return f.STYLE.DOTCOLOR;case"dot-size":return f.STYLE.DOTSIZE;case"line":return f.STYLE.LINE;case"grid":return f.STYLE.GRID;case"surface":return f.STYLE.SURFACE;case"bar":return f.STYLE.BAR;case"bar-color":return f.STYLE.BARCOLOR;case"bar-size":return f.STYLE.BARSIZE}return -1};f.prototype._determineColumnIndexes=function(r,q){if(this.style===f.STYLE.DOT||this.style===f.STYLE.DOTLINE||this.style===f.STYLE.LINE||this.style===f.STYLE.GRID||this.style===f.STYLE.SURFACE||this.style===f.STYLE.BAR){this.colX=0;this.colY=1;this.colZ=2;this.colValue=undefined;if(r.getNumberOfColumns()>3){this.colFilter=3}}else{if(this.style===f.STYLE.DOTCOLOR||this.style===f.STYLE.DOTSIZE||this.style===f.STYLE.BARCOLOR||this.style===f.STYLE.BARSIZE){this.colX=0;this.colY=1;this.colZ=2;this.colValue=3;if(r.getNumberOfColumns()>4){this.colFilter=4}}else{throw'Unknown style "'+this.style+'"'}}};f.prototype.getNumberOfRows=function(q){return q.length};f.prototype.getNumberOfColumns=function(s){var q=0;for(var r in s[0]){if(s[0].hasOwnProperty(r)){q++}}return q};f.prototype.getDistinctValues=function(t,r){var s=[];for(var q=0;q<t.length;q++){if(s.indexOf(t[q][r])==-1){s.push(t[q][r])}}return s};f.prototype.getColumnRange=function(t,s){var q={min:t[0][s],max:t[0][s]};for(var r=0;r<t.length;r++){if(q.min>t[r][s]){q.min=t[r][s]}if(q.max<t[r][s]){q.max=t[r][s]}}return q};f.prototype._dataInitialize=function(q,s){var A=this;if(this.dataSet){this.dataSet.off("*",this._onChange)}if(q===undefined){return}if(Array.isArray(q)){q=new c(q)}var v;if(q instanceof c||q instanceof k){v=q.get()}else{throw new Error("Array, DataSet, or DataView expected")}if(v.length==0){return}this.dataSet=q;this.dataTable=v;this._onChange=function(){A.setData(A.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";this.colValue="style";this.colFilter="filter";if(v[0].hasOwnProperty("filter")){if(this.dataFilter===undefined){this.dataFilter=new b(q,this.colFilter,this);this.dataFilter.setOnLoadCallback(function(){A.redraw()})}}var u=this.style==f.STYLE.BAR||this.style==f.STYLE.BARCOLOR||this.style==f.STYLE.BARSIZE;if(u){if(this.defaultXBarWidth!==undefined){this.xBarWidth=this.defaultXBarWidth}else{var z=this.getDistinctValues(v,this.colX);this.xBarWidth=(z[1]-z[0])||1}if(this.defaultYBarWidth!==undefined){this.yBarWidth=this.defaultYBarWidth}else{var w=this.getDistinctValues(v,this.colY);this.yBarWidth=(w[1]-w[0])||1}}var r=this.getColumnRange(v,this.colX);if(u){r.min-=this.xBarWidth/2;r.max+=this.xBarWidth/2}this.xMin=(this.defaultXMin!==undefined)?this.defaultXMin:r.min;this.xMax=(this.defaultXMax!==undefined)?this.defaultXMax:r.max;if(this.xMax<=this.xMin){this.xMax=this.xMin+1}this.xStep=(this.defaultXStep!==undefined)?this.defaultXStep:(this.xMax-this.xMin)/5;var t=this.getColumnRange(v,this.colY);if(u){t.min-=this.yBarWidth/2;t.max+=this.yBarWidth/2}this.yMin=(this.defaultYMin!==undefined)?this.defaultYMin:t.min;this.yMax=(this.defaultYMax!==undefined)?this.defaultYMax:t.max;if(this.yMax<=this.yMin){this.yMax=this.yMin+1}this.yStep=(this.defaultYStep!==undefined)?this.defaultYStep:(this.yMax-this.yMin)/5;var y=this.getColumnRange(v,this.colZ);this.zMin=(this.defaultZMin!==undefined)?this.defaultZMin:y.min;this.zMax=(this.defaultZMax!==undefined)?this.defaultZMax:y.max;if(this.zMax<=this.zMin){this.zMax=this.zMin+1}this.zStep=(this.defaultZStep!==undefined)?this.defaultZStep:(this.zMax-this.zMin)/5;if(this.colValue!==undefined){var x=this.getColumnRange(v,this.colValue);this.valueMin=(this.defaultValueMin!==undefined)?this.defaultValueMin:x.min;this.valueMax=(this.defaultValueMax!==undefined)?this.defaultValueMax:x.max;if(this.valueMax<=this.valueMin){this.valueMax=this.valueMin+1}}this._setScale()};f.prototype._getDataPoints=function(v){var F,D,w,C,u,G;var H=[];if(this.style===f.STYLE.GRID||this.style===f.STYLE.SURFACE){var B=[];var A=[];for(w=0;w<this.getNumberOfRows(v);w++){F=v[w][this.colX]||0;D=v[w][this.colY]||0;if(B.indexOf(F)===-1){B.push(F)}if(A.indexOf(D)===-1){A.push(D)}}var s=function(y,x){return y-x};B.sort(s);A.sort(s);var E=[];for(w=0;w<v.length;w++){F=v[w][this.colX]||0;D=v[w][this.colY]||0;C=v[w][this.colZ]||0;var r=B.indexOf(F);var t=A.indexOf(D);if(E[r]===undefined){E[r]=[]}var q=new m();q.x=F;q.y=D;q.z=C;u={};u.point=q;u.trans=undefined;u.screen=undefined;u.bottom=new m(F,D,this.zMin);E[r][t]=u;H.push(u)}for(F=0;F<E.length;F++){for(D=0;D<E[F].length;D++){if(E[F][D]){E[F][D].pointRight=(F<E.length-1)?E[F+1][D]:undefined;E[F][D].pointTop=(D<E[F].length-1)?E[F][D+1]:undefined;E[F][D].pointCross=(F<E.length-1&&D<E[F].length-1)?E[F+1][D+1]:undefined}}}}else{for(w=0;w<v.length;w++){G=new m();G.x=v[w][this.colX]||0;G.y=v[w][this.colY]||0;G.z=v[w][this.colZ]||0;if(this.colValue!==undefined){G.value=v[w][this.colValue]||0}u={};u.point=G;u.bottom=new m(G.x,G.y,this.zMin);u.trans=undefined;u.screen=undefined;H.push(u)}}return H};f.prototype.create=function(){while(this.containerElement.hasChildNodes()){this.containerElement.removeChild(this.containerElement.firstChild)}this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);var v=document.createElement("DIV");v.style.color="red";v.style.fontWeight="bold";v.style.padding="10px";v.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(v);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var t=this;var r=function(w){t._onMouseDown(w)};var s=function(w){t._onTouchStart(w)};var u=function(w){t._onWheel(w)};var q=function(w){t._onTooltip(w)};i.addEventListener(this.frame.canvas,"keydown",onkeydown);i.addEventListener(this.frame.canvas,"mousedown",r);i.addEventListener(this.frame.canvas,"touchstart",s);i.addEventListener(this.frame.canvas,"mousewheel",u);i.addEventListener(this.frame.canvas,"mousemove",q);this.containerElement.appendChild(this.frame)};f.prototype.setSize=function(r,q){this.frame.style.width=r;this.frame.style.height=q;this._resizeCanvas()};f.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=(this.frame.canvas.clientWidth-2*10)+"px"};f.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider){throw"No animation available"}this.frame.filter.slider.play()};f.prototype.animationStop=function(){if(!this.frame.filter||!this.frame.filter.slider){return}this.frame.filter.slider.stop()};f.prototype._resizeCenter=function(){if(this.defaultXCenter.charAt(this.defaultXCenter.length-1)==="%"){this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth}else{this.xcenter=parseFloat(this.defaultXCenter)}if(this.defaultYCenter.charAt(this.defaultYCenter.length-1)==="%"){this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight)}else{this.ycenter=parseFloat(this.defaultYCenter)}};f.prototype.setCameraPosition=function(q){if(q===undefined){return}if(q.horizontal!==undefined&&q.vertical!==undefined){this.camera.setArmRotation(q.horizontal,q.vertical)}if(q.distance!==undefined){this.camera.setArmLength(q.distance)}this.redraw()};f.prototype.getCameraPosition=function(){var q=this.camera.getArmRotation();q.distance=this.camera.getArmLength();return q};f.prototype._readData=function(q){this._dataInitialize(q,this.style);if(this.dataFilter){this.dataPoints=this.dataFilter._getDataPoints()}else{this.dataPoints=this._getDataPoints(this.dataTable)}this._redrawFilter()};f.prototype.setData=function(q){this._readData(q);this.redraw();if(this.animationAutoStart&&this.dataFilter){this.animationStart()}};f.prototype.setOptions=function(q){var s=undefined;this.animationStop();if(q!==undefined){if(q.width!==undefined){this.width=q.width}if(q.height!==undefined){this.height=q.height}if(q.xCenter!==undefined){this.defaultXCenter=q.xCenter}if(q.yCenter!==undefined){this.defaultYCenter=q.yCenter}if(q.filterLabel!==undefined){this.filterLabel=q.filterLabel}if(q.legendLabel!==undefined){this.legendLabel=q.legendLabel}if(q.xLabel!==undefined){this.xLabel=q.xLabel}if(q.yLabel!==undefined){this.yLabel=q.yLabel}if(q.zLabel!==undefined){this.zLabel=q.zLabel}if(q.xValueLabel!==undefined){this.xValueLabel=q.xValueLabel}if(q.yValueLabel!==undefined){this.yValueLabel=q.yValueLabel}if(q.zValueLabel!==undefined){this.zValueLabel=q.zValueLabel}if(q.style!==undefined){var r=this._getStyleNumber(q.style);if(r!==-1){this.style=r}}if(q.showGrid!==undefined){this.showGrid=q.showGrid}if(q.showPerspective!==undefined){this.showPerspective=q.showPerspective}if(q.showShadow!==undefined){this.showShadow=q.showShadow}if(q.tooltip!==undefined){this.showTooltip=q.tooltip}if(q.showAnimationControls!==undefined){this.showAnimationControls=q.showAnimationControls}if(q.keepAspectRatio!==undefined){this.keepAspectRatio=q.keepAspectRatio}if(q.verticalRatio!==undefined){this.verticalRatio=q.verticalRatio}if(q.animationInterval!==undefined){this.animationInterval=q.animationInterval}if(q.animationPreload!==undefined){this.animationPreload=q.animationPreload}if(q.animationAutoStart!==undefined){this.animationAutoStart=q.animationAutoStart}if(q.xBarWidth!==undefined){this.defaultXBarWidth=q.xBarWidth}if(q.yBarWidth!==undefined){this.defaultYBarWidth=q.yBarWidth}if(q.xMin!==undefined){this.defaultXMin=q.xMin}if(q.xStep!==undefined){this.defaultXStep=q.xStep}if(q.xMax!==undefined){this.defaultXMax=q.xMax}if(q.yMin!==undefined){this.defaultYMin=q.yMin}if(q.yStep!==undefined){this.defaultYStep=q.yStep}if(q.yMax!==undefined){this.defaultYMax=q.yMax}if(q.zMin!==undefined){this.defaultZMin=q.zMin}if(q.zStep!==undefined){this.defaultZStep=q.zStep}if(q.zMax!==undefined){this.defaultZMax=q.zMax}if(q.valueMin!==undefined){this.defaultValueMin=q.valueMin}if(q.valueMax!==undefined){this.defaultValueMax=q.valueMax}if(q.cameraPosition!==undefined){s=q.cameraPosition}if(s!==undefined){this.camera.setArmRotation(s.horizontal,s.vertical);this.camera.setArmLength(s.distance)}else{this.camera.setArmRotation(1,0.5);this.camera.setArmLength(1.7)}}this._setBackgroundColor(q&&q.backgroundColor);this.setSize(this.width,this.height);if(this.dataTable){this.setData(this.dataTable)}if(this.animationAutoStart&&this.dataFilter){this.animationStart()}};f.prototype.redraw=function(){if(this.dataPoints===undefined){throw"Error: graph data not initialized"}this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();if(this.style===f.STYLE.GRID||this.style===f.STYLE.SURFACE){this._redrawDataGrid()}else{if(this.style===f.STYLE.LINE){this._redrawDataLine()}else{if(this.style===f.STYLE.BAR||this.style===f.STYLE.BARCOLOR||this.style===f.STYLE.BARSIZE){this._redrawDataBar()}else{this._redrawDataDot()}}}this._redrawInfo();this._redrawLegend()};f.prototype._redrawClear=function(){var r=this.frame.canvas;var q=r.getContext("2d");q.clearRect(0,0,r.width,r.height)};f.prototype._redrawLegend=function(){var x;if(this.style===f.STYLE.DOTCOLOR||this.style===f.STYLE.DOTSIZE){var q=this.frame.clientWidth*0.02;var z,A;if(this.style===f.STYLE.DOTSIZE){z=q/2;A=q/2+q*2}else{z=20;A=20}var C=Math.max(this.frame.clientHeight*0.25,100);var B=this.margin;var J=this.frame.clientWidth-this.margin;var t=J-A;var v=B+C}var r=this.frame.canvas;var D=r.getContext("2d");D.lineWidth=1;D.font="14px arial";if(this.style===f.STYLE.DOTCOLOR){var E=0;var G=C;for(x=E;x<G;x++){var I=(x-E)/(G-E);var s=I*240;var F=this._hsv2rgb(s,1,1);D.strokeStyle=F;D.beginPath();D.moveTo(t,B+x);D.lineTo(J,B+x);D.stroke()}D.strokeStyle=this.colorAxis;D.strokeRect(t,B,A,C)}if(this.style===f.STYLE.DOTSIZE){D.strokeStyle=this.colorAxis;D.fillStyle=this.colorDot;D.beginPath();D.moveTo(t,B);D.lineTo(J,B);D.lineTo(J-A+z,v);D.lineTo(t,v);D.closePath();D.fill();D.stroke()}if(this.style===f.STYLE.DOTCOLOR||this.style===f.STYLE.DOTSIZE){var H=5;var u=new j(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,true);u.start();if(u.getCurrent()<this.valueMin){u.next()}while(!u.end()){x=v-(u.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*C;D.beginPath();D.moveTo(t-H,x);D.lineTo(t,x);D.stroke();D.textAlign="right";D.textBaseline="middle";D.fillStyle=this.colorAxis;D.fillText(u.getCurrent(),t-2*H,x);u.next()}D.textAlign="right";D.textBaseline="top";var w=this.legendLabel;D.fillText(w,J,v+this.margin)}};f.prototype._redrawFilter=function(){this.frame.filter.innerHTML="";if(this.dataFilter){var r={visible:this.showAnimationControls};var t=new g(this.frame.filter,r);this.frame.filter.slider=t;this.frame.filter.style.padding="10px";t.setValues(this.dataFilter.values);t.setPlayInterval(this.animationInterval);var s=this;var q=function(){var u=t.getIndex();s.dataFilter.selectValue(u);s.dataPoints=s.dataFilter._getDataPoints();s.redraw()};t.setOnChangeCallback(q)}else{this.frame.filter.slider=undefined}};f.prototype._redrawSlider=function(){if(this.frame.filter.slider!==undefined){this.frame.filter.slider.redraw()}};f.prototype._redrawInfo=function(){if(this.dataFilter){var s=this.frame.canvas;var r=s.getContext("2d");r.font="14px arial";r.lineStyle="gray";r.fillStyle="gray";r.textAlign="left";r.textBaseline="top";var q=this.margin;var t=this.margin;r.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),q,t)}};f.prototype._redrawAxis=function(){var t=this.frame.canvas,I=t.getContext("2d"),J,s,v,F,E,K,B,r,u,L,z,H,N;I.font=24/this.camera.getArmLength()+"px arial";var y=0.025/this.scale.x;var w=0.025/this.scale.y;var M=5/this.camera.getArmLength();var q=this.camera.getArmRotation().horizontal;I.lineWidth=1;F=(this.defaultXStep===undefined);v=new j(this.xMin,this.xMax,this.xStep,F);v.start();if(v.getCurrent()<this.xMin){v.next()}while(!v.end()){var C=v.getCurrent();if(this.showGrid){J=this._convert3Dto2D(new m(C,this.yMin,this.zMin));s=this._convert3Dto2D(new m(C,this.yMax,this.zMin));I.strokeStyle=this.colorGrid;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke()}else{J=this._convert3Dto2D(new m(C,this.yMin,this.zMin));s=this._convert3Dto2D(new m(C,this.yMin+y,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke();J=this._convert3Dto2D(new m(C,this.yMax,this.zMin));s=this._convert3Dto2D(new m(C,this.yMax-y,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke()}B=(Math.cos(q)>0)?this.yMin:this.yMax;E=this._convert3Dto2D(new m(C,B,this.zMin));if(Math.cos(q*2)>0){I.textAlign="center";I.textBaseline="top";E.y+=M}else{if(Math.sin(q*2)<0){I.textAlign="right";I.textBaseline="middle"}else{I.textAlign="left";I.textBaseline="middle"}}I.fillStyle=this.colorAxis;I.fillText("  "+this.xValueLabel(v.getCurrent())+"  ",E.x,E.y);v.next()}I.lineWidth=1;F=(this.defaultYStep===undefined);v=new j(this.yMin,this.yMax,this.yStep,F);v.start();if(v.getCurrent()<this.yMin){v.next()}while(!v.end()){if(this.showGrid){J=this._convert3Dto2D(new m(this.xMin,v.getCurrent(),this.zMin));s=this._convert3Dto2D(new m(this.xMax,v.getCurrent(),this.zMin));I.strokeStyle=this.colorGrid;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke()}else{J=this._convert3Dto2D(new m(this.xMin,v.getCurrent(),this.zMin));s=this._convert3Dto2D(new m(this.xMin+w,v.getCurrent(),this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke();J=this._convert3Dto2D(new m(this.xMax,v.getCurrent(),this.zMin));s=this._convert3Dto2D(new m(this.xMax-w,v.getCurrent(),this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke()}K=(Math.sin(q)>0)?this.xMin:this.xMax;E=this._convert3Dto2D(new m(K,v.getCurrent(),this.zMin));if(Math.cos(q*2)<0){I.textAlign="center";I.textBaseline="top";E.y+=M}else{if(Math.sin(q*2)>0){I.textAlign="right";I.textBaseline="middle"}else{I.textAlign="left";I.textBaseline="middle"}}I.fillStyle=this.colorAxis;I.fillText("  "+this.yValueLabel(v.getCurrent())+"  ",E.x,E.y);v.next()}I.lineWidth=1;F=(this.defaultZStep===undefined);v=new j(this.zMin,this.zMax,this.zStep,F);v.start();if(v.getCurrent()<this.zMin){v.next()}K=(Math.cos(q)>0)?this.xMin:this.xMax;B=(Math.sin(q)<0)?this.yMin:this.yMax;while(!v.end()){J=this._convert3Dto2D(new m(K,B,v.getCurrent()));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(J.x-M,J.y);I.stroke();I.textAlign="right";I.textBaseline="middle";I.fillStyle=this.colorAxis;I.fillText(this.zValueLabel(v.getCurrent())+" ",J.x-5,J.y);v.next()}I.lineWidth=1;J=this._convert3Dto2D(new m(K,B,this.zMin));s=this._convert3Dto2D(new m(K,B,this.zMax));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke();I.lineWidth=1;H=this._convert3Dto2D(new m(this.xMin,this.yMin,this.zMin));N=this._convert3Dto2D(new m(this.xMax,this.yMin,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(H.x,H.y);I.lineTo(N.x,N.y);I.stroke();H=this._convert3Dto2D(new m(this.xMin,this.yMax,this.zMin));N=this._convert3Dto2D(new m(this.xMax,this.yMax,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(H.x,H.y);I.lineTo(N.x,N.y);I.stroke();I.lineWidth=1;J=this._convert3Dto2D(new m(this.xMin,this.yMin,this.zMin));s=this._convert3Dto2D(new m(this.xMin,this.yMax,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke();J=this._convert3Dto2D(new m(this.xMax,this.yMin,this.zMin));s=this._convert3Dto2D(new m(this.xMax,this.yMax,this.zMin));I.strokeStyle=this.colorAxis;I.beginPath();I.moveTo(J.x,J.y);I.lineTo(s.x,s.y);I.stroke();var A=this.xLabel;if(A.length>0){z=0.1/this.scale.y;K=(this.xMin+this.xMax)/2;B=(Math.cos(q)>0)?this.yMin-z:this.yMax+z;E=this._convert3Dto2D(new m(K,B,this.zMin));if(Math.cos(q*2)>0){I.textAlign="center";I.textBaseline="top"}else{if(Math.sin(q*2)<0){I.textAlign="right";I.textBaseline="middle"}else{I.textAlign="left";I.textBaseline="middle"}}I.fillStyle=this.colorAxis;I.fillText(A,E.x,E.y)}var D=this.yLabel;if(D.length>0){L=0.1/this.scale.x;K=(Math.sin(q)>0)?this.xMin-L:this.xMax+L;B=(this.yMin+this.yMax)/2;E=this._convert3Dto2D(new m(K,B,this.zMin));if(Math.cos(q*2)<0){I.textAlign="center";I.textBaseline="top"}else{if(Math.sin(q*2)>0){I.textAlign="right";I.textBaseline="middle"}else{I.textAlign="left";I.textBaseline="middle"}}I.fillStyle=this.colorAxis;I.fillText(D,E.x,E.y)}var G=this.zLabel;if(G.length>0){u=30;K=(Math.cos(q)>0)?this.xMin:this.xMax;B=(Math.sin(q)<0)?this.yMin:this.yMax;r=(this.zMin+this.zMax)/2;E=this._convert3Dto2D(new m(K,B,r));I.textAlign="right";I.textBaseline="middle";I.fillStyle=this.colorAxis;I.fillText(G,E.x-u,E.y)}};f.prototype._hsv2rgb=function(x,v,t){var w,y,r,q,u,s;q=t*v;u=Math.floor(x/60);s=q*(1-Math.abs(((x/60)%2)-1));switch(u){case 0:w=q;y=s;r=0;break;case 1:w=s;y=q;r=0;break;case 2:w=0;y=q;r=s;break;case 3:w=0;y=s;r=q;break;case 4:w=s;y=0;r=q;break;case 5:w=q;y=0;r=s;break;default:w=0;y=0;r=0;break}return"RGB("+parseInt(w*255)+","+parseInt(y*255)+","+parseInt(r*255)+")"};f.prototype._redrawDataGrid=function(){var y=this.frame.canvas,H=y.getContext("2d"),I,O,F,x,K,r,B,J,q,M,E,D,u;if(this.dataPoints===undefined||this.dataPoints.length<=0){return}for(K=0;K<this.dataPoints.length;K++){var z=this._convertPointToTranslation(this.dataPoints[K].point);var t=this._convertTranslationToScreen(z);this.dataPoints[K].trans=z;this.dataPoints[K].screen=t;var C=this._convertPointToTranslation(this.dataPoints[K].bottom);this.dataPoints[K].dist=this.showPerspective?C.length():-C.z}var N=function(v,s){return s.dist-v.dist};this.dataPoints.sort(N);if(this.style===f.STYLE.SURFACE){for(K=0;K<this.dataPoints.length;K++){I=this.dataPoints[K];O=this.dataPoints[K].pointRight;F=this.dataPoints[K].pointTop;x=this.dataPoints[K].pointCross;if(I!==undefined&&O!==undefined&&F!==undefined&&x!==undefined){if(this.showGrayBottom||this.showShadow){var G=m.subtract(x.trans,I.trans);var A=m.subtract(F.trans,O.trans);var w=m.crossProduct(G,A);var L=w.length();r=(w.z>0)}else{r=true}if(r){u=(I.point.z+O.point.z+F.point.z+x.point.z)/4;M=(1-(u-this.zMin)*this.scale.z/this.verticalRatio)*240;E=1;if(this.showShadow){D=Math.min(1+(w.x/L)/2,1);B=this._hsv2rgb(M,E,D);J=B}else{D=1;B=this._hsv2rgb(M,E,D);J=this.colorAxis}}else{B="gray";J=this.colorAxis}q=0.5;H.lineWidth=q;H.fillStyle=B;H.strokeStyle=J;H.beginPath();H.moveTo(I.screen.x,I.screen.y);H.lineTo(O.screen.x,O.screen.y);H.lineTo(x.screen.x,x.screen.y);H.lineTo(F.screen.x,F.screen.y);H.closePath();H.fill();H.stroke()}}}else{for(K=0;K<this.dataPoints.length;K++){I=this.dataPoints[K];O=this.dataPoints[K].pointRight;F=this.dataPoints[K].pointTop;if(I!==undefined){if(this.showPerspective){q=2/-I.trans.z}else{q=2*-(this.eye.z/this.camera.getArmLength())}}if(I!==undefined&&O!==undefined){u=(I.point.z+O.point.z)/2;M=(1-(u-this.zMin)*this.scale.z/this.verticalRatio)*240;H.lineWidth=q;H.strokeStyle=this._hsv2rgb(M,1,1);H.beginPath();H.moveTo(I.screen.x,I.screen.y);H.lineTo(O.screen.x,O.screen.y);H.stroke()}if(I!==undefined&&F!==undefined){u=(I.point.z+F.point.z)/2;M=(1-(u-this.zMin)*this.scale.z/this.verticalRatio)*240;H.lineWidth=q;H.strokeStyle=this._hsv2rgb(M,1,1);H.beginPath();H.moveTo(I.screen.x,I.screen.y);H.lineTo(F.screen.x,F.screen.y);H.stroke()}}}};f.prototype._redrawDataDot=function(){var q=this.frame.canvas;var C=q.getContext("2d");var v;if(this.dataPoints===undefined||this.dataPoints.length<=0){return}for(v=0;v<this.dataPoints.length;v++){var E=this._convertPointToTranslation(this.dataPoints[v].point);var B=this._convertTranslationToScreen(E);this.dataPoints[v].trans=E;this.dataPoints[v].screen=B;var r=this._convertPointToTranslation(this.dataPoints[v].bottom);this.dataPoints[v].dist=this.showPerspective?r.length():-r.z}var u=function(G,F){return F.dist-G.dist};this.dataPoints.sort(u);var w=this.frame.clientWidth*0.02;for(v=0;v<this.dataPoints.length;v++){var A=this.dataPoints[v];if(this.style===f.STYLE.DOTLINE){var z=this._convert3Dto2D(A.bottom);C.lineWidth=1;C.strokeStyle=this.colorGrid;C.beginPath();C.moveTo(z.x,z.y);C.lineTo(A.screen.x,A.screen.y);C.stroke()}var D;if(this.style===f.STYLE.DOTSIZE){D=w/2+2*w*(A.point.value-this.valueMin)/(this.valueMax-this.valueMin)}else{D=w}var y;if(this.showPerspective){y=D/-A.trans.z}else{y=D*-(this.eye.z/this.camera.getArmLength())}if(y<0){y=0}var x,t,s;if(this.style===f.STYLE.DOTCOLOR){x=(1-(A.point.value-this.valueMin)*this.scale.value)*240;t=this._hsv2rgb(x,1,1);s=this._hsv2rgb(x,1,0.8)}else{if(this.style===f.STYLE.DOTSIZE){t=this.colorDot;s=this.colorDotBorder}else{x=(1-(A.point.z-this.zMin)*this.scale.z/this.verticalRatio)*240;t=this._hsv2rgb(x,1,1);s=this._hsv2rgb(x,1,0.8)}}C.lineWidth=1;C.strokeStyle=s;C.fillStyle=t;C.beginPath();C.arc(A.screen.x,A.screen.y,y,0,Math.PI*2,true);C.fill();C.stroke()}};f.prototype._redrawDataBar=function(){var s=this.frame.canvas;var C=s.getContext("2d");var G,F,B,A;if(this.dataPoints===undefined||this.dataPoints.length<=0){return}for(G=0;G<this.dataPoints.length;G++){var t=this._convertPointToTranslation(this.dataPoints[G].point);var r=this._convertTranslationToScreen(t);this.dataPoints[G].trans=t;this.dataPoints[G].screen=r;var v=this._convertPointToTranslation(this.dataPoints[G].bottom);this.dataPoints[G].dist=this.showPerspective?v.length():-v.z}var J=function(N,M){return M.dist-N.dist};this.dataPoints.sort(J);var z=this.xBarWidth/2;var H=this.yBarWidth/2;for(G=0;G<this.dataPoints.length;G++){var D=this.dataPoints[G];var u,E,q;if(this.style===f.STYLE.BARCOLOR){u=(1-(D.point.value-this.valueMin)*this.scale.value)*240;E=this._hsv2rgb(u,1,1);q=this._hsv2rgb(u,1,0.8)}else{if(this.style===f.STYLE.BARSIZE){E=this.colorDot;q=this.colorDotBorder}else{u=(1-(D.point.z-this.zMin)*this.scale.z/this.verticalRatio)*240;E=this._hsv2rgb(u,1,1);q=this._hsv2rgb(u,1,0.8)}}if(this.style===f.STYLE.BARSIZE){z=(this.xBarWidth/2)*((D.point.value-this.valueMin)/(this.valueMax-this.valueMin)*0.8+0.2);H=(this.yBarWidth/2)*((D.point.value-this.valueMin)/(this.valueMax-this.valueMin)*0.8+0.2)}var K=this;var L=D.point;var y=[{point:new m(L.x-z,L.y-H,L.z)},{point:new m(L.x+z,L.y-H,L.z)},{point:new m(L.x+z,L.y+H,L.z)},{point:new m(L.x-z,L.y+H,L.z)}];var w=[{point:new m(L.x-z,L.y-H,this.zMin)},{point:new m(L.x+z,L.y-H,this.zMin)},{point:new m(L.x+z,L.y+H,this.zMin)},{point:new m(L.x-z,L.y+H,this.zMin)}];y.forEach(function(M){M.screen=K._convert3Dto2D(M.point)});w.forEach(function(M){M.screen=K._convert3Dto2D(M.point)});var x=[{corners:y,center:m.avg(w[0].point,w[2].point)},{corners:[y[0],y[1],w[1],w[0]],center:m.avg(w[1].point,w[0].point)},{corners:[y[1],y[2],w[2],w[1]],center:m.avg(w[2].point,w[1].point)},{corners:[y[2],y[3],w[3],w[2]],center:m.avg(w[3].point,w[2].point)},{corners:[y[3],y[0],w[0],w[3]],center:m.avg(w[0].point,w[3].point)}];D.surfaces=x;for(F=0;F<x.length;F++){B=x[F];var I=this._convertPointToTranslation(B.center);B.dist=this.showPerspective?I.length():-I.z}x.sort(function(N,M){var O=M.dist-N.dist;if(O){return O}if(N.corners===y){return 1}if(M.corners===y){return -1}return 0});C.lineWidth=1;C.strokeStyle=q;C.fillStyle=E;for(F=2;F<x.length;F++){B=x[F];A=B.corners;C.beginPath();C.moveTo(A[3].screen.x,A[3].screen.y);C.lineTo(A[0].screen.x,A[0].screen.y);C.lineTo(A[1].screen.x,A[1].screen.y);C.lineTo(A[2].screen.x,A[2].screen.y);C.lineTo(A[3].screen.x,A[3].screen.y);C.fill();C.stroke()}}};f.prototype._redrawDataLine=function(){var t=this.frame.canvas,r=t.getContext("2d"),q,v;if(this.dataPoints===undefined||this.dataPoints.length<=0){return}for(v=0;v<this.dataPoints.length;v++){var u=this._convertPointToTranslation(this.dataPoints[v].point);var s=this._convertTranslationToScreen(u);this.dataPoints[v].trans=u;this.dataPoints[v].screen=s}if(this.dataPoints.length>0){q=this.dataPoints[0];r.lineWidth=1;r.strokeStyle="blue";r.beginPath();r.moveTo(q.screen.x,q.screen.y)}for(v=1;v<this.dataPoints.length;v++){q=this.dataPoints[v];r.lineTo(q.screen.x,q.screen.y)}if(this.dataPoints.length>0){r.stroke()}};f.prototype._onMouseDown=function(r){r=r||window.event;if(this.leftButtonDown){this._onMouseUp(r)}this.leftButtonDown=r.which?(r.which===1):(r.button===1);if(!this.leftButtonDown&&!this.touchDown){return}this.startMouseX=p(r);this.startMouseY=o(r);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var q=this;this.onmousemove=function(s){q._onMouseMove(s)};this.onmouseup=function(s){q._onMouseUp(s)};i.addEventListener(document,"mousemove",q.onmousemove);i.addEventListener(document,"mouseup",q.onmouseup);i.preventDefault(r)};f.prototype._onMouseMove=function(w){w=w||window.event;var s=parseFloat(p(w))-this.startMouseX;var q=parseFloat(o(w))-this.startMouseY;var u=this.startArmRotation.horizontal+s/200;var x=this.startArmRotation.vertical+q/200;var t=4;var r=Math.sin(t/360*2*Math.PI);if(Math.abs(Math.sin(u))<r){u=Math.round((u/Math.PI))*Math.PI-0.001}if(Math.abs(Math.cos(u))<r){u=(Math.round((u/Math.PI-0.5))+0.5)*Math.PI-0.001}if(Math.abs(Math.sin(x))<r){x=Math.round((x/Math.PI))*Math.PI}if(Math.abs(Math.cos(x))<r){x=(Math.round((x/Math.PI-0.5))+0.5)*Math.PI}this.camera.setArmRotation(u,x);this.redraw();var v=this.getCameraPosition();this.emit("cameraPositionChange",v);i.preventDefault(w)};f.prototype._onMouseUp=function(q){this.frame.style.cursor="auto";this.leftButtonDown=false;i.removeEventListener(document,"mousemove",this.onmousemove);i.removeEventListener(document,"mouseup",this.onmouseup);i.preventDefault(q)};f.prototype._onTooltip=function(w){var t=300;var s=this.frame.getBoundingClientRect();var u=p(w)-s.left;var r=o(w)-s.top;if(!this.showTooltip){return}if(this.tooltipTimeout){clearTimeout(this.tooltipTimeout)}if(this.leftButtonDown){this._hideTooltip();return}if(this.tooltip&&this.tooltip.dataPoint){var q=this._dataPointFromXY(u,r);if(q!==this.tooltip.dataPoint){if(q){this._showTooltip(q)}else{this._hideTooltip()}}}else{var v=this;this.tooltipTimeout=setTimeout(function(){v.tooltipTimeout=null;var x=v._dataPointFromXY(u,r);if(x){v._showTooltip(x)}},t)}};f.prototype._onTouchStart=function(r){this.touchDown=true;var q=this;this.ontouchmove=function(s){q._onTouchMove(s)};this.ontouchend=function(s){q._onTouchEnd(s)};i.addEventListener(document,"touchmove",q.ontouchmove);i.addEventListener(document,"touchend",q.ontouchend);this._onMouseDown(r)};f.prototype._onTouchMove=function(q){this._onMouseMove(q)};f.prototype._onTouchEnd=function(q){this.touchDown=false;i.removeEventListener(document,"touchmove",this.ontouchmove);i.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(q)};f.prototype._onWheel=function(s){if(!s){s=window.event}var u=0;if(s.wheelDelta){u=s.wheelDelta/120}else{if(s.detail){u=-s.detail/3}}if(u){var q=this.camera.getArmLength();var t=q*(1-u/10);this.camera.setArmLength(t);this.redraw();this._hideTooltip()}var r=this.getCameraPosition();this.emit("cameraPositionChange",r);i.preventDefault(s)};f.prototype._insideTriangle=function(x,s){var w=s[0],v=s[1],u=s[2];function q(z){return z>0?1:z<0?-1:0}var r=q((v.x-w.x)*(x.y-w.y)-(v.y-w.y)*(x.x-w.x));var y=q((u.x-v.x)*(x.y-v.y)-(u.y-v.y)*(x.x-v.x));var t=q((w.x-u.x)*(x.y-u.y)-(w.y-u.y)*(x.x-u.x));return(r==0||y==0||r==y)&&(y==0||t==0||y==t)&&(r==0||t==0||r==t)};f.prototype._dataPointFromXY=function(z,w){var J,u=100,v=null,B=null,t=null,K=new a(z,w);if(this.style===f.STYLE.BAR||this.style===f.STYLE.BARCOLOR||this.style===f.STYLE.BARSIZE){for(J=this.dataPoints.length-1;J>=0;J--){v=this.dataPoints[J];var A=v.surfaces;if(A){for(var C=A.length-1;C>=0;C--){var H=A[C];var G=H.corners;var r=[G[0].screen,G[1].screen,G[2].screen];var q=[G[2].screen,G[3].screen,G[0].screen];if(this._insideTriangle(K,r)||this._insideTriangle(K,q)){return v}}}}}else{for(J=0;J<this.dataPoints.length;J++){v=this.dataPoints[J];var I=v.screen;if(I){var E=Math.abs(z-I.x);var D=Math.abs(w-I.y);var F=Math.sqrt(E*E+D*D);if((t===null||F<t)&&F<u){t=F;B=v}}}}return B};f.prototype._showTooltip=function(q){var v,z,s;if(!this.tooltip){v=document.createElement("div");v.style.position="absolute";v.style.padding="10px";v.style.border="1px solid #4d4d4d";v.style.color="#1a1a1a";v.style.background="rgba(255,255,255,0.7)";v.style.borderRadius="2px";v.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)";z=document.createElement("div");z.style.position="absolute";z.style.height="40px";z.style.width="0";z.style.borderLeft="1px solid #4d4d4d";s=document.createElement("div");s.style.position="absolute";s.style.height="0";s.style.width="0";s.style.border="5px solid #4d4d4d";s.style.borderRadius="5px";this.tooltip={dataPoint:null,dom:{content:v,line:z,dot:s}}}else{v=this.tooltip.dom.content;z=this.tooltip.dom.line;s=this.tooltip.dom.dot}this._hideTooltip();this.tooltip.dataPoint=q;if(typeof this.showTooltip==="function"){v.innerHTML=this.showTooltip(q.point)}else{v.innerHTML="<table><tr><td>x:</td><td>"+q.point.x+"</td></tr><tr><td>y:</td><td>"+q.point.y+"</td></tr><tr><td>z:</td><td>"+q.point.z+"</td></tr></table>"}v.style.left="0";v.style.top="0";this.frame.appendChild(v);this.frame.appendChild(z);this.frame.appendChild(s);var r=v.offsetWidth;var x=v.offsetHeight;var y=z.offsetHeight;var w=s.offsetWidth;var t=s.offsetHeight;var u=q.screen.x-r/2;u=Math.min(Math.max(u,10),this.frame.clientWidth-10-r);z.style.left=q.screen.x+"px";z.style.top=(q.screen.y-y)+"px";v.style.left=u+"px";v.style.top=(q.screen.y-y-x)+"px";s.style.left=(q.screen.x-w/2)+"px";s.style.top=(q.screen.y-t/2)+"px"};f.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var r in this.tooltip.dom){if(this.tooltip.dom.hasOwnProperty(r)){var q=this.tooltip.dom[r];if(q&&q.parentNode){q.parentNode.removeChild(q)}}}}};function p(q){if("clientX" in q){return q.clientX}return q.targetTouches[0]&&q.targetTouches[0].clientX||0}function o(q){if("clientY" in q){return q.clientY}return q.targetTouches[0]&&q.targetTouches[0].clientY||0}e.exports=f},function(c,b,d){var e=d(10);function a(){this.armLocation=new e();this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraLocation=new e();this.cameraRotation=new e(0.5*Math.PI,0,0);this.calculateCameraOrientation()}a.prototype.setArmLocation=function(f,h,g){this.armLocation.x=f;this.armLocation.y=h;this.armLocation.z=g;this.calculateCameraOrientation()};a.prototype.setArmRotation=function(f,g){if(f!==undefined){this.armRotation.horizontal=f}if(g!==undefined){this.armRotation.vertical=g;if(this.armRotation.vertical<0){this.armRotation.vertical=0}if(this.armRotation.vertical>0.5*Math.PI){this.armRotation.vertical=0.5*Math.PI}}if(f!==undefined||g!==undefined){this.calculateCameraOrientation()}};a.prototype.getArmRotation=function(){var f={};f.horizontal=this.armRotation.horizontal;f.vertical=this.armRotation.vertical;return f};a.prototype.setArmLength=function(f){if(f===undefined){return}this.armLength=f;if(this.armLength<0.71){this.armLength=0.71}if(this.armLength>5){this.armLength=5}this.calculateCameraOrientation()};a.prototype.getArmLength=function(){return this.armLength};a.prototype.getCameraLocation=function(){return this.cameraLocation};a.prototype.getCameraRotation=function(){return this.cameraRotation};a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal};c.exports=a},function(c,b,d){var e=d(4);function a(h,f,g){this.data=h;this.column=f;this.graph=g;this.index=undefined;this.value=undefined;this.values=g.getDistinctValues(h.get(),this.column);this.values.sort(function(j,i){return j>i?1:j<i?-1:0});if(this.values.length>0){this.selectValue(0)}this.dataPoints=[];this.loaded=false;this.onLoadCallback=undefined;if(g.animationPreload){this.loaded=false;this.loadInBackground()}else{this.loaded=true}}a.prototype.isLoaded=function(){return this.loaded};a.prototype.getLoadedProgress=function(){var f=this.values.length;var g=0;while(this.dataPoints[g]){g++}return Math.round(g/f*100)};a.prototype.getLabel=function(){return this.graph.filterLabel};a.prototype.getColumn=function(){return this.column};a.prototype.getSelectedValue=function(){if(this.index===undefined){return undefined}return this.values[this.index]};a.prototype.getValues=function(){return this.values};a.prototype.getValue=function(f){if(f>=this.values.length){throw"Error: index out of range"}return this.values[f]};a.prototype._getDataPoints=function(g){if(g===undefined){g=this.index}if(g===undefined){return[]}var i;if(this.dataPoints[g]){i=this.dataPoints[g]}else{var h={};h.column=this.column;h.value=this.values[g];var j=new e(this.data,{filter:function(f){return(f[h.column]==h.value)}}).get();i=this.graph._getDataPoints(j);this.dataPoints[g]=i}return i};a.prototype.setOnLoadCallback=function(f){this.onLoadCallback=f};a.prototype.selectValue=function(f){if(f>=this.values.length){throw"Error: index out of range"}this.index=f;this.value=this.values[f]};a.prototype.loadInBackground=function(g){if(g===undefined){g=0}var j=this.graph.frame;if(g<this.values.length){var i=this._getDataPoints(g);if(j.progress===undefined){j.progress=document.createElement("DIV");j.progress.style.position="absolute";j.progress.style.color="gray";j.appendChild(j.progress)}var f=this.getLoadedProgress();j.progress.innerHTML="Loading animation... "+f+"%";j.progress.style.bottom=60+"px";j.progress.style.left=10+"px";var h=this;setTimeout(function(){h.loadInBackground(g+1)},10);this.loaded=false}else{this.loaded=true;if(j.progress!==undefined){j.removeChild(j.progress);j.progress=undefined}if(this.onLoadCallback){this.onLoadCallback()}}};c.exports=a},function(b,a,d){function c(e,f){this.x=e!==undefined?e:0;this.y=f!==undefined?f:0}b.exports=c},function(b,a,c){function d(e,g,f){this.x=e!==undefined?e:0;this.y=g!==undefined?g:0;this.z=f!==undefined?f:0}d.subtract=function(f,e){var g=new d();g.x=f.x-e.x;g.y=f.y-e.y;g.z=f.z-e.z;return g};d.add=function(f,e){var g=new d();g.x=f.x+e.x;g.y=f.y+e.y;g.z=f.z+e.z;return g};d.avg=function(f,e){return new d((f.x+e.x)/2,(f.y+e.y)/2,(f.z+e.z)/2)};d.crossProduct=function(f,e){var g=new d();g.x=f.y*e.z-f.z*e.y;g.y=f.z*e.x-f.x*e.z;g.z=f.x*e.y-f.y*e.x;return g};d.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};b.exports=d},function(c,b,e){var a=e(1);function d(f,g){if(f===undefined){throw"Error: No container element defined"}this.container=f;this.visible=(g&&g.visible!=undefined)?g.visible:true;if(this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var h=this;this.frame.slide.onmousedown=function(i){h._onMouseDown(i)};this.frame.prev.onclick=function(i){h.prev(i)};this.frame.play.onclick=function(i){h.togglePlay(i)};this.frame.next.onclick=function(i){h.next(i)}}this.onChangeCallback=undefined;this.values=[];this.index=undefined;this.playTimeout=undefined;this.playInterval=1000;this.playLoop=true}d.prototype.prev=function(){var f=this.getIndex();if(f>0){f--;this.setIndex(f)}};d.prototype.next=function(){var f=this.getIndex();if(f<this.values.length-1){f++;this.setIndex(f)}};d.prototype.playNext=function(){var k=new Date();var h=this.getIndex();if(h<this.values.length-1){h++;this.setIndex(h)}else{if(this.playLoop){h=0;this.setIndex(h)}}var f=new Date();var j=(f-k);var g=Math.max(this.playInterval-j,0);var i=this;this.playTimeout=setTimeout(function(){i.playNext()},g)};d.prototype.togglePlay=function(){if(this.playTimeout===undefined){this.play()}else{this.stop()}};d.prototype.play=function(){if(this.playTimeout){return}this.playNext();if(this.frame){this.frame.play.value="Stop"}};d.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=undefined;if(this.frame){this.frame.play.value="Play"}};d.prototype.setOnChangeCallback=function(f){this.onChangeCallback=f};d.prototype.setPlayInterval=function(f){this.playInterval=f};d.prototype.getPlayInterval=function(f){return this.playInterval};d.prototype.setPlayLoop=function(f){this.playLoop=f};d.prototype.onChange=function(){if(this.onChangeCallback!==undefined){this.onChangeCallback()}};d.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=(this.frame.clientHeight/2-this.frame.bar.offsetHeight/2)+"px";this.frame.bar.style.width=(this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30)+"px";var f=this.indexToLeft(this.index);this.frame.slide.style.left=(f)+"px"}};d.prototype.setValues=function(f){this.values=f;if(this.values.length>0){this.setIndex(0)}else{this.index=undefined}};d.prototype.setIndex=function(f){if(f<this.values.length){this.index=f;this.redraw();this.onChange()}else{throw"Error: index out of range"}};d.prototype.getIndex=function(){return this.index};d.prototype.get=function(){return this.values[this.index]};d.prototype._onMouseDown=function(h){var g=h.which?(h.which===1):(h.button===1);if(!g){return}this.startClientX=h.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var f=this;this.onmousemove=function(i){f._onMouseMove(i)};this.onmouseup=function(i){f._onMouseUp(i)};a.addEventListener(document,"mousemove",this.onmousemove);a.addEventListener(document,"mouseup",this.onmouseup);a.preventDefault(h)};d.prototype.leftToIndex=function(i){var h=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var f=i-3;var g=Math.round(f/h*(this.values.length-1));if(g<0){g=0}if(g>this.values.length-1){g=this.values.length-1}return g};d.prototype.indexToLeft=function(g){var h=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var f=g/(this.values.length-1)*h;var i=f+3;return i};d.prototype._onMouseMove=function(h){var i=h.clientX-this.startClientX;var f=this.startSlideX+i;var g=this.leftToIndex(f);this.setIndex(g);a.preventDefault()};d.prototype._onMouseUp=function(f){this.frame.style.cursor="auto";a.removeEventListener(document,"mousemove",this.onmousemove);a.removeEventListener(document,"mouseup",this.onmouseup);a.preventDefault()};c.exports=d},function(b,a,d){function c(h,e,g,f){this._start=0;this._end=0;this._step=1;this.prettyStep=true;this.precision=5;this._current=0;this.setRange(h,e,g,f)}c.prototype.setRange=function(h,e,g,f){this._start=h?h:0;this._end=e?e:0;this.setStep(g,f)};c.prototype.setStep=function(f,e){if(f===undefined||f<=0){return}if(e!==undefined){this.prettyStep=e}if(this.prettyStep===true){this._step=c.calculatePrettyStep(f)}else{this._step=f}};c.calculatePrettyStep=function(h){var i=function(k){return Math.log(k)/Math.LN10};var f=Math.pow(10,Math.round(i(h))),e=2*Math.pow(10,Math.round(i(h/2))),j=5*Math.pow(10,Math.round(i(h/5)));var g=f;if(Math.abs(e-h)<=Math.abs(g-h)){g=e}if(Math.abs(j-h)<=Math.abs(g-h)){g=j}if(g<=0){g=1}return g};c.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};c.prototype.getStep=function(){return this._step};c.prototype.start=function(){this._current=this._start-this._start%this._step};c.prototype.next=function(){this._current+=this._step};c.prototype.end=function(){return(this._current>this._end)};b.exports=c},function(c,f,b){var m=b(56);var o=b(45);var g=b(1);var a=b(3);var i=b(4);var e=b(17);var j=b(46);var d=b(35);var h=b(26);var l=b(27);var n=b(32);function k(q,s,p,t){if(!(this instanceof k)){throw new SyntaxError("Constructor must be called with the new operator")}if(!(Array.isArray(p)||p instanceof a||p instanceof i)&&p instanceof Object){var r=t;t=p;p=r}var u=this;this.defaultOptions={start:null,end:null,autoResize:true,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=g.deepExtend({},this.defaultOptions);this._create(q);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return u.timeAxis.step.scale},getStep:function(){return u.timeAxis.step.step},toScreen:u._toScreen.bind(u),toGlobalScreen:u._toGlobalScreen.bind(u),toTime:u._toTime.bind(u),toGlobalTime:u._toGlobalTime.bind(u)}};this.range=new e(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new d(this.body);this.timeAxis2=null;this.components.push(this.timeAxis);this.currentTime=new h(this.body);this.components.push(this.currentTime);this.customTime=new l(this.body);this.components.push(this.customTime);this.itemSet=new n(this.body);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;this.on("tap",function(v){u.emit("click",u.getEventProperties(v))});this.on("doubletap",function(v){u.emit("doubleClick",u.getEventProperties(v))});this.dom.root.oncontextmenu=function(v){u.emit("contextmenu",u.getEventProperties(v))};if(t){this.setOptions(t)}if(p){this.setGroups(p)}if(s){this.setItems(s)}else{this._redraw()}}k.prototype=new j();k.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:true});this._redraw()};k.prototype.setItems=function(r){var p=(this.itemsData==null);var u;if(!r){u=null}else{if(r instanceof a||r instanceof i){u=r}else{u=new a(r,{type:{start:"Date",end:"Date"}})}}this.itemsData=u;this.itemSet&&this.itemSet.setItems(u);if(p){if(this.options.start!=undefined||this.options.end!=undefined){if(this.options.start==undefined||this.options.end==undefined){var s=this._getDataRange()}var t=this.options.start!=undefined?this.options.start:s.start;var q=this.options.end!=undefined?this.options.end:s.end;this.setWindow(t,q,{animate:false})}else{this.fit({animate:false})}}};k.prototype.setGroups=function(p){var q;if(!p){q=null}else{if(p instanceof a||p instanceof i){q=p}else{q=new a(p)}}this.groupsData=q;this.itemSet.setGroups(q)};k.prototype.setSelection=function(q,p){this.itemSet&&this.itemSet.setSelection(q);if(p&&p.focus){this.focus(q,p)}};k.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};k.prototype.focus=function(r,w){if(!this.itemsData||r==undefined){return}var p=Array.isArray(r)?r:[r];var v=this.itemsData.getDataSet().get(p,{type:{start:"Date",end:"Date"}});var s=null;var u=null;v.forEach(function(y){var z=y.start.valueOf();var A="end" in y?y.end.valueOf():y.start.valueOf();if(s===null||z<s){s=z}if(u===null||A>u){u=A}});if(s!==null&&u!==null){var x=(s+u)/2;var t=Math.max((this.range.end-this.range.start),(u-s)*1.1);var q=(w&&w.animate!==undefined)?w.animate:true;this.range.setRange(x-t/2,x+t/2,q)}};k.prototype.getItemRange=function(){var t=this.itemsData.getDataSet(),r=null,p=null;if(t){var u=t.min("start");r=u?g.convert(u.start,"Date").valueOf():null;var q=t.max("start");if(q){p=g.convert(q.start,"Date").valueOf()}var s=t.max("end");if(s){if(p==null){p=g.convert(s.end,"Date").valueOf()}else{p=Math.max(p,g.convert(s.end,"Date").valueOf())}}}return{min:(r!=null)?new Date(r):null,max:(p!=null)?new Date(p):null}};k.prototype.getEventProperties=function(p){var E=this.itemSet.itemFromTarget(p);var D=this.itemSet.groupFromTarget(p);var v=p.gesture?p.gesture.center.pageX:p.pageX;var u=p.gesture?p.gesture.center.pageY:p.pageY;var C=v-g.getAbsoluteLeft(this.dom.centerContainer);var A=u-g.getAbsoluteTop(this.dom.centerContainer);var t=this.itemSet.options.snap||null;var s=this.body.util.getScale();var q=this.body.util.getStep();var r=this._toTime(C);var z=t?t(r,s,q):r;var w=g.getTarget(p);var B=null;if(E!=null){B="item"}else{if(g.hasParent(w,this.timeAxis.dom.foreground)){B="axis"}else{if(this.timeAxis2&&g.hasParent(w,this.timeAxis2.dom.foreground)){B="axis"}else{if(g.hasParent(w,this.itemSet.dom.labelSet)){B="group-label"}else{if(g.hasParent(w,this.customTime.bar)){B="custom-time"}else{if(g.hasParent(w,this.currentTime.bar)){B="current-time"}else{if(g.hasParent(w,this.dom.center)){B="background"}}}}}}}return{event:p,item:E?E.id:null,group:D?D.groupId:null,what:B,pageX:v,pageY:u,x:C,y:A,time:r,snappedTime:z}};c.exports=k},function(c,f,b){var n=b(56);var o=b(45);var h=b(1);var a=b(3);var j=b(4);var e=b(17);var l=b(46);var d=b(35);var i=b(26);var m=b(27);var g=b(34);function k(q,s,p,t){if(!(Array.isArray(p)||p instanceof a)&&p instanceof Object){var r=t;t=p;p=r}var u=this;this.defaultOptions={start:null,end:null,autoResize:true,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null};this.options=h.deepExtend({},this.defaultOptions);this._create(q);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:u._toScreen.bind(u),toGlobalScreen:u._toGlobalScreen.bind(u),toTime:u._toTime.bind(u),toGlobalTime:u._toGlobalTime.bind(u)}};this.range=new e(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new d(this.body);this.components.push(this.timeAxis);this.currentTime=new i(this.body);this.components.push(this.currentTime);this.customTime=new m(this.body);this.components.push(this.customTime);this.linegraph=new g(this.body);this.components.push(this.linegraph);this.itemsData=null;this.groupsData=null;this.on("tap",function(v){u.emit("click",u.getEventProperties(v))});this.on("doubletap",function(v){u.emit("doubleClick",u.getEventProperties(v))});this.dom.root.oncontextmenu=function(v){u.emit("contextmenu",u.getEventProperties(v))};if(t){this.setOptions(t)}if(p){this.setGroups(p)}if(s){this.setItems(s)}else{this._redraw()}}k.prototype=new l();k.prototype.setItems=function(r){var p=(this.itemsData==null);var t;if(!r){t=null}else{if(r instanceof a||r instanceof j){t=r}else{t=new a(r,{type:{start:"Date",end:"Date"}})}}this.itemsData=t;this.linegraph&&this.linegraph.setItems(t);if(p){if(this.options.start!=undefined||this.options.end!=undefined){var s=this.options.start!=undefined?this.options.start:null;var q=this.options.end!=undefined?this.options.end:null;this.setWindow(s,q,{animate:false})}else{this.fit({animate:false})}}};k.prototype.setGroups=function(p){var q;if(!p){q=null}else{if(p instanceof a||p instanceof j){q=p}else{q=new a(p)}}this.groupsData=q;this.linegraph.setGroups(q)};k.prototype.getLegend=function(q,r,p){if(r===undefined){r=15}if(p===undefined){p=15}if(this.linegraph.groups[q]!==undefined){return this.linegraph.groups[q].getLegend(r,p)}else{return"cannot find group:"+q}};k.prototype.isGroupVisible=function(p){if(this.linegraph.groups[p]!==undefined){return(this.linegraph.groups[p].visible&&(this.linegraph.options.groups.visibility[p]===undefined||this.linegraph.options.groups.visibility[p]==true))}else{return false}};k.prototype.getItemRange=function(){var s=null;var p=null;for(var r in this.linegraph.groups){if(this.linegraph.groups.hasOwnProperty(r)){if(this.linegraph.groups[r].visible==true){for(var q=0;q<this.linegraph.groups[r].itemsData.length;q++){var t=this.linegraph.groups[r].itemsData[q];var u=h.convert(t.x,"Date").valueOf();s=s==null?u:s>u?u:s;p=p==null?u:p<u?u:p}}}}return{min:(s!=null)?new Date(s):null,max:(p!=null)?new Date(p):null}};k.prototype.getEventProperties=function(p){var t=p.gesture?p.gesture.center.pageX:p.pageX;var s=p.gesture?p.gesture.center.pageY:p.pageY;var A=t-h.getAbsoluteLeft(this.dom.centerContainer);var w=s-h.getAbsoluteTop(this.dom.centerContainer);var r=this._toTime(A);var u=h.getTarget(p);var z=null;if(h.hasParent(u,this.timeAxis.dom.foreground)){z="axis"}else{if(this.timeAxis2&&h.hasParent(u,this.timeAxis2.dom.foreground)){z="axis"}else{if(h.hasParent(u,this.linegraph.yAxisLeft.dom.frame)){z="data-axis"}else{if(h.hasParent(u,this.linegraph.yAxisRight.dom.frame)){z="data-axis"}else{if(h.hasParent(u,this.linegraph.legendLeft.dom.frame)){z="legend"}else{if(h.hasParent(u,this.linegraph.legendRight.dom.frame)){z="legend"}else{if(h.hasParent(u,this.customTime.bar)){z="custom-time"}else{if(h.hasParent(u,this.currentTime.bar)){z="current-time"}else{if(h.hasParent(u,this.dom.center)){z="background"}}}}}}}}}var B=[];var v=this.linegraph.yAxisLeft;var q=this.linegraph.yAxisRight;if(!v.hidden){B.push(v.screenToValue(w))}if(!q.hidden){B.push(q.screenToValue(w))}return{event:p,what:z,pageX:t,pageY:s,x:A,y:w,time:r,value:B}};c.exports=k},function(b,a,d){var c=d(44);a.convertHiddenOptions=function(f,e){f.hiddenDates=[];if(e){if(Array.isArray(e)==true){for(var g=0;g<e.length;g++){if(e[g].repeat===undefined){var h={};h.start=c(e[g].start).toDate().valueOf();h.end=c(e[g].end).toDate().valueOf();f.hiddenDates.push(h)}}f.hiddenDates.sort(function(j,i){return j.start-i.start})}}};a.updateHiddenDates=function(m,n){if(n&&m.domProps.centerContainer.width!==undefined){a.convertHiddenOptions(m,n);var j=c(m.range.start);var h=c(m.range.end);var f=(m.range.end-m.range.start);var o=f/m.domProps.centerContainer.width;for(var s=0;s<n.length;s++){if(n[s].repeat!==undefined){var g=c(n[s].start);var t=c(n[s].end);if(g._d=="Invalid Date"){throw new Error("Supplied start date is not valid: "+n[s].start)}if(t._d=="Invalid Date"){throw new Error("Supplied end date is not valid: "+n[s].end)}var e=t-g;if(e>=4*o){var k=0;var u=h.clone();switch(n[s].repeat){case"daily":if(g.day()!=t.day()){k=1}g.dayOfYear(j.dayOfYear());g.year(j.year());g.subtract(7,"days");t.dayOfYear(j.dayOfYear());t.year(j.year());t.subtract(7-k,"days");u.add(1,"weeks");break;case"weekly":var l=t.diff(g,"days");var r=g.day();g.date(j.date());g.month(j.month());g.year(j.year());t=g.clone();g.day(r);t.day(r);t.add(l,"days");g.subtract(1,"weeks");t.subtract(1,"weeks");u.add(1,"weeks");break;case"monthly":if(g.month()!=t.month()){k=1}g.month(j.month());g.year(j.year());g.subtract(1,"months");t.month(j.month());t.year(j.year());t.subtract(1,"months");t.add(k,"months");u.add(1,"months");break;case"yearly":if(g.year()!=t.year()){k=1}g.year(j.year());g.subtract(1,"years");t.year(j.year());t.subtract(1,"years");t.add(k,"years");u.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[s].repeat);return}while(g<u){m.hiddenDates.push({start:g.valueOf(),end:t.valueOf()});switch(n[s].repeat){case"daily":g.add(1,"days");t.add(1,"days");break;case"weekly":g.add(1,"weeks");t.add(1,"weeks");break;case"monthly":g.add(1,"months");t.add(1,"months");break;case"yearly":g.add(1,"y");t.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",n[s].repeat);return}}m.hiddenDates.push({start:g.valueOf(),end:t.valueOf()})}}}a.removeDuplicates(m);var v=a.isHidden(m.range.start,m.hiddenDates);var q=a.isHidden(m.range.end,m.hiddenDates);var w=m.range.start;var p=m.range.end;if(v.hidden==true){w=m.range.startToFront==true?v.startDate-1:v.endDate+1}if(q.hidden==true){p=m.range.endToFront==true?q.startDate-1:q.endDate+1}if(v.hidden==true||q.hidden==true){m.range._applyRange(w,p)}}};a.removeDuplicates=function(g){var f=g.hiddenDates;var e=[];for(var k=0;k<f.length;k++){for(var h=0;h<f.length;h++){if(k!=h&&f[h].remove!=true&&f[k].remove!=true){if(f[h].start>=f[k].start&&f[h].end<=f[k].end){f[h].remove=true}else{if(f[h].start>=f[k].start&&f[h].start<=f[k].end){f[k].end=f[h].end;f[h].remove=true}else{if(f[h].end>=f[k].start&&f[h].end<=f[k].end){f[k].start=f[h].start;f[h].remove=true}}}}}}for(var k=0;k<f.length;k++){if(f[k].remove!==true){e.push(f[k])}}g.hiddenDates=e;g.hiddenDates.sort(function(j,i){return j.start-i.start})};a.printDates=function(f){for(var e=0;e<f.length;e++){console.log(e,new Date(f[e].start),new Date(f[e].end),f[e].start,f[e].end,f[e].remove)}};a.stepOverHiddenDates=function(h,l){var m=false;var n=h.current.valueOf();for(var g=0;g<h.hiddenDates.length;g++){var f=h.hiddenDates[g].start;var j=h.hiddenDates[g].end;if(n>=f&&n<j){m=true;break}}if(m==true&&n<h._end.valueOf()&&n!=l){var k=c(l);var e=c(j);if(k.year()!=e.year()){h.switchedYear=true}else{if(k.month()!=e.month()){h.switchedMonth=true}else{if(k.dayOfYear()!=e.dayOfYear()){h.switchedDay=true}}}h.current=e.toDate()}};a.toScreen=function(j,i,e){if(j.body.hiddenDates.length==0){var g=j.range.conversion(e);return(i.valueOf()-g.offset)*g.scale}else{var f=a.isHidden(i,j.body.hiddenDates);if(f.hidden==true){i=f.startDate}var h=a.getHiddenDurationBetween(j.body.hiddenDates,j.range.start,j.range.end);i=a.correctTimeForHidden(j.body.hiddenDates,j.range,i);var g=j.range.conversion(e,h);return(i.valueOf()-g.offset)*g.scale}};a.toTime=function(i,j,f){if(i.body.hiddenDates.length==0){var h=i.range.conversion(f);return new Date(j/h.scale+h.offset)}else{var l=a.getHiddenDurationBetween(i.body.hiddenDates,i.range.start,i.range.end);var m=i.range.end-i.range.start-l;var g=m*j/f;var e=a.getAccumulatedHiddenDuration(i.body.hiddenDates,i.range,g);var k=new Date(e+g+i.range.start);return k}};a.getHiddenDurationBetween=function(f,l,g){var k=0;for(var h=0;h<f.length;h++){var e=f[h].start;var j=f[h].end;if(e>=l&&j<g){k+=j-e}}return k};a.correctTimeForHidden=function(e,f,g){g=c(g).toDate().valueOf();g-=a.getHiddenDurationBefore(e,f,g);return g};a.getHiddenDurationBefore=function(g,h,l){var f=0;l=c(l).toDate().valueOf();for(var j=0;j<g.length;j++){var e=g[j].start;var k=g[j].end;if(e>=h.start&&k<h.end){if(l>=k){f+=(k-e)}}}return f};a.getAccumulatedHiddenDuration=function(l,j,n){var m=0;var g=0;var f=j.start;for(var h=0;h<l.length;h++){var e=l[h].start;var k=l[h].end;if(e>=j.start&&k<j.end){g+=e-f;f=k;if(g>=n){break}else{m+=k-e}}}return m};a.snapAwayFromHidden=function(e,i,h,g){var f=a.isHidden(i,e);if(f.hidden==true){if(h<0){if(g==true){return f.startDate-(f.endDate-i)-1}else{return f.startDate-1}}else{if(g==true){return f.endDate+(i-f.startDate)+1}else{return f.endDate+1}}}else{return i}};a.isHidden=function(j,f){for(var g=0;g<f.length;g++){var e=f[g].start;var h=f[g].end;if(j>=e&&j<h){return{hidden:true,startDate:e,endDate:h};break}}return{hidden:false,startDate:e,endDate:h}}},function(c,a,d){function b(j,f,i,h,e,g){this.current=0;this.autoScale=true;this.stepIndex=0;this.step=1;this.scale=1;this.marginStart;this.marginEnd;this.deadSpace=0;this.majorSteps=[1,2,5,10];this.minorSteps=[0.25,0.5,1,2];this.alignZeros=g;this.setRange(j,f,i,h,e)}b.prototype.setRange=function(i,f,h,g,e){this._start=e.min===undefined?i:e.min;this._end=e.max===undefined?f:e.max;if(this._start==this._end){this._start-=0.75;this._end+=1}if(this.autoScale==true){this.setMinimumStep(h,g)}this.setFirst(e)};b.prototype.setMinimumStep=function(m,r){var s=this._end-this._start;var o=s*1.2;var g=m*(o/r);var n=Math.round(Math.log(o)/Math.LN10);var h=-1;var f=Math.pow(10,n);var e=0;if(n<0){e=n}var q=false;for(var l=e;Math.abs(l)<=Math.abs(n);l++){f=Math.pow(10,l);for(var k=0;k<this.minorSteps.length;k++){var p=f*this.minorSteps[k];if(p>=g){q=true;h=k;break}}if(q==true){break}}this.stepIndex=h;this.scale=f;this.step=f*this.minorSteps[h]};b.prototype.setFirst=function(f){if(f===undefined){f={}}var g=f.min===undefined?this._start-(this.scale*2*this.minorSteps[this.stepIndex]):f.min;var e=f.max===undefined?this._end+(this.scale*this.minorSteps[this.stepIndex]):f.max;this.marginEnd=f.max===undefined?this.roundToMinor(e):f.max;this.marginStart=f.min===undefined?this.roundToMinor(g):f.min;if(this.alignZeros==true&&(this.marginEnd-this.marginStart)%this.step!=0){this.marginEnd+=this.marginEnd%this.step}this.deadSpace=this.roundToMinor(e)-e+this.roundToMinor(g)-g;this.marginRange=this.marginEnd-this.marginStart;this.current=this.marginEnd};b.prototype.roundToMinor=function(f){var e=f-(f%(this.scale*this.minorSteps[this.stepIndex]));if(f%(this.scale*this.minorSteps[this.stepIndex])>0.5*(this.scale*this.minorSteps[this.stepIndex])){return e+(this.scale*this.minorSteps[this.stepIndex])}else{return e}};b.prototype.hasNext=function(){return(this.current>=this.marginStart)};b.prototype.next=function(){var e=this.current;this.current-=this.step;if(this.current==e){this.current=this._end}};b.prototype.previous=function(){this.current+=this.step;this.marginEnd+=this.step;this.marginRange=this.marginEnd-this.marginStart};b.prototype.getCurrent=function(e){var k=(Math.abs(this.current)<this.step/2)?0:this.current;var j=""+Number(k).toPrecision(5);if(e!==undefined&&!isNaN(Number(e))){var l="";var f=j.indexOf("e");if(f!=-1){l=j.slice(f);j=j.slice(0,f)}f=Math.max(j.indexOf(","),j.indexOf("."));if(f===-1){if(e!==0){j+="."}f=j.length+e}else{if(e!==0){f+=e+1}}if(f>j.length){for(var h=f-j.length;h>0;h--){j+="0"}}else{j=j.slice(0,f)}j+=l}else{if(j.indexOf(",")!=-1||j.indexOf(".")!=-1){for(var g=j.length-1;g>0;g--){if(j[g]=="0"){j=j.slice(0,g)}else{if(j[g]=="."||j[g]==","){j=j.slice(0,g);break}else{break}}}}}return j};b.prototype.isMajor=function(){return(this.current%(this.scale*this.majorSteps[this.stepIndex])==0)};c.exports=b},function(c,f,b){var g=b(1);var a=b(47);var k=b(44);var h=b(25);var i=b(15);function d(l,n){var m=k().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=m.clone().add(-3,"days").valueOf();this.end=m.clone().add(4,"days").valueOf();this.body=l;this.deltaDifference=0;this.scaleOffset=0;this.startToFront=false;this.endToFront=true;this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:true,zoomable:true,min:null,max:null,zoomMin:10,zoomMax:1000*60*60*24*365*10000};this.options=g.extend({},this.defaultOptions);this.props={touch:{}};this.animateTimer=null;this.body.emitter.on("dragstart",this._onDragStart.bind(this));this.body.emitter.on("drag",this._onDrag.bind(this));this.body.emitter.on("dragend",this._onDragEnd.bind(this));this.body.emitter.on("hold",this._onHold.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.setOptions(n)}d.prototype=new h();d.prototype.setOptions=function(m){if(m){var l=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];g.selectiveExtend(l,this.options,m);if("start" in m||"end" in m){this.setRange(m.start,m.end)}}};function e(l){if(l!="horizontal"&&l!="vertical"){throw new TypeError('Unknown direction "'+l+'". Choose "horizontal" or "vertical".')}}d.prototype.setRange=function(m,s,n,p){if(p!==true){p=false}var o=m!=undefined?g.convert(m,"Date").valueOf():null;var v=s!=undefined?g.convert(s,"Date").valueOf():null;this._cancelAnimation();if(n){var z=this;var l=this.start;var w=this.end;var r=typeof n==="number"?n:500;var y=new Date().valueOf();var x=false;var u=function(){if(!z.props.touch.dragging){var B=new Date().valueOf();var E=B-y;var A=E>r;var C=(A||o===null)?o:g.easeInOutQuad(E,l,o,r);var D=(A||v===null)?v:g.easeInOutQuad(E,w,v,r);t=z._applyRange(C,D);i.updateHiddenDates(z.body,z.options.hiddenDates);x=x||t;if(t){z.body.emitter.emit("rangechange",{start:new Date(z.start),end:new Date(z.end),byUser:p})}if(A){if(x){z.body.emitter.emit("rangechanged",{start:new Date(z.start),end:new Date(z.end),byUser:p})}}else{z.animateTimer=setTimeout(u,20)}}};return u()}else{var t=this._applyRange(o,v);i.updateHiddenDates(this.body,this.options.hiddenDates);if(t){var q={start:new Date(this.start),end:new Date(this.end),byUser:p};this.body.emitter.emit("rangechange",q);this.body.emitter.emit("rangechanged",q)}}};d.prototype._cancelAnimation=function(){if(this.animateTimer){clearTimeout(this.animateTimer);this.animateTimer=null}};d.prototype._applyRange=function(l,n){var q=(l!=null)?g.convert(l,"Date").valueOf():this.start,m=(n!=null)?g.convert(n,"Date").valueOf():this.end,s=(this.options.max!=null)?g.convert(this.options.max,"Date").valueOf():null,o=(this.options.min!=null)?g.convert(this.options.min,"Date").valueOf():null,u;if(isNaN(q)||q===null){throw new Error('Invalid start "'+l+'"')}if(isNaN(m)||m===null){throw new Error('Invalid end "'+n+'"')}if(m<q){m=q}if(o!==null){if(q<o){u=(o-q);q+=u;m+=u;if(s!=null){if(m>s){m=s}}}}if(s!==null){if(m>s){u=(m-s);q-=u;m-=u;if(o!=null){if(q<o){q=o}}}}if(this.options.zoomMin!==null){var r=parseFloat(this.options.zoomMin);if(r<0){r=0}if((m-q)<r){if((this.end-this.start)===r&&q>this.start&&m<this.end){q=this.start;m=this.end}else{u=(r-(m-q));q-=u/2;m+=u/2}}}if(this.options.zoomMax!==null){var t=parseFloat(this.options.zoomMax);if(t<0){t=0}if((m-q)>t){if((this.end-this.start)===t&&q<this.start&&m>this.end){q=this.start;m=this.end}else{u=((m-q)-t);q+=u/2;m-=u/2}}}var p=(this.start!=q||this.end!=m);if(!((q>=this.start&&q<=this.end)||(m>=this.start&&m<=this.end))&&!((this.start>=q&&this.start<=m)||(this.end>=q&&this.end<=m))){this.body.emitter.emit("checkRangedItems")}this.start=q;this.end=m;return p};d.prototype.getRange=function(){return{start:this.start,end:this.end}};d.prototype.conversion=function(m,l){return d.conversion(this.start,this.end,m,l)};d.conversion=function(o,m,n,l){if(l===undefined){l=0}if(n!=0&&(m-o!=0)){return{offset:o,scale:n/(m-o-l)}}else{return{offset:0,scale:1}}};d.prototype._onDragStart=function(l){this.deltaDifference=0;this.previousDelta=0;if(!this.options.moveable){return}if(!this.props.touch.allowDragging){return}this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.dragging=true;if(this.body.dom.root){this.body.dom.root.style.cursor="move"}};d.prototype._onDrag=function(l){if(!this.options.moveable){return}if(!this.props.touch.allowDragging){return}var u=this.options.direction;e(u);var v=(u=="horizontal")?l.gesture.deltaX:l.gesture.deltaY;v-=this.deltaDifference;var n=(this.props.touch.end-this.props.touch.start);var r=i.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);n-=r;var m=(u=="horizontal")?this.body.domProps.center.width:this.body.domProps.center.height;var p=-v/m*n;var s=this.props.touch.start+p;var q=this.props.touch.end+p;var t=i.snapAwayFromHidden(this.body.hiddenDates,s,this.previousDelta-v,true);var o=i.snapAwayFromHidden(this.body.hiddenDates,q,this.previousDelta-v,true);if(t!=s||o!=q){this.deltaDifference+=v;this.props.touch.start=t;this.props.touch.end=o;this._onDrag(l);return}this.previousDelta=v;this._applyRange(s,q);this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:true})};d.prototype._onDragEnd=function(l){if(!this.options.moveable){return}if(!this.props.touch.allowDragging){return}this.props.touch.dragging=false;if(this.body.dom.root){this.body.dom.root.style.cursor="auto"}this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:true})};d.prototype._onMouseWheel=function(m){if(!(this.options.zoomable&&this.options.moveable)){return}var q=0;if(m.wheelDelta){q=m.wheelDelta/120}else{if(m.detail){q=-m.detail/3}}if(q){var p;if(q<0){p=1-(q/5)}else{p=1/(1+(q/5))}var l=a.fakeGesture(this,m),o=j(l.center,this.body.dom.center),n=this._pointerToDate(o);this.zoom(p,n,q)}m.preventDefault()};d.prototype._onTouch=function(l){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=true;this.props.touch.center=null;this.scaleOffset=0;this.deltaDifference=0};d.prototype._onHold=function(){this.props.touch.allowDragging=false};d.prototype._onPinch=function(l){if(!(this.options.zoomable&&this.options.moveable)){return}this.props.touch.allowDragging=false;if(l.gesture.touches.length>1){if(!this.props.touch.center){this.props.touch.center=j(l.gesture.center,this.body.dom.center)}var o=1/(l.gesture.scale+this.scaleOffset);var n=this._pointerToDate(this.props.touch.center);var t=i.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var s=i.getHiddenDurationBefore(this.body.hiddenDates,this,n);var u=t-s;var q=(n-s)+(this.props.touch.start-(n-s))*o;var p=(n+u)+(this.props.touch.end-(n+u))*o;this.startToFront=1-o>0?false:true;this.endToFront=o-1>0?false:true;var r=i.snapAwayFromHidden(this.body.hiddenDates,q,1-o,true);var m=i.snapAwayFromHidden(this.body.hiddenDates,p,o-1,true);if(r!=q||m!=p){this.props.touch.start=r;this.props.touch.end=m;this.scaleOffset=1-l.gesture.scale;q=r;p=m}this.setRange(q,p,false,true);this.startToFront=false;this.endToFront=true}};d.prototype._pointerToDate=function(o){var m;var n=this.options.direction;e(n);if(n=="horizontal"){return this.body.util.toTime(o.x).valueOf()}else{var l=this.body.domProps.center.height;m=this.conversion(l);return o.y/m.scale+m.offset}};function j(m,l){return{x:m.pageX-g.getAbsoluteLeft(l),y:m.pageY-g.getAbsoluteTop(l)}}d.prototype.zoom=function(n,l,t){if(l==null){l=(this.start+this.end)/2}var s=i.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r=i.getHiddenDurationBefore(this.body.hiddenDates,this,l);var u=s-r;var p=(l-r)+(this.start-(l-r))*n;var o=(l+u)+(this.end-(l+u))*n;this.startToFront=t>0?false:true;this.endToFront=-t>0?false:true;var q=i.snapAwayFromHidden(this.body.hiddenDates,p,t,true);var m=i.snapAwayFromHidden(this.body.hiddenDates,o,-t,true);if(q!=p||m!=o){p=q;o=m}this.setRange(p,o,false,true);this.startToFront=false;this.endToFront=true};d.prototype.move=function(o){var n=(this.end-this.start);var l=this.start+n*o;var m=this.end+n*o;this.start=l;this.end=m};d.prototype.moveTo=function(n){var m=(this.start+this.end)/2;var p=m-n;var l=this.start-p;var o=this.end-p;this.setRange(l,o)};c.exports=d},function(b,a,d){var c=0.001;a.orderByStart=function(e){e.sort(function(g,f){return g.data.start-f.data.start})};a.orderByEnd=function(e){e.sort(function(g,f){var h=("end" in g.data)?g.data.end:g.data.start,i=("end" in f.data)?f.data.end:f.data.start;return h-i})};a.stack=function(n,f,e){var k,h;if(e){for(k=0,h=n.length;k<h;k++){n[k].top=null}}for(k=0,h=n.length;k<h;k++){var p=n[k];if(p.stack&&p.top===null){p.top=f.axis;do{var o=null;for(var g=0,l=n.length;g<l;g++){var m=n[g];if(m.top!==null&&m!==p&&m.stack&&a.collision(p,m,f.item)){o=m;break}}if(o!=null){p.top=o.top+o.height+f.item.vertical}}while(o)}}};a.nostack=function(j,l,f){var k,e,h;for(k=0,e=j.length;k<e;k++){if(j[k].data.subgroup!==undefined){h=l.axis;for(var g in f){if(f.hasOwnProperty(g)){if(f[g].visible==true&&f[g].index<f[j[k].data.subgroup].index){h+=f[g].height+l.item.vertical}}}j[k].top=h}else{j[k].top=l.axis}}};a.collision=function(f,e,g){return((f.left-g.horizontal+c)<(e.left+e.width)&&(f.left+f.width+g.horizontal-c)>e.left&&(f.top-g.vertical+c)<(e.top+e.height)&&(f.top+f.height+g.vertical-c)>e.top)}},function(d,c,f){var e=f(44);var b=f(15);var a=f(1);function g(k,i,j,h){this.current=new Date();this._start=new Date();this._end=new Date();this.autoScale=true;this.scale="day";this.step=1;this.setRange(k,i,j);this.switchedDay=false;this.switchedMonth=false;this.switchedYear=false;this.hiddenDates=h;if(h===undefined){this.hiddenDates=[]}this.format=g.FORMAT}g.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}};g.prototype.setFormat=function(i){var h=a.deepExtend({},g.FORMAT);this.format=a.deepExtend(h,i)};g.prototype.setRange=function(j,h,i){if(!(j instanceof Date)||!(h instanceof Date)){throw"No legal start or end date in method setRange"}this._start=(j!=undefined)?new Date(j.valueOf()):new Date();this._end=(h!=undefined)?new Date(h.valueOf()):new Date();if(this.autoScale){this.setMinimumStep(i)}};g.prototype.first=function(){this.current=new Date(this._start.valueOf());this.roundToMinor()};g.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step));this.current.setMonth(0);case"month":this.current.setDate(1);case"day":case"weekday":this.current.setHours(0);case"hour":this.current.setMinutes(0);case"minute":this.current.setSeconds(0);case"second":this.current.setMilliseconds(0)}if(this.step!=1){switch(this.scale){case"millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case"hour":this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case"weekday":case"day":this.current.setDate((this.current.getDate()-1)-(this.current.getDate()-1)%this.step+1);break;case"month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step);break;default:break}}};g.prototype.hasNext=function(){return(this.current.valueOf()<=this._end.valueOf())};g.prototype.next=function(){var j=this.current.valueOf();if(this.current.getMonth()<6){switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current=new Date(this.current.valueOf()+this.step*1000);break;case"minute":this.current=new Date(this.current.valueOf()+this.step*1000*60);break;case"hour":this.current=new Date(this.current.valueOf()+this.step*1000*60*60);var i=this.current.getHours();this.current.setHours(i-(i%this.step));break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step);break;default:break}}else{switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case"hour":this.current.setHours(this.current.getHours()+this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step);break;default:break}}if(this.step!=1){switch(this.scale){case"millisecond":if(this.current.getMilliseconds()<this.step){this.current.setMilliseconds(0)}break;case"second":if(this.current.getSeconds()<this.step){this.current.setSeconds(0)}break;case"minute":if(this.current.getMinutes()<this.step){this.current.setMinutes(0)}break;case"hour":if(this.current.getHours()<this.step){this.current.setHours(0)}break;case"weekday":case"day":if(this.current.getDate()<this.step+1){this.current.setDate(1)}break;case"month":if(this.current.getMonth()<this.step){this.current.setMonth(0)}break;case"year":break;default:break}}if(this.current.valueOf()==j){this.current=new Date(this._end.valueOf())}b.stepOverHiddenDates(this,j)};g.prototype.getCurrent=function(){return this.current};g.prototype.setScale=function(h){if(h&&typeof h.scale=="string"){this.scale=h.scale;this.step=h.step>0?h.step:1;this.autoScale=false}};g.prototype.setAutoScale=function(h){this.autoScale=h};g.prototype.setMinimumStep=function(m){if(m==undefined){return}var i=(1000*60*60*24*30*12);var h=(1000*60*60*24*30);var l=(1000*60*60*24);var n=(1000*60*60);var k=(1000*60);var o=(1000);var j=(1);if(i*1000>m){this.scale="year";this.step=1000}if(i*500>m){this.scale="year";this.step=500}if(i*100>m){this.scale="year";this.step=100}if(i*50>m){this.scale="year";this.step=50}if(i*10>m){this.scale="year";this.step=10}if(i*5>m){this.scale="year";this.step=5}if(i>m){this.scale="year";this.step=1}if(h*3>m){this.scale="month";this.step=3}if(h>m){this.scale="month";this.step=1}if(l*5>m){this.scale="day";this.step=5}if(l*2>m){this.scale="day";this.step=2}if(l>m){this.scale="day";this.step=1}if(l/2>m){this.scale="weekday";this.step=1}if(n*4>m){this.scale="hour";this.step=4}if(n>m){this.scale="hour";this.step=1}if(k*15>m){this.scale="minute";this.step=15}if(k*10>m){this.scale="minute";this.step=10}if(k*5>m){this.scale="minute";this.step=5}if(k>m){this.scale="minute";this.step=1}if(o*15>m){this.scale="second";this.step=15}if(o*10>m){this.scale="second";this.step=10}if(o*5>m){this.scale="second";this.step=5}if(o>m){this.scale="second";this.step=1}if(j*200>m){this.scale="millisecond";this.step=200}if(j*100>m){this.scale="millisecond";this.step=100}if(j*50>m){this.scale="millisecond";this.step=50}if(j*10>m){this.scale="millisecond";this.step=10}if(j*5>m){this.scale="millisecond";this.step=5}if(j>m){this.scale="millisecond";this.step=1}};g.snap=function(h,l,k){var m=new Date(h.valueOf());if(l=="year"){var j=m.getFullYear()+Math.round(m.getMonth()/12);m.setFullYear(Math.round(j/k)*k);m.setMonth(0);m.setDate(0);m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0)}else{if(l=="month"){if(m.getDate()>15){m.setDate(1);m.setMonth(m.getMonth()+1)}else{m.setDate(1)}m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0)}else{if(l=="day"){switch(k){case 5:case 2:m.setHours(Math.round(m.getHours()/24)*24);break;default:m.setHours(Math.round(m.getHours()/12)*12);break}m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0)}else{if(l=="weekday"){switch(k){case 5:case 2:m.setHours(Math.round(m.getHours()/12)*12);break;default:m.setHours(Math.round(m.getHours()/6)*6);break}m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0)}else{if(l=="hour"){switch(k){case 4:m.setMinutes(Math.round(m.getMinutes()/60)*60);break;default:m.setMinutes(Math.round(m.getMinutes()/30)*30);break}m.setSeconds(0);m.setMilliseconds(0)}else{if(l=="minute"){switch(k){case 15:case 10:m.setMinutes(Math.round(m.getMinutes()/5)*5);m.setSeconds(0);break;case 5:m.setSeconds(Math.round(m.getSeconds()/60)*60);break;default:m.setSeconds(Math.round(m.getSeconds()/30)*30);break}m.setMilliseconds(0)}else{if(l=="second"){switch(k){case 15:case 10:m.setSeconds(Math.round(m.getSeconds()/5)*5);m.setMilliseconds(0);break;case 5:m.setMilliseconds(Math.round(m.getMilliseconds()/1000)*1000);break;default:m.setMilliseconds(Math.round(m.getMilliseconds()/500)*500);break}}else{if(l=="millisecond"){var i=k>5?k/2:1;m.setMilliseconds(Math.round(m.getMilliseconds()/i)*i)}}}}}}}}return m};g.prototype.isMajor=function(){if(this.switchedYear==true){this.switchedYear=false;switch(this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return true;default:return false}}else{if(this.switchedMonth==true){this.switchedMonth=false;switch(this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return true;default:return false}}else{if(this.switchedDay==true){this.switchedDay=false;switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return true;default:return false}}}}switch(this.scale){case"millisecond":return(this.current.getMilliseconds()==0);case"second":return(this.current.getSeconds()==0);case"minute":return(this.current.getHours()==0)&&(this.current.getMinutes()==0);case"hour":return(this.current.getHours()==0);case"weekday":case"day":return(this.current.getDate()==1);case"month":return(this.current.getMonth()==0);case"year":return false;default:return false}};g.prototype.getLabelMinor=function(h){if(h==undefined){h=this.current}var i=this.format.minorLabels[this.scale];return(i&&i.length>0)?e(h).format(i):""};g.prototype.getLabelMajor=function(h){if(h==undefined){h=this.current}var i=this.format.majorLabels[this.scale];return(i&&i.length>0)?e(h).format(i):""};g.prototype.getClassName=function(){var j=e(this.current);var i=j.locale?j.locale("en"):j.lang("en");var h=this.step;function k(m){return(m/h%2==0)?" even":" odd"}function q(m){if(m.isSame(new Date(),"day")){return" today"}if(m.isSame(e().add(1,"day"),"day")){return" tomorrow"}if(m.isSame(e().add(-1,"day"),"day")){return" yesterday"}return""}function t(m){return m.isSame(new Date(),"week")?" current-week":""}function o(m){return m.isSame(new Date(),"month")?" current-month":""}function l(m){return m.isSame(new Date(),"year")?" current-year":""}switch(this.scale){case"millisecond":return k(i.milliseconds()).trim();case"second":return k(i.seconds()).trim();case"minute":return k(i.minutes()).trim();case"hour":var s=i.hours();if(this.step==4){s=s+"-"+(s+4)}return s+"h"+q(i)+k(i.hours());case"weekday":return i.format("dddd").toLowerCase()+q(i)+t(i)+k(i.date());case"day":var r=i.date();var n=i.format("MMMM").toLowerCase();return"day"+r+" "+n+o(i)+k(r-1);case"month":return i.format("MMMM").toLowerCase()+o(i)+k(i.month());case"year":var p=i.year();return"year"+p+l(i)+k(p);default:return""}};d.exports=g},function(e,c,f){var b=f(45);var a=f(1);function d(i,h,g){this.id=null;this.parent=null;this.data=i;this.dom=null;this.conversion=h||{};this.options=g||{};this.selected=false;this.displayed=false;this.dirty=true;this.top=null;this.left=null;this.width=null;this.height=null}d.prototype.stack=true;d.prototype.select=function(){this.selected=true;this.dirty=true;if(this.displayed){this.redraw()}};d.prototype.unselect=function(){this.selected=false;this.dirty=true;if(this.displayed){this.redraw()}};d.prototype.setData=function(g){this.data=g;this.dirty=true;if(this.displayed){this.redraw()}};d.prototype.setParent=function(g){if(this.displayed){this.hide();this.parent=g;if(this.parent){this.show()}}else{this.parent=g}};d.prototype.isVisible=function(g){return false};d.prototype.show=function(){return false};d.prototype.hide=function(){return false};d.prototype.redraw=function(){};d.prototype.repositionX=function(){};d.prototype.repositionY=function(){};d.prototype._repaintDeleteButton=function(g){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var h=this;var i=document.createElement("div");i.className="delete";i.title="Delete this item";b(i,{preventDefault:true}).on("tap",function(j){h.parent.removeFromDataSet(h);j.stopPropagation()});g.appendChild(i);this.dom.deleteButton=i}else{if(!this.selected&&this.dom.deleteButton){if(this.dom.deleteButton.parentNode){this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton)}this.dom.deleteButton=null}}};d.prototype._updateContents=function(h){var i;if(this.options.template){var g=this.parent.itemSet.itemsData.get(this.id);i=this.options.template(g)}else{i=this.data.content}if(i!==this.content){if(i instanceof Element){h.innerHTML="";h.appendChild(i)}else{if(i!=undefined){h.innerHTML=i}else{if(!(this.data.type=="background"&&this.data.content===undefined)){throw new Error('Property "content" missing in item '+this.id)}}}this.content=i}};d.prototype._updateTitle=function(g){if(this.data.title!=null){g.title=this.data.title||""}else{g.removeAttribute("title")}};d.prototype._updateDataAttributes=function(k){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var g=[];if(Array.isArray(this.options.dataAttributes)){g=this.options.dataAttributes}else{if(this.options.dataAttributes=="all"){g=Object.keys(this.data)}else{return}}for(var j=0;j<g.length;j++){var h=g[j];var l=this.data[h];if(l!=null){k.setAttribute("data-"+h,l)}else{k.removeAttribute("data-"+h)}}}};d.prototype._updateStyle=function(g){if(this.style){a.removeCssText(g,this.style);this.style=null}if(this.data.style){a.addCssText(g,this.data.style);this.style=this.data.style}};e.exports=d},function(f,c,g){var b=g(45);var e=g(20);var d=g(31);var a=g(24);function h(k,j,i){this.props={content:{width:0}};this.overflow=false;if(k){if(k.start==undefined){throw new Error('Property "start" missing in item '+k.id)}if(k.end==undefined){throw new Error('Property "end" missing in item '+k.id)}}e.call(this,k,j,i);this.emptyContent=false}h.prototype=new e(null,null,null);h.prototype.baseClassName="item background";h.prototype.stack=false;h.prototype.isVisible=function(i){return(this.data.start<i.end)&&(this.data.end>i.start)};h.prototype.redraw=function(){var k=this.dom;if(!k){this.dom={};k=this.dom;k.box=document.createElement("div");k.content=document.createElement("div");k.content.className="content";k.box.appendChild(k.content);this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!k.box.parentNode){var i=this.parent.dom.background;if(!i){throw new Error("Cannot redraw item: parent has no background container element")}i.appendChild(k.box)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.content);this._updateDataAttributes(this.dom.content);this._updateStyle(this.dom.box);var j=(this.data.className?(" "+this.data.className):"")+(this.selected?" selected":"");k.box.className=this.baseClassName+j;this.overflow=window.getComputedStyle(k.content).overflow!=="hidden";this.props.content.width=this.dom.content.offsetWidth;this.height=0;this.dirty=false}};h.prototype.show=a.prototype.show;h.prototype.hide=a.prototype.hide;h.prototype.repositionX=a.prototype.repositionX;h.prototype.repositionY=function(k){var l=this.options.orientation==="top";this.dom.content.style.top=l?"":"0";this.dom.content.style.bottom=l?"0":"";var r;if(this.data.subgroup!==undefined){var p=this.data.subgroup;var j=this.parent.subgroups;var m=j[p].index;if(l==true){r=this.parent.subgroups[p].height+k.item.vertical;r+=m==0?k.axis-0.5*k.item.vertical:0;var o=this.parent.top;for(var q in j){if(j.hasOwnProperty(q)){if(j[q].visible==true&&j[q].index<m){o+=j[q].height+k.item.vertical}}}o+=m!=0?k.axis-0.5*k.item.vertical:0;this.dom.box.style.top=o+"px";this.dom.box.style.bottom=""}else{var o=this.parent.top;var n=0;for(var q in j){if(j.hasOwnProperty(q)){if(j[q].visible==true){var i=j[q].height+k.item.vertical;n+=i;if(j[q].index>m){o+=i}}}}r=this.parent.subgroups[p].height+k.item.vertical;this.dom.box.style.top=(this.parent.height-n+o)+"px";this.dom.box.style.bottom=""}}else{if(this.parent instanceof d){r=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height);this.dom.box.style.top=l?"0":"";this.dom.box.style.bottom=l?"":"0"}else{r=this.parent.height;this.dom.box.style.top=this.parent.top+"px";this.dom.box.style.bottom=""}}this.dom.box.style.height=r+"px"};f.exports=h},function(d,b,f){var c=f(20);var a=f(1);function e(i,h,g){this.props={dot:{width:0,height:0},line:{width:0,height:0}};if(i){if(i.start==undefined){throw new Error('Property "start" missing in item '+i)}}c.call(this,i,h,g)}e.prototype=new c(null,null,null);e.prototype.isVisible=function(h){var g=(h.end-h.start)/4;return(this.data.start>h.start-g)&&(this.data.start<h.end+g)};e.prototype.redraw=function(){var k=this.dom;if(!k){this.dom={};k=this.dom;k.box=document.createElement("DIV");k.content=document.createElement("DIV");k.content.className="content";k.box.appendChild(k.content);k.line=document.createElement("DIV");k.line.className="line";k.dot=document.createElement("DIV");k.dot.className="dot";k.box["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!k.box.parentNode){var j=this.parent.dom.foreground;if(!j){throw new Error("Cannot redraw item: parent has no foreground container element")}j.appendChild(k.box)}if(!k.line.parentNode){var g=this.parent.dom.background;if(!g){throw new Error("Cannot redraw item: parent has no background container element")}g.appendChild(k.line)}if(!k.dot.parentNode){var i=this.parent.dom.axis;if(!g){throw new Error("Cannot redraw item: parent has no axis container element")}i.appendChild(k.dot)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.box);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var h=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");k.box.className="item box"+h;k.line.className="item line"+h;k.dot.className="item dot"+h;this.props.dot.height=k.dot.offsetHeight;this.props.dot.width=k.dot.offsetWidth;this.props.line.width=k.line.offsetWidth;this.width=k.box.offsetWidth;this.height=k.box.offsetHeight;this.dirty=false}this._repaintDeleteButton(k.box)};e.prototype.show=function(){if(!this.displayed){this.redraw()}};e.prototype.hide=function(){if(this.displayed){var g=this.dom;if(g.box.parentNode){g.box.parentNode.removeChild(g.box)}if(g.line.parentNode){g.line.parentNode.removeChild(g.line)}if(g.dot.parentNode){g.dot.parentNode.removeChild(g.dot)}this.displayed=false}};e.prototype.repositionX=function(){var i=this.conversion.toScreen(this.data.start);var h=this.options.align;var g;if(h=="right"){this.left=i-this.width}else{if(h=="left"){this.left=i}else{this.left=i-this.width/2}}this.dom.box.style.left=this.left+"px";this.dom.line.style.left=(i-this.props.line.width/2)+"px";this.dom.dot.style.left=(i-this.props.dot.width/2)+"px"};e.prototype.repositionY=function(){var i=this.options.orientation;var l=this.dom.box;var g=this.dom.line;var h=this.dom.dot;if(i=="top"){l.style.top=(this.top||0)+"px";g.style.top="0";g.style.height=(this.parent.top+this.top+1)+"px";g.style.bottom=""}else{var j=this.parent.itemSet.props.height;var k=j-this.parent.top-this.parent.height+this.top;l.style.top=(this.parent.height-this.top-this.height||0)+"px";g.style.top=(j-k)+"px";g.style.bottom="0"}h.style.top=(-this.props.dot.height/2)+"px"};d.exports=e},function(c,a,d){var b=d(20);function e(h,g,f){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}};if(h){if(h.start==undefined){throw new Error('Property "start" missing in item '+h)}}b.call(this,h,g,f)}e.prototype=new b(null,null,null);e.prototype.isVisible=function(g){var f=(g.end-g.start)/4;return(this.data.start>g.start-f)&&(this.data.start<g.end+f)};e.prototype.redraw=function(){var h=this.dom;if(!h){this.dom={};h=this.dom;h.point=document.createElement("div");h.content=document.createElement("div");h.content.className="content";h.point.appendChild(h.content);h.dot=document.createElement("div");h.point.appendChild(h.dot);h.point["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!h.point.parentNode){var g=this.parent.dom.foreground;if(!g){throw new Error("Cannot redraw item: parent has no foreground container element")}g.appendChild(h.point)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.point);this._updateDataAttributes(this.dom.point);this._updateStyle(this.dom.point);var f=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");h.point.className="item point"+f;h.dot.className="item dot"+f;this.width=h.point.offsetWidth;this.height=h.point.offsetHeight;this.props.dot.width=h.dot.offsetWidth;this.props.dot.height=h.dot.offsetHeight;this.props.content.height=h.content.offsetHeight;h.content.style.marginLeft=2*this.props.dot.width+"px";h.dot.style.top=((this.height-this.props.dot.height)/2)+"px";h.dot.style.left=(this.props.dot.width/2)+"px";this.dirty=false}this._repaintDeleteButton(h.point)};e.prototype.show=function(){if(!this.displayed){this.redraw()}};e.prototype.hide=function(){if(this.displayed){if(this.dom.point.parentNode){this.dom.point.parentNode.removeChild(this.dom.point)}this.displayed=false}};e.prototype.repositionX=function(){var f=this.conversion.toScreen(this.data.start);this.left=f-this.props.dot.width;this.dom.point.style.left=this.left+"px"};e.prototype.repositionY=function(){var g=this.options.orientation,f=this.dom.point;if(g=="top"){f.style.top=this.top+"px"}else{f.style.top=(this.parent.height-this.top-this.height)+"px"}};c.exports=e},function(e,c,f){var b=f(45);var d=f(20);function a(i,h,g){this.props={content:{width:0}};this.overflow=false;if(i){if(i.start==undefined){throw new Error('Property "start" missing in item '+i.id)}if(i.end==undefined){throw new Error('Property "end" missing in item '+i.id)}}d.call(this,i,h,g)}a.prototype=new d(null,null,null);a.prototype.baseClassName="item range";a.prototype.isVisible=function(g){return(this.data.start<g.end)&&(this.data.end>g.start)};a.prototype.redraw=function(){var i=this.dom;if(!i){this.dom={};i=this.dom;i.box=document.createElement("div");i.content=document.createElement("div");i.content.className="content";i.box.appendChild(i.content);i.box["timeline-item"]=this;this.dirty=true}if(!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!i.box.parentNode){var h=this.parent.dom.foreground;if(!h){throw new Error("Cannot redraw item: parent has no foreground container element")}h.appendChild(i.box)}this.displayed=true;if(this.dirty){this._updateContents(this.dom.content);this._updateTitle(this.dom.box);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var g=(this.data.className?(" "+this.data.className):"")+(this.selected?" selected":"");i.box.className=this.baseClassName+g;this.overflow=window.getComputedStyle(i.content).overflow!=="hidden";this.dom.content.style.maxWidth="none";this.props.content.width=this.dom.content.offsetWidth;this.height=this.dom.box.offsetHeight;this.dom.content.style.maxWidth="";this.dirty=false}this._repaintDeleteButton(i.box);this._repaintDragLeft();this._repaintDragRight()};a.prototype.show=function(){if(!this.displayed){this.redraw()}};a.prototype.hide=function(){if(this.displayed){var g=this.dom.box;if(g.parentNode){g.parentNode.removeChild(g)}this.displayed=false}};a.prototype.repositionX=function(l){var j=this.parent.width;var m=this.conversion.toScreen(this.data.start);var h=this.conversion.toScreen(this.data.end);var i;var g;if(l===undefined||l===true){if(m<-j){m=-j}if(h>2*j){h=2*j}}var k=Math.max(h-m,1);if(this.overflow){this.left=m;this.width=k+this.props.content.width;g=this.props.content.width}else{this.left=m;this.width=k;g=Math.min(h-m-2*this.options.padding,this.props.content.width)}this.dom.box.style.left=this.left+"px";this.dom.box.style.width=k+"px";switch(this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max((k-g-2*this.options.padding),0)+"px";break;case"center":this.dom.content.style.left=Math.max((k-g-2*this.options.padding)/2,0)+"px";break;default:if(this.overflow){if(h>0){i=Math.max(-m,0)}else{i=-g}}else{if(m<0){i=Math.min(-m,(h-m-g-2*this.options.padding))}else{i=0}}this.dom.content.style.left=i+"px"}};a.prototype.repositionY=function(){var g=this.options.orientation,h=this.dom.box;if(g=="top"){h.style.top=this.top+"px"}else{h.style.top=(this.parent.height-this.top-this.height)+"px"}};a.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var g=document.createElement("div");g.className="drag-left";g.dragLeftItem=this;b(g,{preventDefault:true}).on("drag",function(){});this.dom.box.appendChild(g);this.dom.dragLeft=g}else{if(!this.selected&&this.dom.dragLeft){if(this.dom.dragLeft.parentNode){this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft)}this.dom.dragLeft=null}}};a.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var g=document.createElement("div");g.className="drag-right";g.dragRightItem=this;b(g,{preventDefault:true}).on("drag",function(){});this.dom.box.appendChild(g);this.dom.dragRight=g}else{if(!this.selected&&this.dom.dragRight){if(this.dom.dragRight.parentNode){this.dom.dragRight.parentNode.removeChild(this.dom.dragRight)}this.dom.dragRight=null}}};e.exports=a},function(c,a,d){function b(e,f){this.options=null;this.props=null}b.prototype.setOptions=function(e){if(e){util.extend(this.options,e)}};b.prototype.redraw=function(){return false};b.prototype.destroy=function(){};b.prototype._isResized=function(){var e=(this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height);this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return e};c.exports=b},function(e,c,g){var b=g(1);var d=g(25);var f=g(44);var a=g(48);function h(i,j){this.body=i;this.defaultOptions={showCurrentTime:true,locales:a,locale:"en"};this.options=b.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(j)}h.prototype=new d();h.prototype._create=function(){var i=document.createElement("div");i.className="currenttime";i.style.position="absolute";i.style.top="0px";i.style.height="100%";this.bar=i};h.prototype.destroy=function(){this.options.showCurrentTime=false;this.redraw();this.body=null};h.prototype.setOptions=function(i){if(i){b.selectiveExtend(["showCurrentTime","locale","locales"],this.options,i)}};h.prototype.redraw=function(){if(this.options.showCurrentTime){var l=this.body.dom.backgroundVertical;if(this.bar.parentNode!=l){if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}l.appendChild(this.bar);this.start()}var k=new Date(new Date().valueOf()+this.offset);var j=this.body.util.toScreen(k);var i=this.options.locales[this.options.locale];var m=i.current+" "+i.time+": "+f(k).format("dddd, MMMM Do YYYY, H:mm:ss");m=m.charAt(0).toUpperCase()+m.substring(1);this.bar.style.left=j+"px";this.bar.title=m}else{if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}this.stop()}return false};h.prototype.start=function(){var i=this;function j(){i.stop();var l=i.body.range.conversion(i.body.domProps.center.width).scale;var k=1/l/10;if(k<30){k=30}if(k>1000){k=1000}i.redraw();i.currentTimeTimer=setTimeout(j,k)}j()};h.prototype.stop=function(){if(this.currentTimeTimer!==undefined){clearTimeout(this.currentTimeTimer);delete this.currentTimeTimer}};h.prototype.setCurrentTime=function(k){var j=b.convert(k,"Date").valueOf();var i=new Date().valueOf();this.offset=j-i;this.redraw()};h.prototype.getCurrentTime=function(){return new Date(new Date().valueOf()+this.offset)};e.exports=h},function(b,d,a){var h=a(45);var e=a(1);var g=a(25);var i=a(44);var c=a(48);function f(j,k){this.body=j;this.defaultOptions={showCustomTime:false,locales:c,locale:"en",id:0};this.options=e.extend({},this.defaultOptions);if(k&&k.time){this.customTime=k.time}else{this.customTime=new Date()}this.eventParams={};this._create();this.setOptions(k)}f.prototype=new g();f.prototype.setOptions=function(j){if(j){e.selectiveExtend(["showCustomTime","locale","locales","id"],this.options,j);if(this.options.id){this.redraw()}}};f.prototype._create=function(){var k=document.createElement("div");k.className="customtime";k.style.position="absolute";k.style.top="0px";k.style.height="100%";this.bar=k;var j=document.createElement("div");j.style.position="relative";j.style.top="0px";j.style.left="-10px";j.style.height="100%";j.style.width="20px";k.appendChild(j);this.hammer=h(k,{prevent_default:true});this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this))};f.prototype.destroy=function(){this.options.showCustomTime=false;this.redraw();this.hammer.enable(false);this.hammer=null;this.body=null};f.prototype.redraw=function(){if(this.options.showCustomTime){var l=this.body.dom.backgroundVertical;if(this.bar.parentNode!=l){if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}l.appendChild(this.bar)}var k=this.body.util.toScreen(this.customTime);var j=this.options.locales[this.options.locale];var m=j.time+": "+i(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");m=m.charAt(0).toUpperCase()+m.substring(1);this.bar.style.left=k+"px";this.bar.title=m}else{if(this.bar.parentNode){this.bar.parentNode.removeChild(this.bar)}}return false};f.prototype.setCustomTime=function(j){this.customTime=e.convert(j,"Date");this.redraw()};f.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};f.prototype._onDragStart=function(j){this.eventParams.dragging=true;this.eventParams.customTime=this.customTime;j.stopPropagation();j.preventDefault()};f.prototype._onDrag=function(l){if(!this.eventParams.dragging){return}var k=l.gesture.deltaX,j=this.body.util.toScreen(this.eventParams.customTime)+k,m=this.body.util.toTime(j);this.setCustomTime(m);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())});l.stopPropagation();l.preventDefault()};f.prototype._onDragEnd=function(j){if(!this.eventParams.dragging){return}this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())});j.stopPropagation();j.preventDefault()};b.exports=f},function(f,b,h){var a=h(1);var g=h(2);var d=h(25);var e=h(16);function c(j,l,k,i){this.id=a.randomUUID();this.body=j;this.defaultOptions={orientation:"left",showMinorLabels:true,showMajorLabels:true,icons:true,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:true,alignZeros:true,customRange:{left:{min:undefined,max:undefined},right:{min:undefined,max:undefined}},title:{left:{text:undefined},right:{text:undefined}},format:{left:{decimals:undefined},right:{decimals:undefined}}};this.linegraphOptions=i;this.linegraphSVG=k;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.range={start:0,end:0};this.options=a.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(l);this.width=Number((""+this.options.width).replace("px",""));this.minWidth=this.width;this.height=this.linegraphSVG.offsetHeight;this.hidden=false;this.stepPixels=25;this.stepPixelsForced=25;this.zeroCrossing=-1;this.lineOffset=0;this.master=true;this.svgElements={};this.iconsRemoved=false;this.groups={};this.amountOfGroups=0;this._create();var m=this;this.body.emitter.on("verticalDrag",function(){m.dom.lineContainer.style.top=m.body.domProps.scrollTop+"px"})}c.prototype=new d();c.prototype.addGroup=function(i,j){if(!this.groups.hasOwnProperty(i)){this.groups[i]=j}this.amountOfGroups+=1};c.prototype.updateGroup=function(i,j){this.groups[i]=j};c.prototype.removeGroup=function(i){if(this.groups.hasOwnProperty(i)){delete this.groups[i];this.amountOfGroups-=1}};c.prototype.setOptions=function(j){if(j){var k=false;if(this.options.orientation!=j.orientation&&j.orientation!==undefined){k=true}var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","customRange","title","format","alignZeros"];a.selectiveExtend(i,this.options,j);this.minWidth=Number((""+this.options.width).replace("px",""));if(k==true&&this.dom.frame){this.hide();this.show()}}};c.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};c.prototype._redrawGroupIcons=function(){g.prepareElements(this.svgElements);var i;var l=this.options.iconWidth;var n=15;var k=4;var m=k+0.5*n;if(this.options.orientation=="left"){i=k}else{i=this.width-l-k}for(var j in this.groups){if(this.groups.hasOwnProperty(j)){if(this.groups[j].visible==true&&(this.linegraphOptions.visibility[j]===undefined||this.linegraphOptions.visibility[j]==true)){this.groups[j].drawIcon(i,m,this.svgElements,this.svg,l,n);m+=n+k}}}g.cleanupElements(this.svgElements);this.iconsRemoved=false};c.prototype._cleanupIcons=function(){if(this.iconsRemoved==false){g.prepareElements(this.svgElements);g.cleanupElements(this.svgElements);this.iconsRemoved=true}};c.prototype.show=function(){this.hidden=false;if(!this.dom.frame.parentNode){if(this.options.orientation=="left"){this.body.dom.left.appendChild(this.dom.frame)}else{this.body.dom.right.appendChild(this.dom.frame)}}if(!this.dom.lineContainer.parentNode){this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)}};c.prototype.hide=function(){this.hidden=true;if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}if(this.dom.lineContainer.parentNode){this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)}};c.prototype.setRange=function(j,i){if(this.master==false&&this.options.alignZeros==true&&this.zeroCrossing!=-1){if(j>0){j=0}}this.range.start=j;this.range.end=i};c.prototype.redraw=function(){var k=false;var i=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var l in this.groups){if(this.groups.hasOwnProperty(l)){if(this.groups[l].visible==true&&(this.linegraphOptions.visibility[l]===undefined||this.linegraphOptions.visibility[l]==true)){i++}}}if(this.amountOfGroups==0||i==0){this.hide()}else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=this.options.visible==true?Number((""+this.options.width).replace("px","")):0;var n=this.props;var p=this.dom.frame;p.className="dataaxis";this._calculateCharSize();var j=this.options.orientation;var o=this.options.showMinorLabels;var m=this.options.showMajorLabels;n.minorLabelHeight=o?n.minorCharHeight:0;n.majorLabelHeight=m?n.majorCharHeight:0;n.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;n.minorLineHeight=1;n.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;n.majorLineHeight=1;if(j=="left"){p.style.top="0";p.style.left="0";p.style.bottom="";p.style.width=this.width+"px";p.style.height=this.height+"px";this.props.width=this.body.domProps.left.width;this.props.height=this.body.domProps.left.height}else{p.style.top="";p.style.bottom="0";p.style.left="0";p.style.width=this.width+"px";p.style.height=this.height+"px";this.props.width=this.body.domProps.right.width;this.props.height=this.body.domProps.right.height}k=this._redrawLabels();k=this._isResized()||k;if(this.options.icons==true){this._redrawGroupIcons()}else{this._cleanupIcons()}this._redrawTitle(j)}return k};c.prototype._redrawLabels=function(){var q=false;g.prepareElements(this.DOMelements.lines);g.prepareElements(this.DOMelements.labels);var j=this.options.orientation;var p=this.master?this.props.majorCharHeight||10:this.stepPixelsForced;var l=new e(this.range.start,this.range.end,p,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation],this.master==false&&this.options.alignZeros);this.step=l;var s=(this.dom.frame.offsetHeight-(l.deadSpace*(this.dom.frame.offsetHeight/l.marginRange)))/(((l.marginRange-l.deadSpace)/l.step));this.stepPixels=s;var z=this.height/s;var t=0;if(this.master==false){s=this.stepPixelsForced;t=Math.round((this.dom.frame.offsetHeight/s)-z);for(var o=0;o<0.5*t;o++){l.previous()}z=this.height/s;if(this.zeroCrossing!=-1&&this.options.alignZeros==true){var n=(l.marginEnd/l.step)-this.zeroCrossing;if(n>0){for(var o=0;o<n;o++){l.next()}}else{if(n<0){for(var o=0;o<-n;o++){l.previous()}}}}}else{z+=0.25}this.valueAtZero=l.marginEnd;var u=0;var w=1;var k;if(this.options.format[j]!==undefined){k=this.options.format[j].decimals}this.maxLabelSize=0;var v=0;while(w<Math.round(z)){l.next();v=Math.round(w*s);u=w*s;var r=l.isMajor();if(this.options.showMinorLabels&&r==false||this.master==false&&this.options.showMinorLabels==true){this._redrawLabel(v-2,l.getCurrent(k),j,"yAxis minor",this.props.minorCharHeight)}if(r&&this.options.showMajorLabels&&this.master==true||this.options.showMinorLabels==false&&this.master==false&&r==true){if(v>=0){this._redrawLabel(v-2,l.getCurrent(k),j,"yAxis major",this.props.majorCharHeight)}this._redrawLine(v,j,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)}else{this._redrawLine(v,j,"grid horizontal minor",this.options.minorLinesOffset,this.props.minorLineWidth)}if(this.master==true&&l.current==0){this.zeroCrossing=w}w++}if(this.master==false){this.conversionFactor=v/(this.valueAtZero-l.current)}else{this.conversionFactor=this.dom.frame.offsetHeight/l.marginRange}var x=0;if(this.options.title[j]!==undefined&&this.options.title[j].text!==undefined){x=this.props.titleCharHeight}var m=this.options.icons==true?Math.max(this.options.iconWidth,x)+this.options.labelOffsetX+15:x+this.options.labelOffsetX+15;if(this.maxLabelSize>(this.width-m)&&this.options.visible==true){this.width=this.maxLabelSize+m;this.options.width=this.width+"px";g.cleanupElements(this.DOMelements.lines);g.cleanupElements(this.DOMelements.labels);this.redraw();q=true}else{if(this.maxLabelSize<(this.width-m)&&this.options.visible==true&&this.width>this.minWidth){this.width=Math.max(this.minWidth,this.maxLabelSize+m);this.options.width=this.width+"px";g.cleanupElements(this.DOMelements.lines);g.cleanupElements(this.DOMelements.labels);this.redraw();q=true}else{g.cleanupElements(this.DOMelements.lines);g.cleanupElements(this.DOMelements.labels);q=false}}return q};c.prototype.convertValue=function(j){var k=this.valueAtZero-j;var i=k*this.conversionFactor;return i};c.prototype.screenToValue=function(i){return this.valueAtZero-(i/this.conversionFactor)};c.prototype._redrawLabel=function(o,n,i,l,k){var j=g.getDOMElement("div",this.DOMelements.labels,this.dom.frame);j.className=l;j.innerHTML=n;if(i=="left"){j.style.left="-"+this.options.labelOffsetX+"px";j.style.textAlign="right"}else{j.style.right="-"+this.options.labelOffsetX+"px";j.style.textAlign="left"}j.style.top=o-0.5*k+this.options.labelOffsetY+"px";n+="";var m=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);if(this.maxLabelSize<n.length*m){this.maxLabelSize=n.length*m}};c.prototype._redrawLine=function(n,j,l,m,k){if(this.master==true){var i=g.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);i.className=l;i.innerHTML="";if(j=="left"){i.style.left=(this.width-m)+"px"}else{i.style.right=(this.width-m)+"px"}i.style.width=k+"px";i.style.top=n+"px"}};c.prototype._redrawTitle=function(i){g.prepareElements(this.DOMelements.title);if(this.options.title[i]!==undefined&&this.options.title[i].text!==undefined){var j=g.getDOMElement("div",this.DOMelements.title,this.dom.frame);j.className="yAxis title "+i;j.innerHTML=this.options.title[i].text;if(this.options.title[i].style!==undefined){a.addCssText(j,this.options.title[i].style)}if(i=="left"){j.style.left=this.props.titleCharHeight+"px"}else{j.style.right=this.props.titleCharHeight+"px"}j.style.width=this.height+"px"}g.cleanupElements(this.DOMelements.title)};c.prototype._calculateCharSize=function(){if(!("minorCharHeight" in this.props)){var n=document.createTextNode("0");var k=document.createElement("div");k.className="yAxis minor measure";k.appendChild(n);this.dom.frame.appendChild(k);this.props.minorCharHeight=k.clientHeight;this.props.minorCharWidth=k.clientWidth;this.dom.frame.removeChild(k)}if(!("majorCharHeight" in this.props)){var l=document.createTextNode("0");var i=document.createElement("div");i.className="yAxis major measure";i.appendChild(l);this.dom.frame.appendChild(i);this.props.majorCharHeight=i.clientHeight;this.props.majorCharWidth=i.clientWidth;this.dom.frame.removeChild(i)}if(!("titleCharHeight" in this.props)){var j=document.createTextNode("0");var m=document.createElement("div");m.className="yAxis title measure";m.appendChild(j);this.dom.frame.appendChild(m);this.props.titleCharHeight=m.clientHeight;this.props.titleCharWidth=m.clientWidth;this.dom.frame.removeChild(m)}};f.exports=c},function(c,f,b){var g=b(1);var i=b(2);var e=b(49);var h=b(50);var a=b(51);function d(m,l,k,n){this.id=l;var j=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","catmullRom"];this.options=g.selectiveBridgeObject(j,k);this.usingDefaultStyle=m.className===undefined;this.groupsUsingDefaultStyles=n;this.zeroPosition=0;this.update(m);if(this.usingDefaultStyle==true){this.groupsUsingDefaultStyles[0]+=1}this.itemsData=[];this.visible=m.visible===undefined?true:m.visible}d.prototype.setItems=function(j){if(j!=null){this.itemsData=j;if(this.options.sort==true){this.itemsData.sort(function(l,k){return l.x-k.x})}}else{this.itemsData=[]}};d.prototype.setZeroPosition=function(j){this.zeroPosition=j};d.prototype.setOptions=function(k){if(k!==undefined){var j=["sampling","style","sort","yAxisOrientation","barChart"];g.selectiveDeepExtend(j,this.options,k);g.mergeOptions(this.options,k,"catmullRom");g.mergeOptions(this.options,k,"drawPoints");g.mergeOptions(this.options,k,"shaded");if(k.catmullRom){if(typeof k.catmullRom=="object"){if(k.catmullRom.parametrization){if(k.catmullRom.parametrization=="uniform"){this.options.catmullRom.alpha=0}else{if(k.catmullRom.parametrization=="chordal"){this.options.catmullRom.alpha=1}else{this.options.catmullRom.parametrization="centripetal";this.options.catmullRom.alpha=0.5}}}}}}if(this.options.style=="line"){this.type=new e(this.id,this.options)}else{if(this.options.style=="bar"){this.type=new h(this.id,this.options)}else{if(this.options.style=="points"){this.type=new a(this.id,this.options)}}}};d.prototype.update=function(j){this.group=j;this.content=j.content||"graph";this.className=j.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10;this.visible=j.visible===undefined?true:j.visible;this.style=j.style;this.setOptions(j.options)};d.prototype.drawIcon=function(t,q,s,k,o,r){var n=r*0.5;var w,p;var j=i.getSVGElement("rect",s,k);j.setAttributeNS(null,"x",t);j.setAttributeNS(null,"y",q-n);j.setAttributeNS(null,"width",o);j.setAttributeNS(null,"height",2*n);j.setAttributeNS(null,"class","outline");if(this.options.style=="line"){w=i.getSVGElement("path",s,k);w.setAttributeNS(null,"class",this.className);if(this.style!==undefined){w.setAttributeNS(null,"style",this.style)}w.setAttributeNS(null,"d","M"+t+","+q+" L"+(t+o)+","+q+"");if(this.options.shaded.enabled==true){p=i.getSVGElement("path",s,k);if(this.options.shaded.orientation=="top"){p.setAttributeNS(null,"d","M"+t+", "+(q-n)+"L"+t+","+q+" L"+(t+o)+","+q+" L"+(t+o)+","+(q-n))}else{p.setAttributeNS(null,"d","M"+t+","+q+" L"+t+","+(q+n)+" L"+(t+o)+","+(q+n)+"L"+(t+o)+","+q)}p.setAttributeNS(null,"class",this.className+" iconFill")}if(this.options.drawPoints.enabled==true){i.drawPoint(t+0.5*o,q,this,s,k)}}else{var v=Math.round(0.3*o);var m=Math.round(0.4*r);var u=Math.round(0.75*r);var l=Math.round((o-(2*v))/3);i.drawBar(t+0.5*v+l,q+n-m-1,v,m,this.className+" bar",s,k);i.drawBar(t+1.5*v+l+2,q+n-u-1,v,u,this.className+" bar",s,k)}};d.prototype.getLegend=function(k,l){var j=document.createElementNS("http://www.w3.org/2000/svg","svg");this.drawIcon(0,0.5*l,[],j,k,l);return{icon:j,label:this.content,orientation:this.options.yAxisOrientation}};d.prototype.getYRange=function(j){return this.type.getYRange(j)};d.prototype.draw=function(l,k,j){this.type.draw(l,k,j)};c.exports=d},function(f,d,g){var c=g(1);var b=g(18);var a=g(24);function e(h,k,i){this.groupId=h;this.subgroups={};this.subgroupIndex=0;this.subgroupOrderer=k&&k.subgroupOrder;this.itemSet=i;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=false;var j=this;this.itemSet.body.emitter.on("checkRangedItems",function(){j.checkRangedItems=true});this._create();this.setData(k)}e.prototype._create=function(){var i=document.createElement("div");i.className="vlabel";this.dom.label=i;var h=document.createElement("div");h.className="inner";i.appendChild(h);this.dom.inner=h;var j=document.createElement("div");j.className="group";j["timeline-group"]=this;this.dom.foreground=j;this.dom.background=document.createElement("div");this.dom.background.className="group";this.dom.axis=document.createElement("div");this.dom.axis.className="group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.innerHTML="?";this.dom.background.appendChild(this.dom.marker)};e.prototype.setData=function(j){var i=j&&j.content;if(i instanceof Element){this.dom.inner.appendChild(i)}else{if(i!==undefined&&i!==null){this.dom.inner.innerHTML=i}else{this.dom.inner.innerHTML=this.groupId||""}}this.dom.label.title=j&&j.title||"";if(!this.dom.inner.firstChild){c.addClassName(this.dom.inner,"hidden")}else{c.removeClassName(this.dom.inner,"hidden")}var h=j&&j.className||null;if(h!=this.className){if(this.className){c.removeClassName(this.dom.label,this.className);c.removeClassName(this.dom.foreground,this.className);c.removeClassName(this.dom.background,this.className);c.removeClassName(this.dom.axis,this.className)}c.addClassName(this.dom.label,h);c.addClassName(this.dom.foreground,h);c.addClassName(this.dom.background,h);c.addClassName(this.dom.axis,h);this.className=h}if(this.style){c.removeCssText(this.dom.label,this.style);this.style=null}if(j&&j.style){c.addCssText(this.dom.label,j.style);this.style=j.style}};e.prototype.getLabelWidth=function(){return this.props.label.width};e.prototype.redraw=function(m,j,o){var n=false;var r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight){this.lastMarkerHeight=r;c.forEach(this.items,function(i){i.dirty=true;if(i.displayed){i.redraw()}});o=true}if(typeof this.itemSet.options.order==="function"){if(o){var q=this;var k=false;c.forEach(this.items,function(i){if(!i.displayed){i.redraw();q.visibleItems.push(i)}i.repositionX(k)});var h=this.orderedItems.byStart.slice().sort(function(v,i){return q.itemSet.options.order(v.data,i.data)});b.stack(h,j,true)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,m)}else{this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,m);if(this.itemSet.options.stack){b.stack(this.visibleItems,j,o)}else{b.nostack(this.visibleItems,j,this.subgroups)}}var t=this._calculateHeight(j);var p=this.dom.foreground;this.top=p.offsetTop;this.left=p.offsetLeft;this.width=p.offsetWidth;n=c.updateProperty(this,"height",t)||n;n=c.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||n;n=c.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||n;this.dom.background.style.height=t+"px";this.dom.foreground.style.height=t+"px";this.dom.label.style.height=t+"px";for(var l=0,s=this.visibleItems.length;l<s;l++){var u=this.visibleItems[l];u.repositionY(j)}return n};e.prototype._calculateHeight=function(m){var j;var i=this.visibleItems;this.resetSubgroups();var l=this;if(i.length){var k=i[0].top;var h=i[0].top+i[0].height;c.forEach(i,function(o){k=Math.min(k,o.top);h=Math.max(h,(o.top+o.height));if(o.data.subgroup!==undefined){l.subgroups[o.data.subgroup].height=Math.max(l.subgroups[o.data.subgroup].height,o.height);l.subgroups[o.data.subgroup].visible=true}});if(k>m.axis){var n=k-m.axis;h-=n;c.forEach(i,function(o){o.top-=n})}j=h+m.item.vertical/2}else{j=m.axis+m.item.vertical}j=Math.max(j,this.props.label.height);return j};e.prototype.show=function(){if(!this.dom.label.parentNode){this.itemSet.dom.labelSet.appendChild(this.dom.label)}if(!this.dom.foreground.parentNode){this.itemSet.dom.foreground.appendChild(this.dom.foreground)}if(!this.dom.background.parentNode){this.itemSet.dom.background.appendChild(this.dom.background)}if(!this.dom.axis.parentNode){this.itemSet.dom.axis.appendChild(this.dom.axis)}};e.prototype.hide=function(){var h=this.dom.label;if(h.parentNode){h.parentNode.removeChild(h)}var k=this.dom.foreground;if(k.parentNode){k.parentNode.removeChild(k)}var i=this.dom.background;if(i.parentNode){i.parentNode.removeChild(i)}var j=this.dom.axis;if(j.parentNode){j.parentNode.removeChild(j)}};e.prototype.add=function(i){this.items[i.id]=i;i.setParent(this);if(i.data.subgroup!==undefined){if(this.subgroups[i.data.subgroup]===undefined){this.subgroups[i.data.subgroup]={height:0,visible:false,index:this.subgroupIndex,items:[]};this.subgroupIndex++}this.subgroups[i.data.subgroup].items.push(i)}this.orderSubgroups();if(this.visibleItems.indexOf(i)==-1){var h=this.itemSet.body.range;this._checkIfVisible(i,this.visibleItems,h)}};e.prototype.orderSubgroups=function(){if(this.subgroupOrderer!==undefined){var k=[];if(typeof this.subgroupOrderer=="string"){for(var h in this.subgroups){k.push({subgroup:h,sortField:this.subgroups[h].items[0].data[this.subgroupOrderer]})}k.sort(function(l,i){return l.sortField-i.sortField})}else{if(typeof this.subgroupOrderer=="function"){for(var h in this.subgroups){k.push(this.subgroups[h].items[0].data)}k.sort(this.subgroupOrderer)}}if(k.length>0){for(var j=0;j<k.length;j++){this.subgroups[k[j].subgroup].index=j}}}};e.prototype.resetSubgroups=function(){for(var h in this.subgroups){if(this.subgroups.hasOwnProperty(h)){this.subgroups[h].visible=false}}};e.prototype.remove=function(i){delete this.items[i.id];i.setParent(null);var h=this.visibleItems.indexOf(i);if(h!=-1){this.visibleItems.splice(h,1)}};e.prototype.removeFromDataSet=function(h){this.itemSet.removeItem(h.id)};e.prototype.order=function(){var l=c.toArray(this.items);var k=[];var h=[];for(var j=0;j<l.length;j++){if(l[j].data.end!==undefined){h.push(l[j])}k.push(l[j])}this.orderedItems={byStart:k,byEnd:h};b.orderByStart(this.orderedItems.byStart);b.orderByEnd(this.orderedItems.byEnd)};e.prototype._updateVisibleItems=function(p,m,n){var u=[];var r={};var h=(n.end-n.start)/4;var s=n.start-h;var k=n.end+h;var t,l;var o=function(i){if(i<s){return -1}else{if(i<=k){return 0}else{return 1}}};if(m.length>0){for(l=0;l<m.length;l++){this._checkIfVisibleWithReference(m[l],u,r,n)}}var q=c.binarySearchCustom(p.byStart,o,"data","start");this._traceVisible(q,p.byStart,u,r,function(i){return(i.data.start<s||i.data.start>k)});if(this.checkRangedItems==true){this.checkRangedItems=false;for(l=0;l<p.byEnd.length;l++){this._checkIfVisibleWithReference(p.byEnd[l],u,r,n)}}else{var j=c.binarySearchCustom(p.byEnd,o,"data","end");this._traceVisible(j,p.byEnd,u,r,function(i){return(i.data.end<s||i.data.end>k)})}for(l=0;l<u.length;l++){t=u[l];if(!t.displayed){t.show()}t.repositionX()}return u};e.prototype._traceVisible=function(o,j,h,n,l){var m;var k;if(o!=-1){for(k=o;k>=0;k--){m=j[k];if(l(m)){break}else{if(n[m.id]===undefined){n[m.id]=true;h.push(m)}}}for(k=o+1;k<j.length;k++){m=j[k];if(l(m)){break}else{if(n[m.id]===undefined){n[m.id]=true;h.push(m)}}}}};e.prototype._checkIfVisible=function(j,h,i){if(j.isVisible(i)){if(!j.displayed){j.show()}j.repositionX();h.push(j)}else{if(j.displayed){j.hide()}}};e.prototype._checkIfVisibleWithReference=function(j,h,k,i){if(j.isVisible(i)){if(k[j.id]===undefined){k[j.id]=true;h.push(j)}}else{if(j.displayed){j.hide()}}};f.exports=e},function(e,b,f){var a=f(1);var d=f(30);function c(g,i,h){d.call(this,g,i,h);this.width=0;this.height=0;this.top=0;this.left=0}c.prototype=Object.create(d.prototype);c.prototype.redraw=function(h,n,j){var g=false;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,h);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";for(var k=0,l=this.visibleItems.length;k<l;k++){var m=this.visibleItems[k];m.repositionY(n)}return g};c.prototype.show=function(){if(!this.dom.background.parentNode){this.itemSet.dom.background.appendChild(this.dom.background)}};e.exports=c},function(e,q,f){var p=f(45);var b=f(1);var g=f(3);var d=f(4);var h=f(19);var i=f(25);var j=f(30);var r=f(31);var a=f(22);var l=f(23);var k=f(24);var c=f(21);var m="__ungrouped__";var n="__background__";function o(s,t){this.body=s;this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:true,groupOrder:null,selectable:true,editable:{updateTime:false,updateGroup:false,add:false,remove:false},snap:h.snap,onAdd:function(v,w){w(v)},onUpdate:function(v,w){w(v)},onMove:function(v,w){w(v)},onRemove:function(v,w){w(v)},onMoving:function(v,w){w(v)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5};this.options=b.extend({},this.defaultOptions);this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:s.util.toScreen,toTime:s.util.toTime};this.dom={};this.props={};this.hammer=null;var u=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function(v,x,w){u._onAdd(x.items)},update:function(v,x,w){u._onUpdate(x.items)},remove:function(v,x,w){u._onRemove(x.items)}};this.groupListeners={add:function(v,x,w){u._onAddGroups(x.items)},update:function(v,x,w){u._onUpdateGroups(x.items)},remove:function(v,x,w){u._onRemoveGroups(x.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.stackDirty=true;this.touchParams={};this._create();this.setOptions(t)}o.prototype=new i();o.types={background:c,box:a,range:k,point:l};o.prototype._create=function(){var x=document.createElement("div");x.className="itemset";x["timeline-itemset"]=this;this.dom.frame=x;var s=document.createElement("div");s.className="background";x.appendChild(s);this.dom.background=s;var u=document.createElement("div");u.className="foreground";x.appendChild(u);this.dom.foreground=u;var t=document.createElement("div");t.className="axis";this.dom.axis=t;var w=document.createElement("div");w.className="labelset";this.dom.labelSet=w;this._updateUngrouped();var v=new r(n,null,this);v.show();this.groups[n]=v;this.hammer=p(this.body.dom.centerContainer,{preventDefault:true});this.hammer.on("touch",this._onTouch.bind(this));this.hammer.on("dragstart",this._onDragStart.bind(this));this.hammer.on("drag",this._onDrag.bind(this));this.hammer.on("dragend",this._onDragEnd.bind(this));this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("hold",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.show()};o.prototype.setOptions=function(t){if(t){var s=["type","align","orientation","order","padding","stack","selectable","groupOrder","dataAttributes","template","hide","snap"];b.selectiveExtend(s,this.options,t);if("margin" in t){if(typeof t.margin==="number"){this.options.margin.axis=t.margin;this.options.margin.item.horizontal=t.margin;this.options.margin.item.vertical=t.margin}else{if(typeof t.margin==="object"){b.selectiveExtend(["axis"],this.options.margin,t.margin);if("item" in t.margin){if(typeof t.margin.item==="number"){this.options.margin.item.horizontal=t.margin.item;this.options.margin.item.vertical=t.margin.item}else{if(typeof t.margin.item==="object"){b.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)}}}}}}if("editable" in t){if(typeof t.editable==="boolean"){this.options.editable.updateTime=t.editable;this.options.editable.updateGroup=t.editable;this.options.editable.add=t.editable;this.options.editable.remove=t.editable}else{if(typeof t.editable==="object"){b.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable)}}}var u=(function(v){var w=t[v];if(w){if(!(w instanceof Function)){throw new Error("option "+v+" must be a function "+v+"(item, callback)")}this.options[v]=w}}).bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(u);this.markDirty()}};o.prototype.markDirty=function(s){this.groupIds=[];this.stackDirty=true;if(s&&s.refreshItems){b.forEach(this.items,function(t){t.dirty=true;if(t.displayed){t.redraw()}})}};o.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null};o.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}if(this.dom.axis.parentNode){this.dom.axis.parentNode.removeChild(this.dom.axis)}if(this.dom.labelSet.parentNode){this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}};o.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}if(!this.dom.axis.parentNode){this.body.dom.backgroundVertical.appendChild(this.dom.axis)}if(!this.dom.labelSet.parentNode){this.body.dom.left.appendChild(this.dom.labelSet)}};o.prototype.setSelection=function(u){var s,t,w,v;if(u==undefined){u=[]}if(!Array.isArray(u)){u=[u]}for(s=0,t=this.selection.length;s<t;s++){w=this.selection[s];v=this.items[w];if(v){v.unselect()}}this.selection=[];for(s=0,t=u.length;s<t;s++){w=u[s];v=this.items[w];if(v){this.selection.push(w);v.select()}}};o.prototype.getSelection=function(){return this.selection.concat([])};o.prototype.getVisibleItems=function(){var w=this.body.range.getRange();var t=this.body.util.toScreen(w.start);var y=this.body.util.toScreen(w.end);var s=[];for(var u in this.groups){if(this.groups.hasOwnProperty(u)){var x=this.groups[u];var A=x.visibleItems;for(var v=0;v<A.length;v++){var z=A[v];if((z.left<y)&&(z.left+z.width>t)){s.push(z.id)}}}}return s};o.prototype._deselect=function(v){var u=this.selection;for(var s=0,t=u.length;s<t;s++){if(u[s]==v){u.splice(s,1);break}}};o.prototype.redraw=function(){var x=this.options.margin,z=this.body.range,t=b.option.asSize,H=this.options,u=H.orientation,A=false,v=this.dom.frame,w=H.editable.updateTime||H.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;v.className="itemset"+(w?" editable":"");A=this._orderGroups()||A;var s=z.end-z.start;var G=(s!=this.lastVisibleInterval)||(this.props.width!=this.props.lastWidth);if(G){this.stackDirty=true}this.lastVisibleInterval=s;this.props.lastWidth=this.props.width;var C=this.stackDirty;var y=this._firstGroup();var B={item:x.item,axis:x.axis};var D={item:x.item,axis:x.item.vertical/2};var F=0;var E=x.axis+x.item.vertical;this.groups[n].redraw(z,D,C);b.forEach(this.groups,function(K){var I=(K==y)?B:D;var J=K.redraw(z,I,C);A=J||A;F+=K.height});F=Math.max(F,E);this.stackDirty=false;v.style.height=t(F);this.props.width=v.offsetWidth;this.props.height=F;this.dom.axis.style.top=t((u=="top")?(this.body.domProps.top.height+this.body.domProps.border.top):(this.body.domProps.top.height+this.body.domProps.centerContainer.height));this.dom.axis.style.left="0";A=this._isResized()||A;return A};o.prototype._firstGroup=function(){var s=(this.options.orientation=="top")?0:(this.groupIds.length-1);var t=this.groupIds[s];var u=this.groups[t]||this.groups[m];return u||null};o.prototype._updateUngrouped=function(){var s=this.groups[m];var u=this.groups[n];var v,y;if(this.groupsData){if(s){s.hide();delete this.groups[m];for(y in this.items){if(this.items.hasOwnProperty(y)){v=this.items[y];v.parent&&v.parent.remove(v);var t=this._getGroupId(v.data);var x=this.groups[t];x&&x.add(v)||v.hide()}}}}else{if(!s){var z=null;var w=null;s=new j(z,w,this);this.groups[m]=s;for(y in this.items){if(this.items.hasOwnProperty(y)){v=this.items[y];s.add(v)}}s.show()}}};o.prototype.getLabelSet=function(){return this.dom.labelSet};o.prototype.setItems=function(s){var v=this,t,u=this.itemsData;if(!s){this.itemsData=null}else{if(s instanceof g||s instanceof d){this.itemsData=s}else{throw new TypeError("Data must be an instance of DataSet or DataView")}}if(u){b.forEach(this.itemListeners,function(y,x){u.off(x,y)});t=u.getIds();this._onRemove(t)}if(this.itemsData){var w=this.id;b.forEach(this.itemListeners,function(y,x){v.itemsData.on(x,y,w)});t=this.itemsData.getIds();this._onAdd(t);this._updateUngrouped()}};o.prototype.getItems=function(){return this.itemsData};o.prototype.setGroups=function(s){var u=this,t;if(this.groupsData){b.forEach(this.groupListeners,function(x,w){u.groupsData.unsubscribe(w,x)});t=this.groupsData.getIds();this.groupsData=null;this._onRemoveGroups(t)}if(!s){this.groupsData=null}else{if(s instanceof g||s instanceof d){this.groupsData=s}else{throw new TypeError("Data must be an instance of DataSet or DataView")}}if(this.groupsData){var v=this.id;b.forEach(this.groupListeners,function(x,w){u.groupsData.on(w,x,v)});t=this.groupsData.getIds();this._onAddGroups(t)}this._updateUngrouped();this._order();this.body.emitter.emit("change",{queue:true})};o.prototype.getGroups=function(){return this.groupsData};o.prototype.removeItem=function(u){var s=this.itemsData.get(u),t=this.itemsData.getDataSet();if(s){this.options.onRemove(s,function(v){if(v){t.remove(u)}})}};o.prototype._getType=function(s){return s.type||this.options.type||(s.end?"range":"box")};o.prototype._getGroupId=function(s){var t=this._getType(s);if(t=="background"&&s.group==undefined){return n}else{return this.groupsData?s.group:m}};o.prototype._onUpdate=function(s){var t=this;s.forEach(function(y){var u=t.itemsData.get(y,t.itemOptions);var x=t.items[y];var w=t._getType(u);var v=o.types[w];if(x){if(!v||!(x instanceof v)){t._removeItem(x);x=null}else{t._updateItem(x,u)}}if(!x){if(v){x=new v(u,t.conversion,t.options);x.id=y;t._addItem(x)}else{if(w=="rangeoverflow"){throw new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}')}else{throw new TypeError('Unknown item type "'+w+'"')}}}});this._order();this.stackDirty=true;this.body.emitter.emit("change",{queue:true})};o.prototype._onAdd=o.prototype._onUpdate;o.prototype._onRemove=function(s){var u=0;var t=this;s.forEach(function(w){var v=t.items[w];if(v){u++;t._removeItem(v)}});if(u){this._order();this.stackDirty=true;this.body.emitter.emit("change",{queue:true})}};o.prototype._order=function(){b.forEach(this.groups,function(s){s.order()})};o.prototype._onUpdateGroups=function(s){this._onAddGroups(s)};o.prototype._onAddGroups=function(s){var t=this;s.forEach(function(z){var v=t.groupsData.get(z);var x=t.groups[z];if(!x){if(z==m||z==n){throw new Error("Illegal group id. "+z+" is a reserved id.")}var u=Object.create(t.options);b.extend(u,{height:null});x=new j(z,v,t);t.groups[z]=x;for(var y in t.items){if(t.items.hasOwnProperty(y)){var w=t.items[y];if(w.data.group==z){x.add(w)}}}x.order();x.show()}else{x.setData(v)}});this.body.emitter.emit("change",{queue:true})};o.prototype._onRemoveGroups=function(t){var s=this.groups;t.forEach(function(v){var u=s[v];if(u){u.hide();delete s[v]}});this.markDirty();this.body.emitter.emit("change",{queue:true})};o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});var u=!b.equalArray(t,this.groupIds);if(u){var s=this.groups;t.forEach(function(v){s[v].hide()});t.forEach(function(v){s[v].show()});this.groupIds=t}return u}else{return false}};o.prototype._addItem=function(t){this.items[t.id]=t;var s=this._getGroupId(t.data);var u=this.groups[s];if(u){u.add(t)}};o.prototype._updateItem=function(w,s){var t=w.data.group;w.setData(s);if(t!=w.data.group){var v=this.groups[t];if(v){v.remove(w)}var u=this._getGroupId(w.data);var x=this.groups[u];if(x){x.add(w)}}};o.prototype._removeItem=function(t){t.hide();delete this.items[t.id];var s=this.selection.indexOf(t.id);if(s!=-1){this.selection.splice(s,1)}t.parent&&t.parent.remove(t)};o.prototype._constructByEndArray=function(u){var s=[];for(var t=0;t<u.length;t++){if(u[t] instanceof k){s.push(u[t])}}return s};o.prototype._onTouch=function(s){this.touchParams.item=this.itemFromTarget(s)};o.prototype._onDragStart=function(w){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup){return}var v=this.touchParams.item||null;var u=this;var t;if(v&&v.selected){var s=w.target.dragLeftItem;var x=w.target.dragRightItem;if(s){t={item:s,initialX:w.gesture.center.clientX};if(u.options.editable.updateTime){t.start=v.data.start.valueOf()}if(u.options.editable.updateGroup){if("group" in v.data){t.group=v.data.group}}this.touchParams.itemProps=[t]}else{if(x){t={item:x,initialX:w.gesture.center.clientX};if(u.options.editable.updateTime){t.end=v.data.end.valueOf()}if(u.options.editable.updateGroup){if("group" in v.data){t.group=v.data.group}}this.touchParams.itemProps=[t]}else{this.touchParams.itemProps=this.getSelection().map(function(A){var z=u.items[A];var y={item:z,initialX:w.gesture.center.clientX};if(u.options.editable.updateTime){if("start" in z.data){y.start=z.data.start.valueOf();if("end" in z.data){y.duration=z.data.end.valueOf()-y.start}}}if(u.options.editable.updateGroup){if("group" in z.data){y.group=z.data.group}}return y})}}w.stopPropagation()}else{if(this.options.editable.add&&w.gesture.srcEvent.ctrlKey){this._onDragStartAddItem(w)}}};o.prototype._onDragStartAddItem=function(s){var z=this.options.snap||null;var E=b.getAbsoluteLeft(this.dom.frame);var F=s.gesture.center.pageX-E-10;var w=this.body.util.toTime(F);var y=this.body.util.getScale();var v=this.body.util.getStep();var u=z?z(w,y,v):u;var B=u;var A={type:"range",start:u,end:B,content:"new item"};var t=b.randomUUID();A[this.itemsData._fieldId]=t;var G=this.groupFromTarget(s);if(G){A.group=G.groupId}var C=new k(A,this.conversion,this.options);C.id=t;this._addItem(C);var D={item:C,end:B.valueOf(),initialX:s.gesture.center.clientX};this.touchParams.itemProps=[D];s.stopPropagation()};o.prototype._onDrag=function(w){w.preventDefault();if(this.touchParams.itemProps){var v=this;var s=this.options.snap||null;var t=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var x=this.body.util.getScale();var u=this.body.util.getStep();this.touchParams.itemProps.forEach(function(E){var G={};var C=v.body.util.toTime(w.gesture.center.clientX-t);var D=v.body.util.toTime(E.initialX-t);var B=C-D;if("start" in E){var y=new Date(E.start+B);G.start=s?s(y,x,u):y}if("end" in E){var A=new Date(E.end+B);G.end=s?s(A,x,u):A}else{if("duration" in E){G.end=new Date(G.start.valueOf()+E.duration)}}if("group" in E){var F=v.groupFromTarget(w);G.group=F&&F.groupId}var z=b.extend({},E.item.data,G);v.options.onMoving(z,function(H){if(H){v._updateItemProps(E.item,H)}})});this.stackDirty=true;this.body.emitter.emit("change");w.stopPropagation()}};o.prototype._updateItemProps=function(t,s){if("start" in s){t.data.start=s.start}if("end" in s){t.data.end=s.end}else{if("duration" in s){t.data.end=new Date(s.start.valueOf()+s.duration)}}if("group" in s&&t.data.group!=s.group){this._moveToGroup(t,s.group)}};o.prototype._moveToGroup=function(u,t){var v=this.groups[t];if(v&&v.groupId!=u.data.group){var s=u.parent;s.remove(u);s.order();v.add(u);v.order();u.data.group=v.groupId}};o.prototype._onDragEnd=function(u){u.preventDefault();if(this.touchParams.itemProps){var s=[];var t=this;var w=this.itemsData.getDataSet();var v=this.touchParams.itemProps;this.touchParams.itemProps=null;v.forEach(function(y){var A=y.item.id;var x=t.itemsData.get(A,t.itemOptions);if(!x){t.options.onAdd(y.item.data,function(B){t._removeItem(y.item);if(B){t.itemsData.getDataSet().add(B)}t.stackDirty=true;t.body.emitter.emit("change")})}else{var z=false;if("start" in y.item.data){z=(y.start!=y.item.data.start.valueOf());x.start=b.convert(y.item.data.start,w._options.type&&w._options.type.start||"Date")}if("end" in y.item.data){z=z||(y.end!=y.item.data.end.valueOf());x.end=b.convert(y.item.data.end,w._options.type&&w._options.type.end||"Date")}if("group" in y.item.data){z=z||(y.group!=y.item.data.group);x.group=y.item.data.group}if(z){t.options.onMove(x,function(B){if(B){B[w._fieldId]=A;s.push(B)}else{t._updateItemProps(y.item,y);t.stackDirty=true;t.body.emitter.emit("change")}})}}});if(s.length){w.update(s)}u.stopPropagation()}};o.prototype._onSelectItem=function(x){if(!this.options.selectable){return}var y=x.gesture.srcEvent&&x.gesture.srcEvent.ctrlKey;var u=x.gesture.srcEvent&&x.gesture.srcEvent.shiftKey;if(y||u){this._onMultiSelectItem(x);return}var t=this.getSelection();var w=this.itemFromTarget(x);var v=w?[w.id]:[];this.setSelection(v);var s=this.getSelection();if(s.length>0||t.length>0){this.body.emitter.emit("select",{items:s})}};o.prototype._onAddItem=function(s){if(!this.options.selectable){return}if(!this.options.editable.add){return}var B=this,w=this.options.snap||null,F=this.itemFromTarget(s);if(F){var z=B.itemsData.get(F.id);this.options.onUpdate(z,function(x){if(x){B.itemsData.getDataSet().update(x)}})}else{var C=b.getAbsoluteLeft(this.dom.frame);var D=s.gesture.center.pageX-C;var t=this.body.util.toTime(D);var v=this.body.util.getScale();var u=this.body.util.getStep();var A={start:w?w(t,v,u):t,content:"new item"};if(this.options.type==="range"){var y=this.body.util.toTime(D+this.props.width/5);A.end=w?w(y,v,u):y}A[this.itemsData._fieldId]=b.randomUUID();var E=this.groupFromTarget(s);if(E){A.group=E.groupId}this.options.onAdd(A,function(x){if(x){B.itemsData.getDataSet().add(x)}})}};o.prototype._onMultiSelectItem=function(s){if(!this.options.selectable){return}var A,B=this.itemFromTarget(s);if(B){A=this.getSelection();var y=s.gesture.touches[0]&&s.gesture.touches[0].shiftKey||false;if(y){A.push(B.id);var w=o._getItemRange(this.itemsData.get(A,this.itemOptions));A=[];for(var t in this.items){if(this.items.hasOwnProperty(t)){var z=this.items[t];var u=z.data.start;var v=(z.data.end!==undefined)?z.data.end:u;if(u>=w.min&&v<=w.max){A.push(z.id)}}}}else{var x=A.indexOf(B.id);if(x==-1){A.push(B.id)}else{A.splice(x,1)}}this.setSelection(A);this.body.emitter.emit("select",{items:this.getSelection()})}};o._getItemRange=function(u){var s=null;var t=null;u.forEach(function(v){if(t==null||v.start<t){t=v.start}if(v.end!=undefined){if(s==null||v.end>s){s=v.end}}else{if(s==null||v.start>s){s=v.start}}});return{min:t,max:s}};o.prototype.itemFromTarget=function(s){var t=s.target;while(t){if(t.hasOwnProperty("timeline-item")){return t["timeline-item"]}t=t.parentNode}return null};o.prototype.groupFromTarget=function(v){var u=v.gesture?v.gesture.center.clientY:v.clientY;for(var t=0;t<this.groupIds.length;t++){var s=this.groupIds[t];var y=this.groups[s];var w=y.dom.foreground;var x=b.getAbsoluteTop(w);if(u>x&&u<x+w.offsetHeight){return y}if(this.options.orientation==="top"){if(t===this.groupIds.length-1&&u>x){return y}}else{if(t===0&&u<x+w.offset){return y}}}return null};o.itemSetFromTarget=function(s){var t=s.target;while(t){if(t.hasOwnProperty("timeline-itemset")){return t["timeline-itemset"]}t=t.parentNode}return null};e.exports=o},function(e,b,g){var a=g(1);var f=g(2);var c=g(25);function d(i,j,k,h){this.body=i;this.defaultOptions={enabled:true,icons:true,iconSize:20,iconSpacing:6,left:{visible:true,position:"top-left"},right:{visible:true,position:"top-left"}};this.side=k;this.options=a.extend({},this.defaultOptions);this.linegraphOptions=h;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.setOptions(j)}d.prototype=new c();d.prototype.clear=function(){this.groups={};this.amountOfGroups=0};d.prototype.addGroup=function(h,i){if(!this.groups.hasOwnProperty(h)){this.groups[h]=i}this.amountOfGroups+=1};d.prototype.updateGroup=function(h,i){this.groups[h]=i};d.prototype.removeGroup=function(h){if(this.groups.hasOwnProperty(h)){delete this.groups[h];this.amountOfGroups-=1}};d.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="legendText";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top=0+"px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};d.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}};d.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}};d.prototype.setOptions=function(i){var h=["enabled","orientation","icons","left","right"];a.selectiveDeepExtend(h,this.options,i)};d.prototype.redraw=function(){var h=0;for(var i in this.groups){if(this.groups.hasOwnProperty(i)){if(this.groups[i].visible==true&&(this.linegraphOptions.visibility[i]===undefined||this.linegraphOptions.visibility[i]==true)){h++}}}if(this.options[this.side].visible==false||this.amountOfGroups==0||this.options.enabled==false||h==0){this.hide()}else{this.show();if(this.options[this.side].position=="top-left"||this.options[this.side].position=="bottom-left"){this.dom.frame.style.left="4px";this.dom.frame.style.textAlign="left";this.dom.textArea.style.textAlign="left";this.dom.textArea.style.left=(this.options.iconSize+15)+"px";this.dom.textArea.style.right="";this.svg.style.left=0+"px";this.svg.style.right=""}else{this.dom.frame.style.right="4px";this.dom.frame.style.textAlign="right";this.dom.textArea.style.textAlign="right";this.dom.textArea.style.right=(this.options.iconSize+15)+"px";this.dom.textArea.style.left="";this.svg.style.right=0+"px";this.svg.style.left=""}if(this.options[this.side].position=="top-left"||this.options[this.side].position=="top-right"){this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.bottom=""}else{var k=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+k+Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.top=""}if(this.options.icons==false){this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px";this.dom.textArea.style.right="";this.dom.textArea.style.left="";this.svg.style.width="0px"}else{this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px";this.drawLegendIcons()}var j="";for(var i in this.groups){if(this.groups.hasOwnProperty(i)){if(this.groups[i].visible==true&&(this.linegraphOptions.visibility[i]===undefined||this.linegraphOptions.visibility[i]==true)){j+=this.groups[i].content+"<br />"}}}this.dom.textArea.innerHTML=j;this.dom.textArea.style.lineHeight=((0.75*this.options.iconSize)+this.options.iconSpacing)+"px"}};d.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){f.prepareElements(this.svgElements);var k=window.getComputedStyle(this.dom.frame).paddingTop;var j=Number(k.replace("px",""));var h=j;var l=this.options.iconSize;var n=0.75*this.options.iconSize;var m=j+0.5*n+3;this.svg.style.width=l+5+j+"px";for(var i in this.groups){if(this.groups.hasOwnProperty(i)){if(this.groups[i].visible==true&&(this.linegraphOptions.visibility[i]===undefined||this.linegraphOptions.visibility[i]==true)){this.groups[i].drawIcon(h,m,this.svgElements,this.svg,l,n);m+=n+this.options.iconSpacing}}}f.cleanupElements(this.svgElements)}};e.exports=d},function(e,g,d){var i=d(1);var n=d(2);var c=d(3);var j=d(4);var m=d(25);var b=d(28);var f=d(29);var a=d(33);var l=d(50);var k="__ungrouped__";function h(o,p){this.id=i.randomUUID();this.body=o;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:true,sampling:true,graphHeight:"400px",shaded:{enabled:false,orientation:"bottom"},style:"line",barChart:{width:50,handleOverlap:"overlap",align:"center"},catmullRom:{enabled:true,parametrization:"centripetal",alpha:0.5},drawPoints:{enabled:true,size:6,style:"square"},dataAxis:{showMinorLabels:true,showMajorLabels:true,icons:false,width:"40px",visible:true,alignZeros:true,customRange:{left:{min:undefined,max:undefined},right:{min:undefined,max:undefined}}},legend:{enabled:false,icons:true,left:{visible:true,position:"top-left"},right:{visible:true,position:"top-right"}},groups:{visibility:{}}};this.options=i.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=false;this.updateSVGheight=false;this.updateSVGheightOnResize=false;var q=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function(r,t,s){q._onAdd(t.items)},update:function(r,t,s){q._onUpdate(t.items)},remove:function(r,t,s){q._onRemove(t.items)}};this.groupListeners={add:function(r,t,s){q._onAddGroups(t.items)},update:function(r,t,s){q._onUpdateGroups(t.items)},remove:function(r,t,s){q._onRemoveGroups(t.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(p);this.groupsUsingDefaultStyles=[0];this.COUNTER=0;this.body.emitter.on("rangechanged",function(){q.lastStart=q.body.range.start;q.svg.style.left=i.option.asSize(-q.props.width);q.redraw.call(q,true)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.body.emitter.emit("change")}h.prototype=new m();h.prototype._create=function(){var o=document.createElement("div");o.className="LineGraph";this.dom.frame=o;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";o.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new b(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new b(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new a(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new a(this.body,this.options.legend,"right",this.options.groups);this.show()};h.prototype.setOptions=function(p){if(p){var o=["sampling","defaultGroup","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];if(p.graphHeight===undefined&&p.height!==undefined&&this.body.domProps.centerContainer.height!==undefined){this.updateSVGheight=true;this.updateSVGheightOnResize=true}else{if(this.body.domProps.centerContainer.height!==undefined&&p.graphHeight!==undefined){if(parseInt((p.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height){this.updateSVGheight=true}}}i.selectiveDeepExtend(o,this.options,p);i.mergeOptions(this.options,p,"catmullRom");i.mergeOptions(this.options,p,"drawPoints");i.mergeOptions(this.options,p,"shaded");i.mergeOptions(this.options,p,"legend");if(p.catmullRom){if(typeof p.catmullRom=="object"){if(p.catmullRom.parametrization){if(p.catmullRom.parametrization=="uniform"){this.options.catmullRom.alpha=0}else{if(p.catmullRom.parametrization=="chordal"){this.options.catmullRom.alpha=1}else{this.options.catmullRom.parametrization="centripetal";this.options.catmullRom.alpha=0.5}}}}}if(this.yAxisLeft){if(p.dataAxis!==undefined){this.yAxisLeft.setOptions(this.options.dataAxis);this.yAxisRight.setOptions(this.options.dataAxis)}}if(this.legendLeft){if(p.legend!==undefined){this.legendLeft.setOptions(this.options.legend);this.legendRight.setOptions(this.options.legend)}}if(this.groups.hasOwnProperty(k)){this.groups[k].setOptions(p)}}if(this.dom.frame){this.redraw(true)}};h.prototype.hide=function(){if(this.dom.frame.parentNode){this.dom.frame.parentNode.removeChild(this.dom.frame)}};h.prototype.show=function(){if(!this.dom.frame.parentNode){this.body.dom.center.appendChild(this.dom.frame)}};h.prototype.setItems=function(o){var r=this,p,q=this.itemsData;if(!o){this.itemsData=null}else{if(o instanceof c||o instanceof j){this.itemsData=o}else{throw new TypeError("Data must be an instance of DataSet or DataView")}}if(q){i.forEach(this.itemListeners,function(u,t){q.off(t,u)});p=q.getIds();this._onRemove(p)}if(this.itemsData){var s=this.id;i.forEach(this.itemListeners,function(u,t){r.itemsData.on(t,u,s)});p=this.itemsData.getIds();this._onAdd(p)}this._updateUngrouped();this.redraw(true)};h.prototype.setGroups=function(o){var q=this;var p;if(this.groupsData){i.forEach(this.groupListeners,function(t,s){q.groupsData.unsubscribe(s,t)});p=this.groupsData.getIds();this.groupsData=null;this._onRemoveGroups(p)}if(!o){this.groupsData=null}else{if(o instanceof c||o instanceof j){this.groupsData=o}else{throw new TypeError("Data must be an instance of DataSet or DataView")}}if(this.groupsData){var r=this.id;i.forEach(this.groupListeners,function(t,s){q.groupsData.on(s,t,r)});p=this.groupsData.getIds();this._onAddGroups(p)}this._onUpdate()};h.prototype._onUpdate=function(o){this._updateUngrouped();this._updateAllGroupData();this.redraw(true)};h.prototype._onAdd=function(o){this._onUpdate(o)};h.prototype._onRemove=function(o){this._onUpdate(o)};h.prototype._onUpdateGroups=function(o){for(var p=0;p<o.length;p++){var q=this.groupsData.get(o[p]);this._updateGroup(q,o[p])}this.redraw(true)};h.prototype._onAddGroups=function(o){this._onUpdateGroups(o)};h.prototype._onRemoveGroups=function(o){for(var p=0;p<o.length;p++){if(this.groups.hasOwnProperty(o[p])){if(this.groups[o[p]].options.yAxisOrientation=="right"){this.yAxisRight.removeGroup(o[p]);this.legendRight.removeGroup(o[p]);this.legendRight.redraw()}else{this.yAxisLeft.removeGroup(o[p]);this.legendLeft.removeGroup(o[p]);this.legendLeft.redraw()}delete this.groups[o[p]]}}this._updateUngrouped();this.redraw(true)};h.prototype._updateGroup=function(p,o){if(!this.groups.hasOwnProperty(o)){this.groups[o]=new f(p,o,this.options,this.groupsUsingDefaultStyles);if(this.groups[o].options.yAxisOrientation=="right"){this.yAxisRight.addGroup(o,this.groups[o]);this.legendRight.addGroup(o,this.groups[o])}else{this.yAxisLeft.addGroup(o,this.groups[o]);this.legendLeft.addGroup(o,this.groups[o])}}else{this.groups[o].update(p);if(this.groups[o].options.yAxisOrientation=="right"){this.yAxisRight.updateGroup(o,this.groups[o]);this.legendRight.updateGroup(o,this.groups[o])}else{this.yAxisLeft.updateGroup(o,this.groups[o]);this.legendLeft.updateGroup(o,this.groups[o])}}this.legendLeft.redraw();this.legendRight.redraw()};h.prototype._updateAllGroupData=function(){if(this.itemsData!=null){var p={};var o;for(o in this.groups){if(this.groups.hasOwnProperty(o)){p[o]=[]}}for(var r in this.itemsData._data){if(this.itemsData._data.hasOwnProperty(r)){var q=this.itemsData._data[r];if(p[q.group]===undefined){throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.")}q.x=i.convert(q.x,"Date");p[q.group].push(q)}}for(o in this.groups){if(this.groups.hasOwnProperty(o)){this.groups[o].setItems(p[o])}}}};h.prototype._updateUngrouped=function(){if(this.itemsData&&this.itemsData!=null){var o=0;for(var r in this.itemsData._data){if(this.itemsData._data.hasOwnProperty(r)){var p=this.itemsData._data[r];if(p!=undefined){if(p.hasOwnProperty("group")){if(p.group===undefined){p.group=k}}else{p.group=k}o=p.group==k?o+1:o}}}if(o==0){delete this.groups[k];this.legendLeft.removeGroup(k);this.legendRight.removeGroup(k);this.yAxisLeft.removeGroup(k);this.yAxisRight.removeGroup(k)}else{var q={id:k,content:this.options.defaultGroup};this._updateGroup(q,k)}}else{delete this.groups[k];this.legendLeft.removeGroup(k);this.legendRight.removeGroup(k);this.yAxisLeft.removeGroup(k);this.yAxisRight.removeGroup(k)}this.legendLeft.redraw();this.legendRight.redraw()};h.prototype.redraw=function(o){var q=false;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height;if(this.lastWidth===undefined&&this.props.width){o=true}q=this._isResized()||q;var r=this.body.range.end-this.body.range.start;var v=(r!=this.lastVisibleInterval);this.lastVisibleInterval=r;if(q==true){this.svg.style.width=i.option.asSize(3*this.props.width);this.svg.style.left=i.option.asSize(-this.props.width);if((this.options.height+"").indexOf("%")!=-1||this.updateSVGheightOnResize==true){this.updateSVGheight=true}}if(this.updateSVGheight==true){if(this.options.graphHeight!=this.body.domProps.centerContainer.height+"px"){this.options.graphHeight=this.body.domProps.centerContainer.height+"px";this.svg.style.height=this.body.domProps.centerContainer.height+"px"}this.updateSVGheight=false}else{this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px"}if(q==true||v==true||this.abortedGraphUpdate==true||o==true){q=this._updateGraph()||q}else{if(this.lastStart!=0){var u=this.body.range.start-this.lastStart;var p=this.body.range.end-this.body.range.start;if(this.props.width!=0){var t=this.props.width/p;var s=u*t;this.svg.style.left=(-this.props.width-s)+"px"}}}this.legendLeft.redraw();this.legendRight.redraw();return q};h.prototype._updateGraph=function(){n.prepareElements(this.svgElements);if(this.props.width!=0&&this.itemsData!=null){var x,u;var w={};var o={};var y={};var z=false;var q=[];for(var t in this.groups){if(this.groups.hasOwnProperty(t)){x=this.groups[t];if(x.visible==true&&(this.options.groups.visibility[t]===undefined||this.options.groups.visibility[t]==true)){q.push(t)}}}if(q.length>0){var s=this.body.util.toGlobalTime(-this.body.domProps.root.width);var p=this.body.util.toGlobalTime(2*this.body.domProps.root.width);var r={};this._getRelevantData(q,r,s,p);this._applySampling(q,r);for(u=0;u<q.length;u++){w[q[u]]=this._convertXcoordinates(r[q[u]])}this._getYRanges(q,w,y);z=this._updateYAxis(q,y);var v=5;if(z==true&&this.COUNTER<v){n.cleanupElements(this.svgElements);this.abortedGraphUpdate=true;this.COUNTER++;this.body.emitter.emit("change");return true}else{if(this.COUNTER>v){console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle.")}this.COUNTER=0;this.abortedGraphUpdate=false;for(u=0;u<q.length;u++){x=this.groups[q[u]];o[q[u]]=this._convertYcoordinates(r[q[u]],x)}for(u=0;u<q.length;u++){x=this.groups[q[u]];if(x.options.style!="bar"){x.draw(o[q[u]],x,this.framework)}}l.draw(q,o,this.framework)}}}n.cleanupElements(this.svgElements);return false};h.prototype._getRelevantData=function(p,q,r,o){var w,t,s,x;if(p.length>0){for(t=0;t<p.length;t++){w=this.groups[p[t]];q[p[t]]=[];var v=q[p[t]];if(w.options.sort==true){var u=Math.max(0,i.binarySearchValue(w.itemsData,r,"x","before"));for(s=u;s<w.itemsData.length;s++){x=w.itemsData[s];if(x!==undefined){if(x.x>o){v.push(x);break}else{v.push(x)}}}}else{for(s=0;s<w.itemsData.length;s++){x=w.itemsData[s];if(x!==undefined){if(x.x>r&&x.x<o){v.push(x)}}}}}}};h.prototype._applySampling=function(o,p){var y;if(o.length>0){for(var s=0;s<o.length;s++){y=this.groups[o[s]];if(y.options.sampling==true){var w=p[o[s]];if(w.length>0){var x=1;var q=w.length;var u=this.body.util.toGlobalScreen(w[w.length-1].x)-this.body.util.toGlobalScreen(w[0].x);var v=q/u;x=Math.min(Math.ceil(0.2*q),Math.max(1,Math.round(v)));var t=[];for(var r=0;r<q;r+=x){t.push(w[r])}p[o[s]]=t}}}}};h.prototype._getYRanges=function(o,p,v){var q,t,s;var r=[];var u=[];var w;if(o.length>0){for(s=0;s<o.length;s++){q=p[o[s]];w=this.groups[o[s]].options;if(q.length>0){t=this.groups[o[s]];if(w.barChart.handleOverlap=="stack"&&w.style=="bar"){if(w.yAxisOrientation=="left"){r=r.concat(t.getYRange(q))}else{u=u.concat(t.getYRange(q))}}else{v[o[s]]=t.getYRange(q,o[s])}}}l.getStackedBarYRange(r,v,o,"__barchartLeft","left");l.getStackedBarYRange(u,v,o,"__barchartRight","right")}};h.prototype._updateYAxis=function(p,A){var t=false;var q=false;var v=false;var r=1000000000,w=1000000000,o=-1000000000,u=-1000000000,y,z;if(p.length>0){for(var s=0;s<p.length;s++){var x=this.groups[p[s]];if(x&&x.options.yAxisOrientation!="right"){q=true;r=0;o=0}else{if(x&&x.options.yAxisOrientation){v=true;w=0;u=0}}}for(var s=0;s<p.length;s++){if(A.hasOwnProperty(p[s])){if(A[p[s]].ignore!==true){y=A[p[s]].min;z=A[p[s]].max;if(A[p[s]].yAxisOrientation!="right"){q=true;r=r>y?y:r;o=o<z?z:o}else{v=true;w=w>y?y:w;u=u<z?z:u}}}}if(q==true){this.yAxisLeft.setRange(r,o)}if(v==true){this.yAxisRight.setRange(w,u)}}t=this._toggleAxisVisiblity(q,this.yAxisLeft)||t;t=this._toggleAxisVisiblity(v,this.yAxisRight)||t;if(v==true&&q==true){this.yAxisLeft.drawIcons=true;this.yAxisRight.drawIcons=true}else{this.yAxisLeft.drawIcons=false;this.yAxisRight.drawIcons=false}this.yAxisRight.master=!q;if(this.yAxisRight.master==false){if(v==true){this.yAxisLeft.lineOffset=this.yAxisRight.width}else{this.yAxisLeft.lineOffset=0}t=this.yAxisLeft.redraw()||t;this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels;this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing;t=this.yAxisRight.redraw()||t}else{t=this.yAxisRight.redraw()||t}if(p.indexOf("__barchartLeft")!=-1){p.splice(p.indexOf("__barchartLeft"),1)}if(p.indexOf("__barchartRight")!=-1){p.splice(p.indexOf("__barchartRight"),1)}return t};h.prototype._toggleAxisVisiblity=function(o,p){var q=false;if(o==false){if(p.dom.frame.parentNode&&p.hidden==false){p.hide();q=true}}else{if(!p.dom.frame.parentNode&&p.hidden==true){p.show();q=true}}return q};h.prototype._convertXcoordinates=function(t){var r=[];var q,p;var s=this.body.util.toScreen;for(var o=0;o<t.length;o++){q=s(t[o].x)+this.props.width;p=t[o].y;r.push({x:q,y:p})}return r};h.prototype._convertYcoordinates=function(u,x){var s=[];var q,w;var v=this.body.util.toScreen;var o=this.yAxisLeft;var t=Number(this.svg.style.height.replace("px",""));if(x.options.yAxisOrientation=="right"){o=this.yAxisRight}for(var r=0;r<u.length;r++){var p;p=u[r].label?u[r].label:null;q=v(u[r].x)+this.props.width;w=Math.round(o.convertValue(u[r].y));s.push({x:q,y:w,label:p})}x.setZeroPosition(Math.min(t,o.convertValue(0)));return s};e.exports=h},function(b,e,a){var f=a(1);var g=a(25);var c=a(19);var h=a(15);var i=a(44);function d(j,k){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:"bottom",showMinorLabels:true,showMajorLabels:true,format:null,timeAxis:null};this.options=f.extend({},this.defaultOptions);this.body=j;this._create();this.setOptions(k)}d.prototype=new g();d.prototype.setOptions=function(j){if(j){f.selectiveExtend(["orientation","showMinorLabels","showMajorLabels","hiddenDates","format","timeAxis"],this.options,j);if("locale" in j){if(typeof i.locale==="function"){i.locale(j.locale)}else{i.lang(j.locale)}}}};d.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="timeaxis foreground";this.dom.background.className="timeaxis background"};d.prototype.destroy=function(){if(this.dom.foreground.parentNode){this.dom.foreground.parentNode.removeChild(this.dom.foreground)}if(this.dom.background.parentNode){this.dom.background.parentNode.removeChild(this.dom.background)}this.body=null};d.prototype.redraw=function(){var t=this.options;var p=this.props;var o=this.dom.foreground;var j=this.dom.background;var q=(t.orientation=="top")?this.body.dom.top:this.body.dom.bottom;var s=(o.parentNode!==q);this._calculateCharSize();var k=this.options.orientation,n=this.options.showMinorLabels,m=this.options.showMajorLabels;p.minorLabelHeight=n?p.minorCharHeight:0;p.majorLabelHeight=m?p.majorCharHeight:0;p.height=p.minorLabelHeight+p.majorLabelHeight;p.width=o.offsetWidth;p.minorLineHeight=this.body.domProps.root.height-p.majorLabelHeight-(t.orientation=="top"?this.body.domProps.bottom.height:this.body.domProps.top.height);p.minorLineWidth=1;p.majorLineHeight=p.minorLineHeight+p.majorLabelHeight;p.majorLineWidth=1;var l=o.nextSibling;var r=j.nextSibling;o.parentNode&&o.parentNode.removeChild(o);j.parentNode&&j.parentNode.removeChild(j);o.style.height=this.props.height+"px";this._repaintLabels();if(l){q.insertBefore(o,l)}else{q.appendChild(o)}if(r){this.body.dom.backgroundVertical.insertBefore(j,r)}else{this.body.dom.backgroundVertical.appendChild(j)}return this._isResized()||s};d.prototype._repaintLabels=function(){var m=this.options.orientation;var o=f.convert(this.body.range.start,"Number");var n=f.convert(this.body.range.end,"Number");var k=this.body.util.toTime((this.props.minorCharWidth||10)*7).valueOf();var B=k-h.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,k);B-=this.body.util.toTime(0).valueOf();var q=new c(new Date(o),new Date(n),B,this.body.hiddenDates);if(this.options.format){q.setFormat(this.options.format)}if(this.options.timeAxis){q.setScale(this.options.timeAxis)}this.step=q;var z=this.dom;z.redundant.lines=z.lines;z.redundant.majorTexts=z.majorTexts;z.redundant.minorTexts=z.minorTexts;z.lines=[];z.majorTexts=[];z.minorTexts=[];var l;var t=0;var A;var C=0;var v=0;var s;var p=undefined;var y=0;var j;q.first();while(q.hasNext()&&y<1000){y++;l=q.getCurrent();A=q.isMajor();j=q.getClassName();C=t;t=this.body.util.toScreen(l);v=t-C;if(s){s.style.width=v+"px"}if(this.options.showMinorLabels){this._repaintMinorText(t,q.getLabelMinor(),m,j)}if(A&&this.options.showMajorLabels){if(t>0){if(p==undefined){p=t}this._repaintMajorText(t,q.getLabelMajor(),m,j)}s=this._repaintMajorLine(t,m,j)}else{s=this._repaintMinorLine(t,m,j)}q.next()}if(this.options.showMajorLabels){var u=this.body.util.toTime(0),w=q.getLabelMajor(u),r=w.length*(this.props.majorCharWidth||10)+10;if(p==undefined||r<p){this._repaintMajorText(0,w,m,j)}}f.forEach(this.dom.redundant,function(x){while(x.length){var D=x.pop();if(D&&D.parentNode){D.parentNode.removeChild(D)}}})};d.prototype._repaintMinorText=function(j,o,k,m){var l=this.dom.redundant.minorTexts.shift();if(!l){var n=document.createTextNode("");l=document.createElement("div");l.appendChild(n);this.dom.foreground.appendChild(l)}this.dom.minorTexts.push(l);l.childNodes[0].nodeValue=o;l.style.top=(k=="top")?(this.props.majorLabelHeight+"px"):"0";l.style.left=j+"px";l.className="text minor "+m};d.prototype._repaintMajorText=function(j,o,k,m){var l=this.dom.redundant.majorTexts.shift();if(!l){var n=document.createTextNode(o);l=document.createElement("div");l.appendChild(n);this.dom.foreground.appendChild(l)}this.dom.majorTexts.push(l);l.childNodes[0].nodeValue=o;l.className="text major "+m;l.style.top=(k=="top")?"0":(this.props.minorLabelHeight+"px");l.style.left=j+"px"};d.prototype._repaintMinorLine=function(j,l,n){var k=this.dom.redundant.lines.shift();if(!k){k=document.createElement("div");this.dom.background.appendChild(k)}this.dom.lines.push(k);var m=this.props;if(l=="top"){k.style.top=m.majorLabelHeight+"px"}else{k.style.top=this.body.domProps.top.height+"px"}k.style.height=m.minorLineHeight+"px";k.style.left=(j-m.minorLineWidth/2)+"px";k.className="grid vertical minor "+n;return k};d.prototype._repaintMajorLine=function(j,l,n){var k=this.dom.redundant.lines.shift();if(!k){k=document.createElement("div");this.dom.background.appendChild(k)}this.dom.lines.push(k);var m=this.props;if(l=="top"){k.style.top="0"}else{k.style.top=this.body.domProps.top.height+"px"}k.style.left=(j-m.majorLineWidth/2)+"px";k.style.height=m.majorLineHeight+"px";k.className="grid vertical major "+n;return k};d.prototype._calculateCharSize=function(){if(!this.dom.measureCharMinor){this.dom.measureCharMinor=document.createElement("DIV");this.dom.measureCharMinor.className="text minor measure";this.dom.measureCharMinor.style.position="absolute";this.dom.measureCharMinor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMinor)}this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;if(!this.dom.measureCharMajor){this.dom.measureCharMajor=document.createElement("DIV");this.dom.measureCharMajor.className="text major measure";this.dom.measureCharMajor.style.position="absolute";this.dom.measureCharMajor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMajor)}this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};b.exports=d},function(c,u,d){var m=d(56);var t=d(45);var j=d(57);var a=d(1);var n=d(47);var f=d(3);var b=d(4);var o=d(42);var p=d(43);var h=d(38);var i=d(39);var r=d(40);var k=d(37);var e=d(41);var s=d(52);var q=d(53);var g=d(54);d(55);function l(v,z,w){if(!(this instanceof l)){throw new SyntaxError("Constructor must be called with the new operator")}this._determineBrowserMethod();this._initializeMixinLoaders();this.containerElement=v;this.renderRefreshRate=60;this.renderTimestep=1000/this.renderRefreshRate;this.renderTime=0;this.physicsTime=0;this.runDoubleSpeed=false;this.physicsDiscreteStepsize=0.5;this.initializing=true;this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null};var y=function(B,A,C,D){if(A==B){return 0.5}else{var E=1/(A-B);return Math.max(0,(D-B)*E)}};this.defaultOptions={nodes:{customScalingFunction:y,mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:undefined,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:undefined,fontStrokeWidth:0,fontStrokeColor:"#ffffff",fontDrawThreshold:3,scaleFontWithValue:false,fontSizeMin:14,fontSizeMax:30,fontSizeMaxVisible:30,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},group:undefined,borderWidth:1,borderWidthSelected:undefined},edges:{customScalingFunction:y,widthMin:1,widthMax:15,width:1,widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},opacity:1,fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",fontStrokeWidth:0,fontStrokeColor:"white",labelAlignment:"horizontal",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:undefined},inheritColor:"from",useGradients:false},configurePhysics:false,physics:{barnesHut:{enabled:true,thetaInverted:1/0.5,gravitationalConstant:-2000,centralGravity:0.3,springLength:95,springConstant:0.04,damping:0.09},repulsion:{centralGravity:0,springLength:200,springConstant:0.05,nodeDistance:100,damping:0.09},hierarchicalRepulsion:{enabled:false,centralGravity:0,springLength:100,springConstant:0.01,nodeDistance:150,damping:0.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:false,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:0.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:0.2,fontSizeMultiplier:4,maxFontSize:1000,forceAmplification:0.1,distanceAmplification:0.1,edgeGrowth:20,nodeScaling:{width:1,height:1,radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2,clusterByZoom:true},navigation:{enabled:false},keyboard:{enabled:false,speed:{x:10,y:10,zoom:0.02},bindToWindow:true},dataManipulation:{enabled:false,initiallyVisible:false},hierarchicalLayout:{enabled:false,levelSeparation:150,nodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:false,smoothCurves:{enabled:true,dynamic:true,type:"continuous",roundness:0.5},maxVelocity:50,minVelocity:0.1,stabilize:true,stabilizationIterations:1000,zoomExtentOnStabilize:true,locale:"en",locales:g,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:true,dragNodes:true,zoomable:true,hover:false,hideEdgesOnDrag:false,hideNodesOnDrag:false,width:"100%",height:"100%",selectable:true,useDefaultGroups:true};this.constants=a.extend({},this.defaultOptions);this.pixelRatio=1;this.hoverObj={nodes:{},edges:{}};this.controlNodesActive=false;this.navigationHammers=[];this.manipulationHammers=[];this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.animating=false;this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=null;this.lockedOnNodeOffset=null;this.touchTime=0;this.redrawRequested=false;var x=this;this.groups=new h();this.images=new i();this.images.setOnloadCallback(function(A){x._requestRedraw()});this.xIncrement=0;this.yIncrement=0;this.zoomIncrement=0;this._loadPhysicsSystem();this._create();this._loadSectorSystem();this._loadClusterSystem();this._loadSelectionSystem();this._loadHierarchySystem();this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2);this._setScale(1);this.setOptions(w);this.freezeSimulationEnabled=false;this.cachedFunctions={};this.startedStabilization=false;this.stabilized=false;this.stabilizationIterations=null;this.draggingNodes=false;this.calculationNodes={};this.calculationNodeIndices=[];this.nodeIndices=[];this.nodes={};this.edges={};this.canvasTopLeft={x:0,y:0};this.canvasBottomRight={x:0,y:0};this.pointerPosition={x:0,y:0};this.areaCenter={};this.scale=1;this.previousScale=this.scale;this.nodesData=null;this.edgesData=null;this.nodesListeners={add:function(A,B){x._addNodes(B.items);x.start()},update:function(A,B){x._updateNodes(B.items);x.start()},remove:function(A,B){x._removeNodes(B.items);x.start()}};this.edgesListeners={add:function(A,B){x._addEdges(B.items);x.start()},update:function(A,B){x._updateEdges(B.items);x.start()},remove:function(A,B){x._removeEdges(B.items);x.start()}};this.moving=true;this.timer=undefined;this.setData(z,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled);this.initializing=false;if(this.constants.hierarchicalLayout.enabled==true){this._setupHierarchicalLayout()}else{if(this.constants.stabilize==false){this.zoomExtent({duration:0},true,this.constants.clustering.enabled)}}if(this.constants.clustering.enabled){this.startWithClustering()}}m(l.prototype);l.prototype._determineBrowserMethod=function(){var v=navigator.userAgent.toLowerCase();this.requiresTimeout=false;if(v.indexOf("msie 9.0")!=-1){this.requiresTimeout=true}else{if(v.indexOf("safari")!=-1){if(v.indexOf("chrome")<=-1){this.requiresTimeout=true}}}};l.prototype._getScriptPath=function(){var v=document.getElementsByTagName("script");for(var x=0;x<v.length;x++){var y=v[x].src;var w=y&&/\/?vis(.min)?\.js$/.exec(y);if(w){return y.substring(0,y.length-w[0].length)}}return null};l.prototype._getRange=function(w){var C=1000000000,z=-1000000000,v=1000000000,A=-1000000000,y;if(w.length>0){for(var x=0;x<w.length;x++){y=this.nodes[w[x]];if(v>(y.boundingBox.left)){v=y.boundingBox.left}if(A<(y.boundingBox.right)){A=y.boundingBox.right}if(C>(y.boundingBox.bottom)){C=y.boundingBox.top}if(z<(y.boundingBox.top)){z=y.boundingBox.bottom}}}else{for(var B in this.nodes){if(this.nodes.hasOwnProperty(B)){y=this.nodes[B];if(v>(y.boundingBox.left)){v=y.boundingBox.left}if(A<(y.boundingBox.right)){A=y.boundingBox.right}if(C>(y.boundingBox.bottom)){C=y.boundingBox.top}if(z<(y.boundingBox.top)){z=y.boundingBox.bottom}}}}if(v==1000000000&&A==-1000000000&&C==1000000000&&z==-1000000000){C=0,z=0,v=0,A=0}return{minX:v,maxX:A,minY:C,maxY:z}};l.prototype._findCenter=function(v){return{x:(0.5*(v.maxX+v.minX)),y:(0.5*(v.maxY+v.minY))}};l.prototype.zoomExtent=function(J,H,x){this._redraw(true);if(H===undefined){H=false}if(x===undefined){x=false}if(J===undefined){J={nodes:[]}}if(J.nodes===undefined){J.nodes=[]}var D;var C;if(H==true){var I=0;for(var z in this.nodes){if(this.nodes.hasOwnProperty(z)){var B=this.nodes[z];if(B.predefinedPosition==true){I+=1}}}if(I>0.5*this.nodeIndices.length){this.zoomExtent(J,false,x);return}D=this._getRange(J.nodes);var A=this.nodeIndices.length;if(this.constants.smoothCurves==true){if(this.constants.clustering.enabled==true&&A>=this.constants.clustering.initialMaxNodes){C=49.07548/(A+142.05338)+0.00091444}else{C=12.662/(A+7.4147)+0.0964822}}else{if(this.constants.clustering.enabled==true&&A>=this.constants.clustering.initialMaxNodes){C=77.5271985/(A+187.266146)+0.0000476710517}else{C=30.5062972/(A+19.93597763)+0.08413486}}var E=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600);C*=E}else{D=this._getRange(J.nodes);var F=Math.abs(D.maxX-D.minX)*1.1;var w=Math.abs(D.maxY-D.minY)*1.1;var G=this.frame.canvas.clientWidth/F;var y=this.frame.canvas.clientHeight/w;C=(G<=y)?G:y}if(C>1){C=1}var v=this._findCenter(D);if(x==false){var J={position:v,scale:C,animation:J};this.moveTo(J);this.moving=true;this.start()}else{v.x*=C;v.y*=C;v.x-=0.5*this.frame.canvas.clientWidth;v.y-=0.5*this.frame.canvas.clientHeight;this._setScale(C);this._setTranslation(-v.x,-v.y)}};l.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var v in this.nodes){if(this.nodes.hasOwnProperty(v)){this.nodeIndices.push(v)}}};l.prototype.setData=function(y,x){if(x===undefined){x=false}this._unselectAll(true);this.initializing=true;if(y&&y.dot&&(y.nodes||y.edges)){throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.')}if(this.constants.dataManipulation.enabled==true){this._createManipulatorBar()}this.setOptions(y&&y.options);if(y&&y.dot){if(y&&y.dot){var w=o.DOTToGraph(y.dot);this.setData(w);return}}else{if(y&&y.gephi){if(y&&y.gephi){var v=p.parseGephi(y.gephi);this.setData(v);return}}else{this._setNodes(y&&y.nodes);this._setEdges(y&&y.edges)}}this._putDataInSector();if(x==false){if(this.constants.hierarchicalLayout.enabled==true){this._resetLevels();this._setupHierarchicalLayout()}else{if(this.constants.stabilize==true){this._stabilize()}}this.start()}this.initializing=false};l.prototype.setOptions=function(x){if(x){var A;var v=["nodes","edges","smoothCurves","hierarchicalLayout","clustering","navigation","keyboard","dataManipulation","onAdd","onEdit","onEditEdge","onConnect","onDelete","clickToUse"];a.selectiveNotDeepExtend(v,this.constants,x);a.selectiveNotDeepExtend(["color"],this.constants.nodes,x.nodes);a.selectiveNotDeepExtend(["color","length"],this.constants.edges,x.edges);this.groups.useDefaultGroups=this.constants.useDefaultGroups;if(x.physics){a.mergeOptions(this.constants.physics,x.physics,"barnesHut");a.mergeOptions(this.constants.physics,x.physics,"repulsion");if(x.physics.hierarchicalRepulsion){this.constants.hierarchicalLayout.enabled=true;this.constants.physics.hierarchicalRepulsion.enabled=true;this.constants.physics.barnesHut.enabled=false;for(A in x.physics.hierarchicalRepulsion){if(x.physics.hierarchicalRepulsion.hasOwnProperty(A)){this.constants.physics.hierarchicalRepulsion[A]=x.physics.hierarchicalRepulsion[A]}}}}if(x.onAdd){this.triggerFunctions.add=x.onAdd}if(x.onEdit){this.triggerFunctions.edit=x.onEdit}if(x.onEditEdge){this.triggerFunctions.editEdge=x.onEditEdge}if(x.onConnect){this.triggerFunctions.connect=x.onConnect}if(x.onDelete){this.triggerFunctions.del=x.onDelete}a.mergeOptions(this.constants,x,"smoothCurves");a.mergeOptions(this.constants,x,"hierarchicalLayout");a.mergeOptions(this.constants,x,"clustering");a.mergeOptions(this.constants,x,"navigation");a.mergeOptions(this.constants,x,"keyboard");a.mergeOptions(this.constants,x,"dataManipulation");if(x.dataManipulation){this.editMode=this.constants.dataManipulation.initiallyVisible}if(x.edges){if(x.edges.color!==undefined){if(a.isString(x.edges.color)){this.constants.edges.color={};this.constants.edges.color.color=x.edges.color;this.constants.edges.color.highlight=x.edges.color;this.constants.edges.color.hover=x.edges.color}else{if(x.edges.color.color!==undefined){this.constants.edges.color.color=x.edges.color.color}if(x.edges.color.highlight!==undefined){this.constants.edges.color.highlight=x.edges.color.highlight}if(x.edges.color.hover!==undefined){this.constants.edges.color.hover=x.edges.color.hover}}this.constants.edges.inheritColor=false}if(!x.edges.fontColor){if(x.edges.color!==undefined){if(a.isString(x.edges.color)){this.constants.edges.fontColor=x.edges.color}else{if(x.edges.color.color!==undefined){this.constants.edges.fontColor=x.edges.color.color}}}}}if(x.nodes){if(x.nodes.color){var z=a.parseColor(x.nodes.color);this.constants.nodes.color.background=z.background;this.constants.nodes.color.border=z.border;this.constants.nodes.color.highlight.background=z.highlight.background;this.constants.nodes.color.highlight.border=z.highlight.border;this.constants.nodes.color.hover.background=z.hover.background;this.constants.nodes.color.hover.border=z.hover.border}}if(x.groups){for(var w in x.groups){if(x.groups.hasOwnProperty(w)){var y=x.groups[w];this.groups.add(w,y)}}}if(x.tooltip){for(A in x.tooltip){if(x.tooltip.hasOwnProperty(A)){this.constants.tooltip[A]=x.tooltip[A]}}if(x.tooltip.color){this.constants.tooltip.color=a.parseColor(x.tooltip.color)}}if("clickToUse" in x){if(x.clickToUse){if(!this.activator){this.activator=new q(this.frame);this.activator.on("change",this._createKeyBinds.bind(this))}}else{if(this.activator){this.activator.destroy();delete this.activator}}}if(x.labels){throw new Error('Option "labels" is deprecated. Use options "locale" and "locales" instead.')}this._loadPhysicsSystem();this._loadNavigationControls();this._loadManipulationSystem();this._configureSmoothCurves();this._bindHammer();this._createKeyBinds();this._markAllEdgesAsDirty();this.setSize(this.constants.width,this.constants.height);this.moving=true;if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this.start()}};l.prototype._create=function(){while(this.containerElement.hasChildNodes()){this.containerElement.removeChild(this.containerElement.firstChild)}this.frame=document.createElement("div");this.frame.className="vis network-frame";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.tabIndex=900;this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(!this.frame.canvas.getContext){var w=document.createElement("DIV");w.style.color="red";w.style.fontWeight="bold";w.style.padding="10px";w.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(w)}else{var v=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(v.webkitBackingStorePixelRatio||v.mozBackingStorePixelRatio||v.msBackingStorePixelRatio||v.oBackingStorePixelRatio||v.backingStorePixelRatio||1);this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}this._bindHammer()};l.prototype._bindHammer=function(){var v=this;if(this.hammer!==undefined){this.hammer.dispose()}this.drag={};this.pinch={};this.hammer=t(this.frame.canvas,{prevent_default:true});this.hammer.on("tap",v._onTap.bind(v));this.hammer.on("doubletap",v._onDoubleTap.bind(v));this.hammer.on("hold",v._onHold.bind(v));this.hammer.on("touch",v._onTouch.bind(v));this.hammer.on("dragstart",v._onDragStart.bind(v));this.hammer.on("drag",v._onDrag.bind(v));this.hammer.on("dragend",v._onDragEnd.bind(v));if(this.constants.zoomable==true){this.hammer.on("mousewheel",v._onMouseWheel.bind(v));this.hammer.on("DOMMouseScroll",v._onMouseWheel.bind(v));this.hammer.on("pinch",v._onPinch.bind(v))}this.hammer.on("mousemove",v._onMouseMoveTitle.bind(v));this.hammerFrame=t(this.frame,{prevent_default:true});this.hammerFrame.on("release",v._onRelease.bind(v));this.containerElement.appendChild(this.frame)};l.prototype._createKeyBinds=function(){var v=this;if(this.keycharm!==undefined){this.keycharm.destroy()}if(this.constants.keyboard.bindToWindow==true){this.keycharm=j({container:window,preventDefault:false})}else{this.keycharm=j({container:this.frame,preventDefault:false})}this.keycharm.reset();if(this.constants.keyboard.enabled&&this.isActive()){this.keycharm.bind("up",this._moveUp.bind(v),"keydown");this.keycharm.bind("up",this._yStopMoving.bind(v),"keyup");this.keycharm.bind("down",this._moveDown.bind(v),"keydown");this.keycharm.bind("down",this._yStopMoving.bind(v),"keyup");this.keycharm.bind("left",this._moveLeft.bind(v),"keydown");this.keycharm.bind("left",this._xStopMoving.bind(v),"keyup");this.keycharm.bind("right",this._moveRight.bind(v),"keydown");this.keycharm.bind("right",this._xStopMoving.bind(v),"keyup");this.keycharm.bind("=",this._zoomIn.bind(v),"keydown");this.keycharm.bind("=",this._stopZoom.bind(v),"keyup");this.keycharm.bind("num+",this._zoomIn.bind(v),"keydown");this.keycharm.bind("num+",this._stopZoom.bind(v),"keyup");this.keycharm.bind("num-",this._zoomOut.bind(v),"keydown");this.keycharm.bind("num-",this._stopZoom.bind(v),"keyup");this.keycharm.bind("-",this._zoomOut.bind(v),"keydown");this.keycharm.bind("-",this._stopZoom.bind(v),"keyup");this.keycharm.bind("[",this._zoomIn.bind(v),"keydown");this.keycharm.bind("[",this._stopZoom.bind(v),"keyup");this.keycharm.bind("]",this._zoomOut.bind(v),"keydown");this.keycharm.bind("]",this._stopZoom.bind(v),"keyup");this.keycharm.bind("pageup",this._zoomIn.bind(v),"keydown");this.keycharm.bind("pageup",this._stopZoom.bind(v),"keyup");this.keycharm.bind("pagedown",this._zoomOut.bind(v),"keydown");this.keycharm.bind("pagedown",this._stopZoom.bind(v),"keyup")}if(this.constants.dataManipulation.enabled==true){this.keycharm.bind("esc",this._createManipulatorBar.bind(v));this.keycharm.bind("delete",this._deleteSelected.bind(v))}};l.prototype.destroy=function(){this.start=function(){};this.redraw=function(){};this.timer=false;this._cleanupPhysicsConfiguration();this.keycharm.reset();this.hammer.dispose();this.off();this._recursiveDOMDelete(this.containerElement)};l.prototype._recursiveDOMDelete=function(v){while(v.hasChildNodes()==true){this._recursiveDOMDelete(v.firstChild);v.removeChild(v.firstChild)}};l.prototype._getPointer=function(v){return{x:v.pageX-a.getAbsoluteLeft(this.frame.canvas),y:v.pageY-a.getAbsoluteTop(this.frame.canvas)}};l.prototype._onTouch=function(v){if(new Date().valueOf()-this.touchTime>100){this.drag.pointer=this._getPointer(v.gesture.center);this.drag.pinched=false;this.pinch.scale=this._getScale();this.touchTime=new Date().valueOf();this._handleTouch(this.drag.pointer)}};l.prototype._onDragStart=function(v){this._handleDragStart(v)};l.prototype._handleDragStart=function(z){if(this.drag.pointer===undefined){this._onTouch(z)}var y=this._getNodeAt(this.drag.pointer);this.drag.dragging=true;this.drag.selection=[];this.drag.translation=this._getTranslation();this.drag.nodeId=null;this.draggingNodes=false;if(y!=null&&this.constants.dragNodes==true){this.draggingNodes=true;this.drag.nodeId=y.id;if(!y.isSelected()){this._selectObject(y,false)}this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var v in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(v)){var w=this.selectionObj.nodes[v];var x={id:w.id,node:w,x:w.x,y:w.y,xFixed:w.xFixed,yFixed:w.yFixed};w.xFixed=true;w.yFixed=true;this.drag.selection.push(x)}}}};l.prototype._onDrag=function(v){this._handleOnDrag(v)};l.prototype._handleOnDrag=function(w){if(this.drag.pinched){return}this.releaseNode();var v=this._getPointer(w.gesture.center);var A=this;var z=this.drag;var D=z.selection;if(D&&D.length&&this.constants.dragNodes==true){var y=v.x-z.pointer.x;var x=v.y-z.pointer.y;D.forEach(function(E){var F=E.node;if(!E.xFixed){F.x=A._XconvertDOMtoCanvas(A._XconvertCanvasToDOM(E.x)+y)}if(!E.yFixed){F.y=A._YconvertDOMtoCanvas(A._YconvertCanvasToDOM(E.y)+x)}});if(!this.moving){this.moving=true;this.start()}}else{if(this.constants.dragNetwork==true){if(this.drag.pointer===undefined){this._handleDragStart(w);return}var C=v.x-this.drag.pointer.x;var B=v.y-this.drag.pointer.y;this._setTranslation(this.drag.translation.x+C,this.drag.translation.y+B);this._redraw()}}};l.prototype._onDragEnd=function(v){this._handleDragEnd(v)};l.prototype._handleDragEnd=function(w){this.drag.dragging=false;var v=this.drag.selection;if(v&&v.length){v.forEach(function(x){x.node.xFixed=x.xFixed;x.node.yFixed=x.yFixed});this.moving=true;this.start()}else{this._redraw()}if(this.draggingNodes==false){this.emit("dragEnd",{nodeIds:[]})}else{this.emit("dragEnd",{nodeIds:this.getSelection().nodes})}};l.prototype._onTap=function(v){var w=this._getPointer(v.gesture.center);this.pointerPosition=w;this._handleTap(w)};l.prototype._onDoubleTap=function(v){var w=this._getPointer(v.gesture.center);this._handleDoubleTap(w)};l.prototype._onHold=function(v){var w=this._getPointer(v.gesture.center);this.pointerPosition=w;this._handleOnHold(w)};l.prototype._onRelease=function(v){var w=this._getPointer(v.gesture.center);this._handleOnRelease(w)};l.prototype._onPinch=function(v){var x=this._getPointer(v.gesture.center);this.drag.pinched=true;if(!("scale" in this.pinch)){this.pinch.scale=1}var w=this.pinch.scale*v.gesture.scale;this._zoom(w,x)};l.prototype._zoom=function(y,w){if(this.constants.zoomable==true){var x=this._getScale();if(y<0.00001){y=0.00001}if(y>10){y=10}var D=null;if(this.drag!==undefined){if(this.drag.dragging==true){D=this.DOMtoCanvas(this.drag.pointer)}}var v=this._getTranslation();var B=y/x;var A=(1-B)*w.x+v.x*B;var z=(1-B)*w.y+v.y*B;this.areaCenter={x:this._XconvertDOMtoCanvas(w.x),y:this._YconvertDOMtoCanvas(w.y)};this._setScale(y);this._setTranslation(A,z);this.updateClustersDefault();if(D!=null){var C=this.canvasToDOM(D);this.drag.pointer.x=C.x;this.drag.pointer.y=C.y}this._redraw();if(x<y){this.emit("zoom",{direction:"+"})}else{this.emit("zoom",{direction:"-"})}return y}};l.prototype._onMouseWheel=function(x){var A=0;if(x.wheelDelta){A=x.wheelDelta/120}else{if(x.detail){A=-x.detail/3}}if(A){var z=this._getScale();var w=A/10;if(A<0){w=w/(1-w)}z*=(1+w);var v=n.fakeGesture(this,x);var y=this._getPointer(v.center);this._zoom(z,y)}x.preventDefault()};l.prototype._onMouseMoveTitle=function(w){var D=n.fakeGesture(this,w);var v=this._getPointer(D.center);var A=false;if(this.popup!==undefined){if(this.popup.hidden===false){this._checkHidePopup(v)}if(this.popup.hidden===false){A=true;this.popup.setPosition(v.x+3,v.y-5);this.popup.show()}}if(this.constants.keyboard.bindToWindow==false&&this.constants.keyboard.enabled==true){this.frame.focus()}if(A===false){var C=this;var y=function(){C._checkShowPopup(v)};if(this.popupTimer){clearInterval(this.popupTimer)}if(!this.drag.dragging){this.popupTimer=setTimeout(y,this.constants.tooltip.delay)}}if(this.constants.hover==true){for(var B in this.hoverObj.edges){if(this.hoverObj.edges.hasOwnProperty(B)){this.hoverObj.edges[B].hover=false;delete this.hoverObj.edges[B]}}var z=this._getNodeAt(v);if(z==null){z=this._getEdgeAt(v)}if(z!=null){this._hoverObject(z)}for(var x in this.hoverObj.nodes){if(this.hoverObj.nodes.hasOwnProperty(x)){if(z instanceof r&&z.id!=x||z instanceof k||z==null){this._blurObject(this.hoverObj.nodes[x]);delete this.hoverObj.nodes[x]}}}this.redraw()}};l.prototype._checkShowPopup=function(v){var F={left:this._XconvertDOMtoCanvas(v.x),top:this._YconvertDOMtoCanvas(v.y),right:this._XconvertDOMtoCanvas(v.x),bottom:this._YconvertDOMtoCanvas(v.y)};var y;var D=this.popupObj===undefined?"":this.popupObj.id;var w=false;var E="node";if(this.popupObj==undefined){var x=this.nodes;var G=[];for(y in x){if(x.hasOwnProperty(y)){var B=x[y];if(B.isOverlappingWith(F)){if(B.getTitle()!==undefined){G.push(y)}}}}if(G.length>0){this.popupObj=this.nodes[G[G.length-1]];w=true}}if(this.popupObj===undefined&&w==false){var C=this.edges;var A=[];for(y in C){if(C.hasOwnProperty(y)){var z=C[y];if(z.connected&&(z.getTitle()!==undefined)&&z.isOverlappingWith(F)){A.push(y)}}}if(A.length>0){this.popupObj=this.edges[A[A.length-1]];E="edge"}}if(this.popupObj){if(this.popupObj.id!=D){if(this.popup===undefined){this.popup=new e(this.frame,this.constants.tooltip)}this.popup.popupTargetType=E;this.popup.popupTargetId=this.popupObj.id;this.popup.setPosition(v.x+3,v.y-5);this.popup.setText(this.popupObj.getTitle());this.popup.show()}}else{if(this.popup){this.popup.hide()}}};l.prototype._checkHidePopup=function(y){var w={left:this._XconvertDOMtoCanvas(y.x),top:this._YconvertDOMtoCanvas(y.y),right:this._XconvertDOMtoCanvas(y.x),bottom:this._YconvertDOMtoCanvas(y.y)};var x=false;if(this.popup.popupTargetType=="node"){x=this.nodes[this.popup.popupTargetId].isOverlappingWith(w);if(x===true){var v=this._getNodeAt(y);x=v.id==this.popup.popupTargetId}}else{if(this._getNodeAt(y)===null){x=this.edges[this.popup.popupTargetId].isOverlappingWith(w)}}if(x===false){this.popupObj=undefined;this.popup.hide()}};l.prototype.setSize=function(x,v){var y=false;var w=this.frame.canvas.width;var z=this.frame.canvas.height;if(x!=this.constants.width||v!=this.constants.height||this.frame.style.width!=x||this.frame.style.height!=v){this.frame.style.width=x;this.frame.style.height=v;this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio;this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio;this.constants.width=x;this.constants.height=v;y=true}else{if(this.frame.canvas.width!=this.frame.canvas.clientWidth*this.pixelRatio){this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio;y=true}if(this.frame.canvas.height!=this.frame.canvas.clientHeight*this.pixelRatio){this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio;y=true}}if(y==true){this.emit("resize",{width:this.frame.canvas.width*this.pixelRatio,height:this.frame.canvas.height*this.pixelRatio,oldWidth:w*this.pixelRatio,oldHeight:z*this.pixelRatio})}};l.prototype._setNodes=function(v){var y=this.nodesData;if(v instanceof f||v instanceof b){this.nodesData=v}else{if(Array.isArray(v)){this.nodesData=new f();this.nodesData.add(v)}else{if(!v){this.nodesData=new f()}else{throw new TypeError("Array or DataSet expected")}}}if(y){a.forEach(this.nodesListeners,function(A,z){y.off(z,A)})}this.nodes={};if(this.nodesData){var x=this;a.forEach(this.nodesListeners,function(A,z){x.nodesData.on(z,A)});var w=this.nodesData.getIds();this._addNodes(w)}this._updateSelection()};l.prototype._addNodes=function(y){var C;for(var x=0,w=y.length;x<w;x++){C=y[x];var A=this.nodesData.get(C);var z=new r(A,this.images,this.groups,this.constants);this.nodes[C]=z;if((z.xFixed==false||z.yFixed==false)&&(z.x===null||z.y===null)){var v=10*0.1*y.length+10;var B=2*Math.PI*Math.random();if(z.xFixed==false){z.x=v*Math.cos(B)}if(z.yFixed==false){z.y=v*Math.sin(B)}}this.moving=true}this._updateNodeIndexList();if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this._updateCalculationNodes();this._reconnectEdges();this._updateValueRange(this.nodes);this.updateLabels()};l.prototype._updateNodes=function(z){var x=this.nodesData.get(z);var w=this.nodes;for(var y=0,v=z.length;y<v;y++){var C=z[y];var A=w[C];var B=x[y];if(A){A.setProperties(B,this.constants)}else{A=new r(properties,this.images,this.groups,this.constants);w[C]=A}}this.moving=true;if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this._updateNodeIndexList();this._updateValueRange(w);this._markAllEdgesAsDirty()};l.prototype._markAllEdgesAsDirty=function(){for(var v in this.edges){this.edges[v].colorDirty=true}};l.prototype._removeNodes=function(y){var w=this.nodes;for(var x=0,v=y.length;x<v;x++){if(this.selectionObj.nodes[y[x]]!==undefined){this.nodes[y[x]].unselect();this._removeFromSelection(this.nodes[y[x]])}}for(var x=0,v=y.length;x<v;x++){var z=y[x];delete w[z]}this._updateNodeIndexList();if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this._updateCalculationNodes();this._reconnectEdges();this._updateSelection();this._updateValueRange(w)};l.prototype._setEdges=function(v){var y=this.edgesData;if(v instanceof f||v instanceof b){this.edgesData=v}else{if(Array.isArray(v)){this.edgesData=new f();this.edgesData.add(v)}else{if(!v){this.edgesData=new f()}else{throw new TypeError("Array or DataSet expected")}}}if(y){a.forEach(this.edgesListeners,function(A,z){y.off(z,A)})}this.edges={};if(this.edgesData){var x=this;a.forEach(this.edgesListeners,function(A,z){x.edgesData.on(z,A)});var w=this.edgesData.getIds();this._addEdges(w)}this._reconnectEdges()};l.prototype._addEdges=function(y){var w=this.edges,C=this.edgesData;for(var x=0,v=y.length;x<v;x++){var B=y[x];var A=w[B];if(A){A.disconnect()}var z=C.get(B,{showInternalIds:true});w[B]=new k(z,this,this.constants)}this.moving=true;this._updateValueRange(w);this._createBezierNodes();this._updateCalculationNodes();if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}};l.prototype._updateEdges=function(y){var w=this.edges,C=this.edgesData;for(var x=0,v=y.length;x<v;x++){var B=y[x];var A=C.get(B);var z=w[B];if(z){z.disconnect();z.setProperties(A,this.constants);z.connect()}else{z=new k(A,this,this.constants);this.edges[B]=z}}this._createBezierNodes();if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this.moving=true;this._updateValueRange(w)};l.prototype._removeEdges=function(y){var w=this.edges;for(var x=0,v=y.length;x<v;x++){if(this.selectionObj.edges[y[x]]!==undefined){w[y[x]].unselect();this._removeFromSelection(w[y[x]])}}for(var x=0,v=y.length;x<v;x++){var A=y[x];var z=w[A];if(z){if(z.via!=null){delete this.sectors.support["nodes"][z.via.id]}z.disconnect();delete w[A]}}this.moving=true;this._updateValueRange(w);if(this.constants.hierarchicalLayout.enabled==true&&this.initializing==false){this._resetLevels();this._setupHierarchicalLayout()}this._updateCalculationNodes()};l.prototype._reconnectEdges=function(){var y,w=this.nodes,v=this.edges;for(y in w){if(w.hasOwnProperty(y)){w[y].edges=[];w[y].dynamicEdges=[]}}for(y in v){if(v.hasOwnProperty(y)){var x=v[y];x.from=null;x.to=null;x.connect()}}};l.prototype._updateValueRange=function(z){var A;var x=undefined;var w=undefined;var v=0;for(A in z){if(z.hasOwnProperty(A)){var y=z[A].getValue();if(y!==undefined){x=(x===undefined)?y:Math.min(y,x);w=(w===undefined)?y:Math.max(y,w);v+=y}}}if(x!==undefined&&w!==undefined){for(A in z){if(z.hasOwnProperty(A)){z[A].setValueRange(x,w,v)}}}};l.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height);this._redraw()};l.prototype._requestRedraw=function(v){if(this.redrawRequested!==true){this.redrawRequested=true;if(this.requiresTimeout===true){window.setTimeout(this._redraw.bind(this,v),0)}else{window.requestAnimationFrame(this._redraw.bind(this,v,true))}}};l.prototype._redraw=function(z,A){if(z===undefined){z=false}this.redrawRequested=false;var x=this.frame.canvas.getContext("2d");x.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var v=this.frame.canvas.clientWidth;var y=this.frame.canvas.clientHeight;x.clearRect(0,0,v,y);x.save();x.translate(this.translation.x,this.translation.y);x.scale(this.scale,this.scale);this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)};this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)};if(z===false){this._doInAllSectors("_drawAllSectorNodes",x);if(this.drag.dragging==false||this.drag.dragging===undefined||this.constants.hideEdgesOnDrag==false){this._doInAllSectors("_drawEdges",x)}}if(this.drag.dragging==false||this.drag.dragging===undefined||this.constants.hideNodesOnDrag==false){this._doInAllSectors("_drawNodes",x,false)}if(z===false){if(this.controlNodesActive==true){this._doInAllSectors("_drawControlNodes",x)}}x.restore();if(z===true){x.clearRect(0,0,v,y)}};l.prototype._setTranslation=function(v,w){if(this.translation===undefined){this.translation={x:0,y:0}}if(v!==undefined){this.translation.x=v}if(w!==undefined){this.translation.y=w}this.emit("viewChanged")};l.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}};l.prototype._setScale=function(v){this.scale=v};l.prototype._getScale=function(){return this.scale};l.prototype._XconvertDOMtoCanvas=function(v){return(v-this.translation.x)/this.scale};l.prototype._XconvertCanvasToDOM=function(v){return v*this.scale+this.translation.x};l.prototype._YconvertDOMtoCanvas=function(v){return(v-this.translation.y)/this.scale};l.prototype._YconvertCanvasToDOM=function(v){return v*this.scale+this.translation.y};l.prototype.canvasToDOM=function(v){return{x:this._XconvertCanvasToDOM(v.x),y:this._YconvertCanvasToDOM(v.y)}};l.prototype.DOMtoCanvas=function(v){return{x:this._XconvertDOMtoCanvas(v.x),y:this._YconvertDOMtoCanvas(v.y)}};l.prototype._drawNodes=function(w,v){if(v===undefined){v=false}var x=this.nodes;var A=[];for(var B in x){if(x.hasOwnProperty(B)){x[B].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight);if(x[B].isSelected()){A.push(B)}else{if(x[B].inArea()||v){x[B].draw(w)}}}}for(var z=0,y=A.length;z<y;z++){if(x[A[z]].inArea()||v){x[A[z]].draw(w)}}};l.prototype._drawEdges=function(v){var w=this.edges;for(var y in w){if(w.hasOwnProperty(y)){var x=w[y];x.setScale(this.scale);if(x.connected){w[y].draw(v)}}}};l.prototype._drawControlNodes=function(v){var w=this.edges;for(var x in w){if(w.hasOwnProperty(x)){w[x]._drawControlNodes(v)}}};l.prototype._stabilize=function(){if(this.constants.freezeForStabilization==true){this._freezeDefinedNodes()}var v=0;while(this.moving&&v<this.constants.stabilizationIterations){this._physicsTick();v++}if(this.constants.zoomExtentOnStabilize==true){this.zoomExtent({duration:0},false,true)}if(this.constants.freezeForStabilization==true){this._restoreFrozenNodes()}this.emit("stabilizationIterationsDone")};l.prototype._freezeDefinedNodes=function(){var v=this.nodes;for(var w in v){if(v.hasOwnProperty(w)){if(v[w].x!=null&&v[w].y!=null){v[w].fixedData.x=v[w].xFixed;v[w].fixedData.y=v[w].yFixed;v[w].xFixed=true;v[w].yFixed=true}}}};l.prototype._restoreFrozenNodes=function(){var v=this.nodes;for(var w in v){if(v.hasOwnProperty(w)){if(v[w].fixedData.x!=null){v[w].xFixed=v[w].fixedData.x;v[w].yFixed=v[w].fixedData.y}}}};l.prototype._isMoving=function(w){var v=this.nodes;for(var x in v){if(v[x]!==undefined){if(v[x].isMoving(w)==true){return true}}}return false};l.prototype._discreteStepNodes=function(){var x=this.physicsDiscreteStepsize;var w=this.nodes;var z;var y=false;if(this.constants.maxVelocity>0){for(z in w){if(w.hasOwnProperty(z)){w[z].discreteStepLimited(x,this.constants.maxVelocity);y=true}}}else{for(z in w){if(w.hasOwnProperty(z)){w[z].discreteStep(x);y=true}}}if(y==true){var v=this.constants.minVelocity/Math.max(this.scale,0.05);if(v>0.5*this.constants.maxVelocity){return true}else{return this._isMoving(v)}}return false};l.prototype._revertPhysicsState=function(){var v=this.nodes;for(var w in v){if(v.hasOwnProperty(w)){v[w].revertPosition()}}};l.prototype._revertPhysicsTick=function(){this._doInAllActiveSectors("_revertPhysicsState");if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){this._doInSupportSector("_revertPhysicsState")}};l.prototype._physicsTick=function(){if(!this.freezeSimulationEnabled){if(this.moving==true){var y=false;var v=false;this._doInAllActiveSectors("_initializeForceCalculation");var x=this._doInAllActiveSectors("_discreteStepNodes");if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){v=this._doInSupportSector("_discreteStepNodes")}for(var w=0;w<x.length;w++){y=x[w]||y}this.moving=y||v;if(this.moving==false){this._revertPhysicsTick()}else{if(this.startedStabilization==false){this.emit("startStabilization");this.startedStabilization=true}}this.stabilizationIterations++}}};l.prototype._animationStep=function(){this.timer=undefined;if(this.requiresTimeout==true){this.start()}this._handleNavigation();if(this.moving==true){var v=Date.now();this._physicsTick();var x=Date.now()-v;if((this.renderTimestep-this.renderTime>2*x||this.runDoubleSpeed==true)&&this.moving==true){this._physicsTick();if(this.renderTime!=0){this.runDoubleSpeed=true}}}var w=Date.now();this._redraw();this.renderTime=Date.now()-w;if(this.requiresTimeout==false){this.start()}};if(typeof window!=="undefined"){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame}l.prototype.start=function(){if(this.freezeSimulationEnabled==true){this.moving=false}if(this.moving==true||this.xIncrement!=0||this.yIncrement!=0||this.zoomIncrement!=0||this.animating==true){if(!this.timer){if(this.requiresTimeout==true){this.timer=window.setTimeout(this._animationStep.bind(this),this.renderTimestep)}else{this.timer=window.requestAnimationFrame(this._animationStep.bind(this))}}}else{this._requestRedraw();if(this.stabilizationIterations>1){var v=this;var w={iterations:v.stabilizationIterations};this.stabilizationIterations=0;this.startedStabilization=false;setTimeout(function(){v.emit("stabilized",w)},0)}else{this.stabilizationIterations=0}}};l.prototype._handleNavigation=function(){if(this.xIncrement!=0||this.yIncrement!=0){var w=this._getTranslation();this._setTranslation(w.x+this.xIncrement,w.y+this.yIncrement)}if(this.zoomIncrement!=0){var v={x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2};this._zoom(this.scale*(1+this.zoomIncrement),v)}};l.prototype.freezeSimulation=function(v){if(v==true){this.freezeSimulationEnabled=true;this.moving=false}else{this.freezeSimulationEnabled=false;this.moving=true;this.start()}};l.prototype._configureSmoothCurves=function(v){if(v===undefined){v=true}if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){this._createBezierNodes();for(var x in this.sectors.support["nodes"]){if(this.sectors.support["nodes"].hasOwnProperty(x)){if(this.edges[this.sectors.support["nodes"][x].parentEdgeId]===undefined){delete this.sectors.support["nodes"][x]}}}}else{this.sectors.support["nodes"]={};for(var w in this.edges){if(this.edges.hasOwnProperty(w)){this.edges[w].via=null}}}this._updateCalculationNodes();if(!v){this.moving=true;this.start()}};l.prototype._createBezierNodes=function(){if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){for(var x in this.edges){if(this.edges.hasOwnProperty(x)){var v=this.edges[x];if(v.via==null){var w="edgeId:".concat(v.id);this.sectors.support["nodes"][w]=new r({id:w,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants);v.via=this.sectors.support["nodes"][w];v.via.parentEdgeId=v.id;v.positionBezierNode()}}}}};l.prototype._initializeMixinLoaders=function(){for(var v in s){if(s.hasOwnProperty(v)){l.prototype[v]=s[v]}}};l.prototype.storePosition=function(){console.log("storePosition is depricated: use .storePositions() from now on.");this.storePositions()};l.prototype.storePositions=function(){var v=[];for(var z in this.nodes){if(this.nodes.hasOwnProperty(z)){var w=this.nodes[z];var y=!this.nodes.xFixed;var x=!this.nodes.yFixed;if(this.nodesData._data[z].x!=Math.round(w.x)||this.nodesData._data[z].y!=Math.round(w.y)){v.push({id:z,x:Math.round(w.x),y:Math.round(w.y),allowedToMoveX:y,allowedToMoveY:x})}}}this.nodesData.update(v)};l.prototype.getPositions=function(x){var v={};if(x!==undefined){if(Array.isArray(x)==true){for(var w=0;w<x.length;w++){if(this.nodes[x[w]]!==undefined){var y=this.nodes[x[w]];v[x[w]]={x:Math.round(y.x),y:Math.round(y.y)}}}}else{if(this.nodes[x]!==undefined){var y=this.nodes[x];v[x]={x:Math.round(y.x),y:Math.round(y.y)}}}}else{for(var z in this.nodes){if(this.nodes.hasOwnProperty(z)){var y=this.nodes[z];v[z]={x:Math.round(y.x),y:Math.round(y.y)}}}}return v};l.prototype.focusOnNode=function(w,v){if(this.nodes.hasOwnProperty(w)){if(v===undefined){v={}}var x={x:this.nodes[w].x,y:this.nodes[w].y};v.position=x;v.lockedOnNode=w;this.moveTo(v)}else{console.log("This nodeId cannot be found.")}};l.prototype.moveTo=function(v){if(v===undefined){v={};return}if(v.offset===undefined){v.offset={x:0,y:0}}if(v.offset.x===undefined){v.offset.x=0}if(v.offset.y===undefined){v.offset.y=0}if(v.scale===undefined){v.scale=this._getScale()}if(v.position===undefined){v.position=this._getTranslation()}if(v.animation===undefined){v.animation={duration:0}}if(v.animation===false){v.animation={duration:0}}if(v.animation===true){v.animation={}}if(v.animation.duration===undefined){v.animation.duration=1000}if(v.animation.easingFunction===undefined){v.animation.easingFunction="easeInOutQuad"}this.animateView(v)};l.prototype.animateView=function(w){if(w===undefined){w={};return}this.releaseNode();if(w.locked==true){this.lockedOnNodeId=w.lockedOnNode;this.lockedOnNodeOffset=w.offset}if(this.easingTime!=0){this._transitionRedraw(1)}this.sourceScale=this._getScale();this.sourceTranslation=this._getTranslation();this.targetScale=w.scale;this._setScale(this.targetScale);var v=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight});var x={x:v.x-w.position.x,y:v.y-w.position.y};this.targetTranslation={x:this.sourceTranslation.x+x.x*this.targetScale+w.offset.x,y:this.sourceTranslation.y+x.y*this.targetScale+w.offset.y};if(w.animation.duration==0){if(this.lockedOnNodeId!=null){this._classicRedraw=this._redraw;this._redraw=this._lockedRedraw}else{this._setScale(this.targetScale);this._setTranslation(this.targetTranslation.x,this.targetTranslation.y);this._redraw()}}else{this.animating=true;this.animationSpeed=1/(this.renderRefreshRate*w.animation.duration*0.001)||1/this.renderRefreshRate;this.animationEasingFunction=w.animation.easingFunction;this._classicRedraw=this._redraw;this._redraw=this._transitionRedraw;this._redraw();this.start()}};l.prototype._lockedRedraw=function(){var z={x:this.nodes[this.lockedOnNodeId].x,y:this.nodes[this.lockedOnNodeId].y};var v=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight});var y={x:v.x-z.x,y:v.y-z.y};var x=this._getTranslation();var w={x:x.x+y.x*this.scale+this.lockedOnNodeOffset.x,y:x.y+y.y*this.scale+this.lockedOnNodeOffset.y};this._setTranslation(w.x,w.y);this._classicRedraw()};l.prototype.releaseNode=function(){if(this.lockedOnNodeId!=null){this._redraw=this._classicRedraw;this.lockedOnNodeId=null;this.lockedOnNodeOffset=null}};l.prototype._transitionRedraw=function(w){this.easingTime=w||this.easingTime+this.animationSpeed;this.easingTime+=this.animationSpeed;var v=a.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*v);this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*v,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*v);this._classicRedraw();if(this.easingTime>=1){this.animating=false;this.easingTime=0;if(this.lockedOnNodeId!=null){this._redraw=this._lockedRedraw}else{this._redraw=this._classicRedraw}this.emit("animationFinished")}};l.prototype._classicRedraw=function(){};l.prototype.isActive=function(){return !this.activator||this.activator.active};l.prototype.setScale=function(){return this._setScale()};l.prototype.getScale=function(){return this._getScale()};l.prototype.getCenterCoordinates=function(){return this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight})};l.prototype.getBoundingBox=function(v){if(this.nodes[v]!==undefined){return this.nodes[v].boundingBox}};l.prototype.getConnectedNodes=function(A){var v=[];if(this.nodes[A]!==undefined){var y=this.nodes[A];var z={nodeId:true};for(var w=0;w<y.edges.length;w++){var x=y.edges[w];if(x.toId==A){if(z[x.fromId]===undefined){v.push(x.fromId);z[x.fromId]=true}}else{if(x.fromId==A){if(z[x.toId]===undefined){v.push(x.toId);z[x.toId]=true}}}}}return v};l.prototype.getEdgesFromNode=function(x){var y=[];if(this.nodes[x]!==undefined){var w=this.nodes[x];for(var v=0;v<w.edges.length;v++){y.push(w.edges[v].id)}}return y};l.prototype.generateColorObject=function(v){return a.parseColor(v)};c.exports=l},function(e,b,f){var a=f(1);var d=f(40);function c(i,k,j){if(!k){throw"No network provided"}var g=["edges","physics"];var h=a.selectiveBridgeObject(g,j);this.options=h.edges;this.physics=h.physics;this.options.smoothCurves=j.smoothCurves;this.network=k;this.id=undefined;this.fromId=undefined;this.toId=undefined;this.title=undefined;this.widthSelected=this.options.width*this.options.widthSelectionMultiplier;this.value=undefined;this.selected=false;this.hover=false;this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0};this.dirtyLabel=true;this.colorDirty=true;this.from=null;this.to=null;this.via=null;this.fromBackup=null;this.toBackup=null;this.originalFromId=[];this.originalToId=[];this.connected=false;this.widthFixed=false;this.lengthFixed=false;this.setProperties(i);this.controlNodesEnabled=false;this.controlNodes={from:null,to:null,positions:{}};this.connectedNode=null}c.prototype.setProperties=function(h){this.colorDirty=true;if(!h){return}var g=["style","fontSize","fontFace","fontColor","fontFill","fontStrokeWidth","fontStrokeColor","width","widthSelectionMultiplier","hoverWidth","arrowScaleFactor","dash","inheritColor","labelAlignment","opacity","customScalingFunction","useGradients"];a.selectiveDeepExtend(g,this.options,h);if(h.from!==undefined){this.fromId=h.from}if(h.to!==undefined){this.toId=h.to}if(h.id!==undefined){this.id=h.id}if(h.label!==undefined){this.label=h.label;this.dirtyLabel=true}if(h.title!==undefined){this.title=h.title}if(h.value!==undefined){this.value=h.value}if(h.length!==undefined){this.physics.springLength=h.length}if(h.color!==undefined){this.options.inheritColor=false;if(a.isString(h.color)){this.options.color.color=h.color;this.options.color.highlight=h.color}else{if(h.color.color!==undefined){this.options.color.color=h.color.color}if(h.color.highlight!==undefined){this.options.color.highlight=h.color.highlight}if(h.color.hover!==undefined){this.options.color.hover=h.color.hover}}}this.connect();this.widthFixed=this.widthFixed||(h.width!==undefined);this.lengthFixed=this.lengthFixed||(h.length!==undefined);this.widthSelected=this.options.width*this.options.widthSelectionMultiplier;switch(this.options.style){case"line":this.draw=this._drawLine;break;case"arrow":this.draw=this._drawArrow;break;case"arrow-center":this.draw=this._drawArrowCenter;break;case"dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine;break}};c.prototype.connect=function(){this.disconnect();this.from=this.network.nodes[this.fromId]||null;this.to=this.network.nodes[this.toId]||null;this.connected=(this.from&&this.to);if(this.connected){this.from.attachEdge(this);this.to.attachEdge(this)}else{if(this.from){this.from.detachEdge(this)}if(this.to){this.to.detachEdge(this)}}};c.prototype.disconnect=function(){if(this.from){this.from.detachEdge(this);this.from=null}if(this.to){this.to.detachEdge(this);this.to=null}this.connected=false};c.prototype.getTitle=function(){return typeof this.title==="function"?this.title():this.title};c.prototype.getValue=function(){return this.value};c.prototype.setValueRange=function(h,g,j){if(!this.widthFixed&&this.value!==undefined){var k=this.options.customScalingFunction(h,g,j,this.value);var i=this.options.widthMax-this.options.widthMin;this.options.width=this.options.widthMin+k*i;this.widthSelected=this.options.width*this.options.widthSelectionMultiplier}};c.prototype.draw=function(g){throw"Method draw not initialized in edge"};c.prototype.isOverlappingWith=function(j){if(this.connected){var o=10;var m=this.from.x;var k=this.from.y;var g=this.to.x;var i=this.to.y;var h=j.left;var n=j.top;var l=this._getDistanceToEdge(m,k,g,i,h,n);return(l<o)}else{return false}};c.prototype._getColor=function(h){var i=this.options.color;if(this.options.useGradients==true){var g=h.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);var j,k;j=this.from.options.color.highlight.border;k=this.to.options.color.highlight.border;if(this.from.selected==false&&this.to.selected==false){j=a.overrideOpacity(this.from.options.color.border,this.options.opacity);k=a.overrideOpacity(this.to.options.color.border,this.options.opacity)}else{if(this.from.selected==true&&this.to.selected==false){k=this.to.options.color.border}else{if(this.from.selected==false&&this.to.selected==true){j=this.from.options.color.border}}}g.addColorStop(0,j);g.addColorStop(1,k);return g}if(this.colorDirty===true){if(this.options.inheritColor=="to"){i={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:a.overrideOpacity(this.from.options.color.border,this.options.opacity)}}else{if(this.options.inheritColor=="from"||this.options.inheritColor==true){i={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:a.overrideOpacity(this.from.options.color.border,this.options.opacity)}}}this.options.color=i;this.colorDirty=false}if(this.selected==true){return i.highlight}else{if(this.hover==true){return i.hover}else{return i.color}}};c.prototype._drawLine=function(o){o.strokeStyle=this._getColor(o);o.lineWidth=this._getLineWidth();if(this.from!=this.to){var n=this._line(o);var m;if(this.label){if(this.options.smoothCurves.enabled==true&&n!=null){var j=0.5*(0.5*(this.from.x+n.x)+0.5*(this.to.x+n.x));var i=0.5*(0.5*(this.from.y+n.y)+0.5*(this.to.y+n.y));m={x:j,y:i}}else{m=this._pointOnLine(0.5)}this._label(o,this.label,m.x,m.y)}}else{var l,k;var h=this.physics.springLength/4;var g=this.from;if(!g.width){g.resize(o)}if(g.width>g.height){l=g.x+g.width/2;k=g.y-h}else{l=g.x+h;k=g.y-g.height/2}this._circle(o,l,k,h);m=this._pointOnCircle(l,k,h,0.5);this._label(o,this.label,m.x,m.y)}};c.prototype._getLineWidth=function(){if(this.selected==true){return Math.max(Math.min(this.widthSelected,this.options.widthMax),0.3*this.networkScaleInv)}else{if(this.hover==true){return Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),0.3*this.networkScaleInv)}else{return Math.max(this.options.width,0.3*this.networkScaleInv)}}};c.prototype._getViaCoordinates=function(){if(this.options.smoothCurves.dynamic==true&&this.options.smoothCurves.enabled==true){return this.via}else{if(this.options.smoothCurves.enabled==false){return{x:0,y:0}}else{var l=null;var i=null;var n=this.options.smoothCurves.roundness;var m=this.options.smoothCurves.type;var p=Math.abs(this.from.x-this.to.x);var o=Math.abs(this.from.y-this.to.y);if(m=="discrete"||m=="diagonalCross"){if(Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)){if(this.from.y>this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*o;i=this.from.y-n*o}else{if(this.from.x>this.to.x){l=this.from.x-n*o;i=this.from.y-n*o}}}else{if(this.from.y<this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*o;i=this.from.y+n*o}else{if(this.from.x>this.to.x){l=this.from.x-n*o;i=this.from.y+n*o}}}}if(m=="discrete"){l=p<n*o?this.from.x:l}}else{if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)){if(this.from.y>this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*p;i=this.from.y-n*p}else{if(this.from.x>this.to.x){l=this.from.x-n*p;i=this.from.y-n*p}}}else{if(this.from.y<this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*p;i=this.from.y+n*p}else{if(this.from.x>this.to.x){l=this.from.x-n*p;i=this.from.y+n*p}}}}if(m=="discrete"){i=o<n*p?this.from.y:i}}}}else{if(m=="straightCross"){if(Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)){l=this.from.x;if(this.from.y<this.to.y){i=this.to.y-(1-n)*o}else{i=this.to.y+(1-n)*o}}else{if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)){if(this.from.x<this.to.x){l=this.to.x-(1-n)*p}else{l=this.to.x+(1-n)*p}i=this.from.y}}}else{if(m=="horizontal"){if(this.from.x<this.to.x){l=this.to.x-(1-n)*p}else{l=this.to.x+(1-n)*p}i=this.from.y}else{if(m=="vertical"){l=this.from.x;if(this.from.y<this.to.y){i=this.to.y-(1-n)*o}else{i=this.to.y+(1-n)*o}}else{if(m=="curvedCW"){var p=this.to.x-this.from.x;var o=this.from.y-this.to.y;var k=Math.sqrt(p*p+o*o);var j=Math.PI;var h=Math.atan2(o,p);var g=(h+((n*0.5)+0.5)*j)%(2*j);l=this.from.x+(n*0.5+0.5)*k*Math.sin(g);i=this.from.y+(n*0.5+0.5)*k*Math.cos(g)}else{if(m=="curvedCCW"){var p=this.to.x-this.from.x;var o=this.from.y-this.to.y;var k=Math.sqrt(p*p+o*o);var j=Math.PI;var h=Math.atan2(o,p);var g=(h+((-n*0.5)+0.5)*j)%(2*j);l=this.from.x+(n*0.5+0.5)*k*Math.sin(g);i=this.from.y+(n*0.5+0.5)*k*Math.cos(g)}else{if(Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)){if(this.from.y>this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*o;i=this.from.y-n*o;l=this.to.x<l?this.to.x:l}else{if(this.from.x>this.to.x){l=this.from.x-n*o;i=this.from.y-n*o;l=this.to.x>l?this.to.x:l}}}else{if(this.from.y<this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*o;i=this.from.y+n*o;l=this.to.x<l?this.to.x:l}else{if(this.from.x>this.to.x){l=this.from.x-n*o;i=this.from.y+n*o;l=this.to.x>l?this.to.x:l}}}}}else{if(Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)){if(this.from.y>this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*p;i=this.from.y-n*p;i=this.to.y>i?this.to.y:i}else{if(this.from.x>this.to.x){l=this.from.x-n*p;i=this.from.y-n*p;i=this.to.y>i?this.to.y:i}}}else{if(this.from.y<this.to.y){if(this.from.x<this.to.x){l=this.from.x+n*p;i=this.from.y+n*p;i=this.to.y<i?this.to.y:i}else{if(this.from.x>this.to.x){l=this.from.x-n*p;i=this.from.y+n*p;i=this.to.y<i?this.to.y:i}}}}}}}}}}}}return{x:l,y:i}}}};c.prototype._line=function(g){g.beginPath();g.moveTo(this.from.x,this.from.y);if(this.options.smoothCurves.enabled==true){if(this.options.smoothCurves.dynamic==false){var h=this._getViaCoordinates();if(h.x==null){g.lineTo(this.to.x,this.to.y);g.stroke();return null}else{g.quadraticCurveTo(h.x,h.y,this.to.x,this.to.y);g.stroke();return h}}else{g.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y);g.stroke();return this.via}}else{g.lineTo(this.to.x,this.to.y);g.stroke();return null}};c.prototype._circle=function(i,h,j,g){i.beginPath();i.arc(h,j,g,0,2*Math.PI,false);i.stroke()};c.prototype._label=function(r,q,n,m){if(q){r.font=((this.from.selected||this.to.selected)?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;var o;if(this.dirtyLabel==true){var u=String(q).split("\n");var s=u.length;var t=Number(this.options.fontSize);o=m+(1-s)/2*t;var g=r.measureText(u[0]).width;for(var j=1;j<s;j++){var k=r.measureText(u[j]).width;g=k>g?k:g}var p=this.options.fontSize*s;var h=n-g/2;var l=m-p/2;this.labelDimensions={top:l,left:h,width:g,height:p,yLine:o}}var o=this.labelDimensions.yLine;r.save();if(this.options.labelAlignment!="horizontal"){r.translate(n,o);this._rotateForLabelAlignment(r);n=0;o=0}this._drawLabelRect(r);this._drawLabelText(r,n,o,u,s,t);r.restore()}};c.prototype._rotateForLabelAlignment=function(h){var g=this.from.y-this.to.y;var i=this.from.x-this.to.x;var j=Math.atan2(g,i);if((j<-1&&i<0)||(j>0&&i<0)){j=j+Math.PI}h.rotate(j)};c.prototype._drawLabelRect=function(h){if(this.options.fontFill!==undefined&&this.options.fontFill!==null&&this.options.fontFill!=="none"){h.fillStyle=this.options.fontFill;var g=2;if(this.options.labelAlignment=="line-center"){h.fillRect(-this.labelDimensions.width*0.5,-this.labelDimensions.height*0.5,this.labelDimensions.width,this.labelDimensions.height)}else{if(this.options.labelAlignment=="line-above"){h.fillRect(-this.labelDimensions.width*0.5,-(this.labelDimensions.height+g),this.labelDimensions.width,this.labelDimensions.height)}else{if(this.options.labelAlignment=="line-below"){h.fillRect(-this.labelDimensions.width*0.5,g,this.labelDimensions.width,this.labelDimensions.height)}else{h.fillRect(this.labelDimensions.left,this.labelDimensions.top,this.labelDimensions.width,this.labelDimensions.height)}}}}};c.prototype._drawLabelText=function(l,g,o,k,j,n){l.fillStyle=this.options.fontColor||"black";l.textAlign="center";if(this.options.labelAlignment!="horizontal"){var h=2;if(this.options.labelAlignment=="line-above"){l.textBaseline="alphabetic";o-=2*h}else{if(this.options.labelAlignment=="line-below"){l.textBaseline="hanging";o+=2*h}else{l.textBaseline="middle"}}}else{l.textBaseline="middle"}if(this.options.fontStrokeWidth>0){l.lineWidth=this.options.fontStrokeWidth;l.strokeStyle=this.options.fontStrokeColor;l.lineJoin="round"}for(var m=0;m<j;m++){if(this.options.fontStrokeWidth>0){l.strokeText(k[m],g,o)}l.fillText(k[m],g,o);o+=n}};c.prototype._drawDashLine=function(h){h.strokeStyle=this._getColor(h);h.lineWidth=this._getLineWidth();var k=null;if(h.setLineDash!==undefined){h.save();var l=[0];if(this.options.dash.length!==undefined&&this.options.dash.gap!==undefined){l=[this.options.dash.length,this.options.dash.gap]}else{l=[5,5]}h.setLineDash(l);h.lineDashOffset=0;k=this._line(h);h.setLineDash([0]);h.lineDashOffset=0;h.restore()}else{h.beginPath();h.lineCap="round";if(this.options.dash.altLength!==undefined){h.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap])}else{if(this.options.dash.length!==undefined&&this.options.dash.gap!==undefined){h.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap])}else{h.moveTo(this.from.x,this.from.y);h.lineTo(this.to.x,this.to.y)}}h.stroke()}if(this.label){var g;if(this.options.smoothCurves.enabled==true&&k!=null){var j=0.5*(0.5*(this.from.x+k.x)+0.5*(this.to.x+k.x));var i=0.5*(0.5*(this.from.y+k.y)+0.5*(this.to.y+k.y));g={x:j,y:i}}else{g=this._pointOnLine(0.5)}this._label(h,this.label,g.x,g.y)}};c.prototype._pointOnLine=function(g){return{x:(1-g)*this.from.x+g*this.to.x,y:(1-g)*this.from.y+g*this.to.y}};c.prototype._pointOnCircle=function(h,k,g,i){var j=(i-3/8)*2*Math.PI;return{x:h+g*Math.cos(j),y:k-g*Math.sin(j)}};c.prototype._drawArrowCenter=function(q){var o;q.strokeStyle=this._getColor(q);q.fillStyle=q.strokeStyle;q.lineWidth=this._getLineWidth();if(this.from!=this.to){var p=this._line(q);var i=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var g=(10+5*this.options.width)*this.options.arrowScaleFactor;if(this.options.smoothCurves.enabled==true&&p!=null){var l=0.5*(0.5*(this.from.x+p.x)+0.5*(this.to.x+p.x));var k=0.5*(0.5*(this.from.y+p.y)+0.5*(this.to.y+p.y));o={x:l,y:k}}else{o=this._pointOnLine(0.5)}q.arrow(o.x,o.y,i,g);q.fill();q.stroke();if(this.label){this._label(q,this.label,o.x,o.y)}}else{var n,m;var j=0.25*Math.max(100,this.physics.springLength);var h=this.from;if(!h.width){h.resize(q)}if(h.width>h.height){n=h.x+h.width*0.5;m=h.y-j}else{n=h.x+j;m=h.y-h.height*0.5}this._circle(q,n,m,j);var i=0.2*Math.PI;var g=(10+5*this.options.width)*this.options.arrowScaleFactor;o=this._pointOnCircle(n,m,j,0.5);q.arrow(o.x,o.y,i,g);q.fill();q.stroke();if(this.label){o=this._pointOnCircle(n,m,j,0.5);this._label(q,this.label,o.x,o.y)}}};c.prototype._pointOnBezier=function(i){var h=this._getViaCoordinates();var g=Math.pow(1-i,2)*this.from.x+(2*i*(1-i))*h.x+Math.pow(i,2)*this.to.x;var j=Math.pow(1-i,2)*this.from.y+(2*i*(1-i))*h.y+Math.pow(i,2)*this.to.y;return{x:g,y:j}};c.prototype._findBorderPosition=function(r,s){var o=10;var h=0;var p=0;var l=1;var q,k,n,g,j;var m=0.2;var i=this.to;if(r==true){i=this.from}while(p<=l&&h<o){var t=(p+l)*0.5;q=this._pointOnBezier(t);k=Math.atan2((i.y-q.y),(i.x-q.x));n=i.distanceToBorder(s,k);g=Math.sqrt(Math.pow(q.x-i.x,2)+Math.pow(q.y-i.y,2));j=n-g;if(Math.abs(j)<m){break}else{if(j<0){if(r==false){p=t}else{l=t}}else{if(r==false){l=t}else{p=t}}}h++}q.t=t;return q};c.prototype._drawArrow=function(u){u.strokeStyle=this._getColor(u);u.fillStyle=u.strokeStyle;u.lineWidth=this._getLineWidth();var i,g,j;if(this.from!=this.to){this._line(u);if(this.options.smoothCurves.enabled==true){var s=this._getViaCoordinates();j=this._findBorderPosition(false,u);var t=this._pointOnBezier(Math.max(0,j.t-0.1));i=Math.atan2((j.y-t.y),(j.x-t.x))}else{i=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var w=(this.to.x-this.from.x);var v=(this.to.y-this.from.y);var r=Math.sqrt(w*w+v*v);var m=this.to.distanceToBorder(u,i);var l=(r-m)/r;j={};j.x=(1-l)*this.from.x+l*this.to.x;j.y=(1-l)*this.from.y+l*this.to.y}g=(10+5*this.options.width)*this.options.arrowScaleFactor;u.arrow(j.x,j.y,i,g);u.fill();u.stroke();if(this.label){var q;if(this.options.smoothCurves.enabled==true&&s!=null){q=this._pointOnBezier(0.5)}else{q=this._pointOnLine(0.5)}this._label(u,this.label,q.x,q.y)}}else{var h=this.from;var o,n,p;var k=0.25*Math.max(100,this.physics.springLength);if(!h.width){h.resize(u)}if(h.width>h.height){o=h.x+h.width*0.5;n=h.y-k;p={x:o,y:h.y,angle:0.9*Math.PI}}else{o=h.x+k;n=h.y-h.height*0.5;p={x:h.x,y:n,angle:0.6*Math.PI}}u.beginPath();u.arc(o,n,k,0,2*Math.PI,false);u.stroke();var g=(10+5*this.options.width)*this.options.arrowScaleFactor;u.arrow(p.x,p.y,p.angle,g);u.fill();u.stroke();if(this.label){q=this._pointOnCircle(o,n,k,0.5);this._label(u,this.label,q.x,q.y)}}};c.prototype._getDistanceToEdge=function(D,k,C,h,B,g){var E=0;if(this.from!=this.to){if(this.options.smoothCurves.enabled==true){var j,n;if(this.options.smoothCurves.enabled==true&&this.options.smoothCurves.dynamic==true){j=this.via.x;n=this.via.y}else{var F=this._getViaCoordinates();j=F.x;n=F.y}var w=1000000000;var l;var A,v,r,q,p,o;for(A=0;A<10;A++){v=0.1*A;r=Math.pow(1-v,2)*D+(2*v*(1-v))*j+Math.pow(v,2)*C;q=Math.pow(1-v,2)*k+(2*v*(1-v))*n+Math.pow(v,2)*h;if(A>0){l=this._getDistanceToLine(p,o,r,q,B,g);w=l<w?l:w}p=r;o=q}E=w}else{E=this._getDistanceToLine(D,k,C,h,B,g)}}else{var r,q,u,s;var m=0.25*this.physics.springLength;var z=this.from;if(z.width>z.height){r=z.x+0.5*z.width;q=z.y-m}else{r=z.x+m;q=z.y-0.5*z.height}u=r-B;s=q-g;E=Math.abs(Math.sqrt(u*u+s*s)-m)}if(this.labelDimensions.left<B&&this.labelDimensions.left+this.labelDimensions.width>B&&this.labelDimensions.top<g&&this.labelDimensions.top+this.labelDimensions.height>g){return 0}else{return E}};c.prototype._getDistanceToLine=function(i,o,h,m,g,j){var q=h-i,p=m-o,l=q*q+p*p,r=((g-i)*q+(j-o)*p)/l;if(r>1){r=1}else{if(r<0){r=0}}var n=i+r*q,k=o+r*p,t=n-g,s=k-j;return Math.sqrt(t*t+s*s)};c.prototype.setScale=function(g){this.networkScaleInv=1/g};c.prototype.select=function(){this.selected=true};c.prototype.unselect=function(){this.selected=false};c.prototype.positionBezierNode=function(){if(this.via!==null&&this.from!==null&&this.to!==null){this.via.x=0.5*(this.from.x+this.to.x);this.via.y=0.5*(this.from.y+this.to.y)}else{if(this.via!==null){this.via.x=0;this.via.y=0}}};c.prototype._drawControlNodes=function(g){if(this.controlNodesEnabled==true){if(this.controlNodes.from===null&&this.controlNodes.to===null){var i="edgeIdFrom:".concat(this.id);var j="edgeIdTo:".concat(this.id);var h={nodes:{group:"",radius:7,borderWidth:2,borderWidthSelected:2},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new d({id:i,shape:"dot",color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},h);this.controlNodes.to=new d({id:j,shape:"dot",color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},h)}this.controlNodes.positions={};if(this.controlNodes.from.selected==false){this.controlNodes.positions.from=this.getControlNodeFromPosition(g);this.controlNodes.from.x=this.controlNodes.positions.from.x;this.controlNodes.from.y=this.controlNodes.positions.from.y}if(this.controlNodes.to.selected==false){this.controlNodes.positions.to=this.getControlNodeToPosition(g);this.controlNodes.to.x=this.controlNodes.positions.to.x;this.controlNodes.to.y=this.controlNodes.positions.to.y}this.controlNodes.from.draw(g);this.controlNodes.to.draw(g)}else{this.controlNodes={from:null,to:null,positions:{}}}};c.prototype._enableControlNodes=function(){this.fromBackup=this.from;this.toBackup=this.to;this.controlNodesEnabled=true};c.prototype._disableControlNodes=function(){this.fromId=this.from.id;this.toId=this.to.id;if(this.fromId!=this.fromBackup.id){this.fromBackup.detachEdge(this)}else{if(this.toId!=this.toBackup.id){this.toBackup.detachEdge(this)}}this.fromBackup=null;this.toBackup=null;this.controlNodesEnabled=false};c.prototype._getSelectedControlNode=function(g,k){var h=this.controlNodes.positions;var i=Math.sqrt(Math.pow(g-h.from.x,2)+Math.pow(k-h.from.y,2));var j=Math.sqrt(Math.pow(g-h.to.x,2)+Math.pow(k-h.to.y,2));if(i<15){this.connectedNode=this.from;this.from=this.controlNodes.from;return this.controlNodes.from}else{if(j<15){this.connectedNode=this.to;this.to=this.controlNodes.to;return this.controlNodes.to}else{return null}}};c.prototype._restoreControlNodes=function(){if(this.controlNodes.from.selected==true){this.from=this.connectedNode;this.connectedNode=null;this.controlNodes.from.unselect()}else{if(this.controlNodes.to.selected==true){this.to=this.connectedNode;this.connectedNode=null;this.controlNodes.to.unselect()}}};c.prototype.getControlNodeFromPosition=function(h){var n;if(this.options.smoothCurves.enabled==true){n=this._findBorderPosition(true,h)}else{var m=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var i=(this.to.x-this.from.x);var g=(this.to.y-this.from.y);var l=Math.sqrt(i*i+g*g);var j=this.from.distanceToBorder(h,m+Math.PI);var k=(l-j)/l;n={};n.x=(k)*this.from.x+(1-k)*this.to.x;n.y=(k)*this.from.y+(1-k)*this.to.y}return n};c.prototype.getControlNodeToPosition=function(m){var k,j;if(this.options.smoothCurves.enabled==true){j=this._findBorderPosition(false,m)}else{var g=Math.atan2((this.to.y-this.from.y),(this.to.x-this.from.x));var o=(this.to.x-this.from.x);var n=(this.to.y-this.from.y);var l=Math.sqrt(o*o+n*n);var i=this.to.distanceToBorder(m,g);var h=(l-i)/l;j={};j.x=(1-h)*this.from.x+h*this.to.x;j.y=(1-h)*this.from.y+h*this.to.y}return j};e.exports=c},function(c,b,e){var a=e(1);function d(){this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.useDefaultGroups=true}d.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}},];d.prototype.clear=function(){this.groups={};this.groups.length=function(){var f=0;for(var g in this){if(this.hasOwnProperty(g)){f++}}return f}};d.prototype.get=function(f){var h=this.groups[f];if(h==undefined){if(this.useDefaultGroups===false&&this.groupsArray.length>0){var g=this.groupIndex%this.groupsArray.length;this.groupIndex++;h={};h.color=this.groups[this.groupsArray[g]];this.groups[f]=h}else{var g=this.defaultIndex%d.DEFAULT.length;this.defaultIndex++;h={};h.color=d.DEFAULT[g];this.groups[f]=h}}return h};d.prototype.add=function(g,f){this.groups[g]=f;this.groupsArray.push(g);return f};c.exports=d},function(b,a,c){function d(){this.images={};this.imageBroken={};this.callback=undefined}d.prototype.setOnloadCallback=function(e){this.callback=e};d.prototype.load=function(g,e){var f=this.images[g];if(f===undefined){var h=this;f=new Image();f.onload=function(){if(this.width==0){document.body.appendChild(this);this.width=this.offsetWidth;this.height=this.offsetHeight;document.body.removeChild(this)}if(h.callback){h.images[g]=f;h.callback(this)}};f.onerror=function(){if(e===undefined){console.error("Could not load image:",g);delete this.src;if(h.callback){h.callback(this)}}else{if(h.imageBroken[g]===true){if(this.src==e){console.error("Could not load brokenImage:",e);delete this.src;if(h.callback){h.callback(this)}}else{console.error("Could not load image:",g);this.src=e}}else{console.error("Could not load image:",g);this.src=e;h.imageBroken[g]=true}}};f.src=g}return f};b.exports=d},function(d,b,e){var a=e(1);function c(h,f,j,i){var g=a.selectiveBridgeObject(["nodes"],i);this.options=g.nodes;this.selected=false;this.hover=false;this.edges=[];this.dynamicEdges=[];this.reroutedEdges={};this.id=undefined;this.allowedToMoveX=false;this.allowedToMoveY=false;this.xFixed=false;this.yFixed=false;this.horizontalAlignLeft=true;this.verticalAlignTop=true;this.baseRadiusValue=i.nodes.radius;this.radiusFixed=false;this.level=-1;this.preassignedLevel=false;this.hierarchyEnumerated=false;this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0};this.boundingBox={top:0,left:0,right:0,bottom:0};this.imagelist=f;this.grouplist=j;this.fx=0;this.fy=0;this.vx=0;this.vy=0;this.x=null;this.y=null;this.predefinedPosition=false;this.previousState={vx:0,vy:0,x:0,y:0};this.damping=i.physics.damping;this.fixedData={x:null,y:null};this.setProperties(h,g);this.resetCluster();this.clusterSession=0;this.clusterSizeWidthFactor=i.clustering.nodeScaling.width;this.clusterSizeHeightFactor=i.clustering.nodeScaling.height;this.clusterSizeRadiusFactor=i.clustering.nodeScaling.radius;this.maxNodeSizeIncrements=i.clustering.maxNodeSizeIncrements;this.growthIndicator=0;this.networkScaleInv=1;this.networkScale=1;this.canvasTopLeft={x:-300,y:-300};this.canvasBottomRight={x:300,y:300};this.parentEdgeId=null}c.prototype.revertPosition=function(){this.x=this.previousState.x;this.y=this.previousState.y;this.vx=this.previousState.vx;this.vy=this.previousState.vy};c.prototype.resetCluster=function(){this.formationScale=undefined;this.clusterSize=1;this.containedNodes={};this.containedEdges={};this.clusterSessions=[]};c.prototype.attachEdge=function(f){if(this.edges.indexOf(f)==-1){this.edges.push(f)}if(this.dynamicEdges.indexOf(f)==-1){this.dynamicEdges.push(f)}};c.prototype.detachEdge=function(g){var f=this.edges.indexOf(g);if(f!=-1){this.edges.splice(f,1)}f=this.dynamicEdges.indexOf(g);if(f!=-1){this.dynamicEdges.splice(f,1)}};c.prototype.setProperties=function(h,g){if(!h){return}var f=["borderWidth","borderWidthSelected","shape","image","brokenImage","radius","fontColor","fontSize","fontFace","fontFill","fontStrokeWidth","fontStrokeColor","group","mass","fontDrawThreshold","scaleFontWithValue","fontSizeMaxVisible","customScalingFunction","iconFontFace","icon","iconColor","iconSize"];a.selectiveDeepExtend(f,this.options,h);if(h.id!==undefined){this.id=h.id}if(h.label!==undefined){this.label=h.label;this.originalLabel=h.label}if(h.title!==undefined){this.title=h.title}if(h.x!==undefined){this.x=h.x;this.predefinedPosition=true}if(h.y!==undefined){this.y=h.y;this.predefinedPosition=true}if(h.value!==undefined){this.value=h.value}if(h.level!==undefined){this.level=h.level;this.preassignedLevel=true}if(h.horizontalAlignLeft!==undefined){this.horizontalAlignLeft=h.horizontalAlignLeft}if(h.verticalAlignTop!==undefined){this.verticalAlignTop=h.verticalAlignTop}if(h.triggerFunction!==undefined){this.triggerFunction=h.triggerFunction}if(this.id===undefined){throw"Node must have an id"}if(typeof h.group==="number"||(typeof h.group==="string"&&h.group!="")){var i=this.grouplist.get(h.group);a.deepExtend(this.options,i);this.options.color=a.parseColor(this.options.color)}if(h.radius!==undefined){this.baseRadiusValue=this.options.radius}if(h.color!==undefined){this.options.color=a.parseColor(h.color)}if(this.options.image!==undefined&&this.options.image!=""){if(this.imagelist){this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage)}else{throw"No imagelist provided"}}if(h.allowedToMoveX!==undefined){this.xFixed=!h.allowedToMoveX;this.allowedToMoveX=h.allowedToMoveX}else{if(h.x!==undefined&&this.allowedToMoveX==false){this.xFixed=true}}if(h.allowedToMoveY!==undefined){this.yFixed=!h.allowedToMoveY;this.allowedToMoveY=h.allowedToMoveY}else{if(h.y!==undefined&&this.allowedToMoveY==false){this.yFixed=true}}this.radiusFixed=this.radiusFixed||(h.radius!==undefined);if(this.options.shape==="image"||this.options.shape==="circularImage"){this.options.radiusMin=g.nodes.widthMin;this.options.radiusMax=g.nodes.widthMax}switch(this.options.shape){case"database":this.draw=this._drawDatabase;this.resize=this._resizeDatabase;break;case"box":this.draw=this._drawBox;this.resize=this._resizeBox;break;case"circle":this.draw=this._drawCircle;this.resize=this._resizeCircle;break;case"ellipse":this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break;case"image":this.draw=this._drawImage;this.resize=this._resizeImage;break;case"circularImage":this.draw=this._drawCircularImage;this.resize=this._resizeCircularImage;break;case"text":this.draw=this._drawText;this.resize=this._resizeText;break;case"dot":this.draw=this._drawDot;this.resize=this._resizeShape;break;case"square":this.draw=this._drawSquare;this.resize=this._resizeShape;break;case"triangle":this.draw=this._drawTriangle;this.resize=this._resizeShape;break;case"triangleDown":this.draw=this._drawTriangleDown;this.resize=this._resizeShape;break;case"star":this.draw=this._drawStar;this.resize=this._resizeShape;break;case"icon":this.draw=this._drawIcon;this.resize=this._resizeIcon;break;default:this.draw=this._drawEllipse;this.resize=this._resizeEllipse;break}this._reset()};c.prototype.select=function(){this.selected=true;this._reset()};c.prototype.unselect=function(){this.selected=false;this._reset()};c.prototype.clearSizeCache=function(){this._reset()};c.prototype._reset=function(){this.width=undefined;this.height=undefined};c.prototype.getTitle=function(){return typeof this.title==="function"?this.title():this.title};c.prototype.distanceToBorder=function(j,m){var k=1;if(!this.width){this.resize(j)}switch(this.options.shape){case"circle":case"dot":return this.options.radius+k;case"ellipse":var i=this.width/2;var f=this.height/2;var g=(Math.sin(m)*i);var l=(Math.cos(m)*f);return i*f/Math.sqrt(g*g+l*l);case"box":case"image":case"text":default:if(this.width){return Math.min(Math.abs(this.width/2/Math.cos(m)),Math.abs(this.height/2/Math.sin(m)))+k}else{return 0}}};c.prototype._setForce=function(g,f){this.fx=g;this.fy=f};c.prototype._addForce=function(g,f){this.fx+=g;this.fy+=f};c.prototype.storeState=function(){this.previousState.x=this.x;this.previousState.y=this.y;this.previousState.vx=this.vx;this.previousState.vy=this.vy};c.prototype.discreteStep=function(h){this.storeState();if(!this.xFixed){var g=this.damping*this.vx;var j=(this.fx-g)/this.options.mass;this.vx+=j*h;this.x+=this.vx*h}else{this.fx=0;this.vx=0}if(!this.yFixed){var f=this.damping*this.vy;var i=(this.fy-f)/this.options.mass;this.vy+=i*h;this.y+=this.vy*h}else{this.fy=0;this.vy=0}};c.prototype.discreteStepLimited=function(h,i){this.storeState();if(!this.xFixed){var g=this.damping*this.vx;var k=(this.fx-g)/this.options.mass;this.vx+=k*h;this.vx=(Math.abs(this.vx)>i)?((this.vx>0)?i:-i):this.vx;this.x+=this.vx*h}else{this.fx=0;this.vx=0}if(!this.yFixed){var f=this.damping*this.vy;var j=(this.fy-f)/this.options.mass;this.vy+=j*h;this.vy=(Math.abs(this.vy)>i)?((this.vy>0)?i:-i):this.vy;this.y+=this.vy*h}else{this.fy=0;this.vy=0}};c.prototype.isFixed=function(){return(this.xFixed&&this.yFixed)};c.prototype.isMoving=function(f){var g=Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2));return(g>f)};c.prototype.isSelected=function(){return this.selected};c.prototype.getValue=function(){return this.value};c.prototype.getDistance=function(f,i){var h=this.x-f,g=this.y-i;return Math.sqrt(h*h+g*g)};c.prototype.setValueRange=function(h,g,i){if(!this.radiusFixed&&this.value!==undefined){var k=this.options.customScalingFunction(h,g,i,this.value);var j=this.options.radiusMax-this.options.radiusMin;if(this.options.scaleFontWithValue==true){var f=this.options.fontSizeMax-this.options.fontSizeMin;this.options.fontSize=this.options.fontSizeMin+k*f}this.options.radius=this.options.radiusMin+k*j}this.baseRadiusValue=this.options.radius};c.prototype.draw=function(f){throw"Draw method not initialized for node"};c.prototype.resize=function(f){throw"Resize method not initialized for node"};c.prototype.isOverlappingWith=function(f){return(this.left<f.right&&this.left+this.width>f.left&&this.top<f.bottom&&this.top+this.height>f.top)};c.prototype._resizeImage=function(g){if(!this.width||!this.height){var h,f;if(this.value){this.options.radius=this.baseRadiusValue;var i=this.imageObj.height/this.imageObj.width;if(i!==undefined){h=this.options.radius||this.imageObj.width;f=this.options.radius*i||this.imageObj.height}else{h=0;f=0}}else{h=this.imageObj.width;f=this.imageObj.height}this.width=h;this.height=f;this.growthIndicator=0;if(this.width>0&&this.height>0){this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-h}}};c.prototype._drawImageAtPosition=function(g){if(this.imageObj.width!=0){if(this.clusterSize>1){var f=((this.clusterSize>1)?10:0);f*=this.networkScaleInv;f=Math.min(0.2*this.width,f);g.globalAlpha=0.5;g.drawImage(this.imageObj,this.left-f,this.top-f,this.width+2*f,this.height+2*f)}g.globalAlpha=1;g.drawImage(this.imageObj,this.left,this.top,this.width,this.height)}};c.prototype._drawImageLabel=function(h){var f;var i=0;if(this.height){i=this.height/2;var g=this.getTextSize(h);if(g.lineCount>=1){i+=g.height/2;i+=3}}f=this.y+i;this._label(h,this.label,this.x,f,undefined)};c.prototype._drawImage=function(f){this._resizeImage(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._drawImageAtPosition(f);this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._drawImageLabel(f);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)};c.prototype._resizeCircularImage=function(f){if(!this.imageObj.src||!this.imageObj.width||!this.imageObj.height){if(!this.width){var g=this.options.radius*2;this.width=g;this.height=g;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*0.5*this.clusterSizeRadiusFactor;this.growthIndicator=this.options.radius-0.5*g;this._swapToImageResizeWhenImageLoaded=true}}else{if(this._swapToImageResizeWhenImageLoaded){this.width=0;this.height=0;delete this._swapToImageResizeWhenImageLoaded}this._resizeImage(f)}};c.prototype._drawCircularImage=function(g){this._resizeCircularImage(g);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var i=this.left+(this.width/2);var h=this.top+(this.height/2);var f=Math.abs(this.height/2);this._drawRawCircle(g,i,h,f);g.save();g.circle(this.x,this.y,f);g.stroke();g.clip();this._drawImageAtPosition(g);g.restore();this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;this._drawImageLabel(g);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)};c.prototype._resizeBox=function(f){if(!this.width){var h=5;var g=this.getTextSize(f);this.width=g.width+2*h;this.height=g.height+2*h;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*0.5*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*0.5*this.clusterSizeHeightFactor;this.growthIndicator=this.width-(g.width+2*h)}};c.prototype._drawBox=function(f){this._resizeBox(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var h=2.5;var g=this.options.borderWidth;var i=this.options.borderWidthSelected||2*this.options.borderWidth;f.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;if(this.clusterSize>1){f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.roundRect(this.left-2*f.lineWidth,this.top-2*f.lineWidth,this.width+4*f.lineWidth,this.height+4*f.lineWidth,this.options.radius);f.stroke()}f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;f.roundRect(this.left,this.top,this.width,this.height,this.options.radius);f.fill();f.stroke();this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(f,this.label,this.x,this.y)};c.prototype._resizeDatabase=function(f){if(!this.width){var i=5;var h=this.getTextSize(f);var g=h.width+2*i;this.width=g;this.height=g;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-g}};c.prototype._drawDatabase=function(f){this._resizeDatabase(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var h=2.5;var g=this.options.borderWidth;var i=this.options.borderWidthSelected||2*this.options.borderWidth;f.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;if(this.clusterSize>1){f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.database(this.x-this.width/2-2*f.lineWidth,this.y-this.height*0.5-2*f.lineWidth,this.width+4*f.lineWidth,this.height+4*f.lineWidth);f.stroke()}f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;f.database(this.x-this.width/2,this.y-this.height*0.5,this.width,this.height);f.fill();f.stroke();this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(f,this.label,this.x,this.y)};c.prototype._resizeCircle=function(f){if(!this.width){var i=5;var h=this.getTextSize(f);var g=Math.max(h.width,h.height)+2*i;this.options.radius=g/2;this.width=g;this.height=g;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*0.5*this.clusterSizeRadiusFactor;this.growthIndicator=this.options.radius-0.5*g}};c.prototype._drawRawCircle=function(h,g,l,f){var j=2.5;var i=this.options.borderWidth;var k=this.options.borderWidthSelected||2*this.options.borderWidth;h.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;if(this.clusterSize>1){h.lineWidth=(this.selected?k:i)+((this.clusterSize>1)?j:0);h.lineWidth*=this.networkScaleInv;h.lineWidth=Math.min(this.width,h.lineWidth);h.circle(g,l,f+2*h.lineWidth);h.stroke()}h.lineWidth=(this.selected?k:i)+((this.clusterSize>1)?j:0);h.lineWidth*=this.networkScaleInv;h.lineWidth=Math.min(this.width,h.lineWidth);h.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;h.circle(this.x,this.y,f);h.fill();h.stroke()};c.prototype._drawCircle=function(f){this._resizeCircle(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._drawRawCircle(f,this.x,this.y,this.options.radius);this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;this._label(f,this.label,this.x,this.y)};c.prototype._resizeEllipse=function(f){if(!this.width){var g=this.getTextSize(f);this.width=g.width*1.5;this.height=g.height*2;if(this.width<this.height){this.width=this.height}var h=this.width;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-h}};c.prototype._drawEllipse=function(f){this._resizeEllipse(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var h=2.5;var g=this.options.borderWidth;var i=this.options.borderWidthSelected||2*this.options.borderWidth;f.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;if(this.clusterSize>1){f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.ellipse(this.left-2*f.lineWidth,this.top-2*f.lineWidth,this.width+4*f.lineWidth,this.height+4*f.lineWidth);f.stroke()}f.lineWidth=(this.selected?i:g)+((this.clusterSize>1)?h:0);f.lineWidth*=this.networkScaleInv;f.lineWidth=Math.min(this.width,f.lineWidth);f.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;f.ellipse(this.left,this.top,this.width,this.height);f.fill();f.stroke();this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height;this._label(f,this.label,this.x,this.y)};c.prototype._drawDot=function(f){this._drawShape(f,"circle")};c.prototype._drawTriangle=function(f){this._drawShape(f,"triangle")};c.prototype._drawTriangleDown=function(f){this._drawShape(f,"triangleDown")};c.prototype._drawSquare=function(f){this._drawShape(f,"square")};c.prototype._drawStar=function(f){this._drawShape(f,"star")};c.prototype._resizeShape=function(f){if(!this.width){this.options.radius=this.baseRadiusValue;var g=2*this.options.radius;this.width=g;this.height=g;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*0.5*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-g}};c.prototype._drawShape=function(g,j){this._resizeShape(g);this.left=this.x-this.width/2;this.top=this.y-this.height/2;var i=2.5;var h=this.options.borderWidth;var k=this.options.borderWidthSelected||2*this.options.borderWidth;var f=2;switch(j){case"dot":f=2;break;case"square":f=2;break;case"triangle":f=3;break;case"triangleDown":f=3;break;case"star":f=4;break}g.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border;if(this.clusterSize>1){g.lineWidth=(this.selected?k:h)+((this.clusterSize>1)?i:0);g.lineWidth*=this.networkScaleInv;g.lineWidth=Math.min(this.width,g.lineWidth);g[j](this.x,this.y,this.options.radius+f*g.lineWidth);g.stroke()}g.lineWidth=(this.selected?k:h)+((this.clusterSize>1)?i:0);g.lineWidth*=this.networkScaleInv;g.lineWidth=Math.min(this.width,g.lineWidth);g.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background;g[j](this.x,this.y,this.options.radius);g.fill();g.stroke();this.boundingBox.top=this.y-this.options.radius;this.boundingBox.left=this.x-this.options.radius;this.boundingBox.right=this.x+this.options.radius;this.boundingBox.bottom=this.y+this.options.radius;if(this.label){this._label(g,this.label,this.x,this.y+this.height/2,undefined,"hanging",true);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)}};c.prototype._resizeText=function(f){if(!this.width){var h=5;var g=this.getTextSize(f);this.width=g.width+2*h;this.height=g.height+2*h;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-(g.width+2*h)}};c.prototype._drawText=function(f){this._resizeText(f);this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._label(f,this.label,this.x,this.y);this.boundingBox.top=this.top;this.boundingBox.left=this.left;this.boundingBox.right=this.left+this.width;this.boundingBox.bottom=this.top+this.height};c.prototype._resizeIcon=function(g){if(!this.width){var h=5;var f={width:Number(this.options.iconSize),height:Number(this.options.iconSize)};this.width=f.width+2*h;this.height=f.height+2*h;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor;this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor;this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor;this.growthIndicator=this.width-(f.width+2*h)}};c.prototype._drawIcon=function(f){this._resizeIcon(f);this.options.iconSize=this.options.iconSize||50;this.left=this.x-this.width/2;this.top=this.y-this.height/2;this._icon(f);this.boundingBox.top=this.y-this.options.iconSize/2;this.boundingBox.left=this.x-this.options.iconSize/2;this.boundingBox.right=this.x+this.options.iconSize/2;this.boundingBox.bottom=this.y+this.options.iconSize/2;if(this.label){var g=5;this._label(f,this.label,this.x,this.y+this.height/2+g,"top",true);this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)}};c.prototype._icon=function(g){var h=Number(this.options.iconSize)*this.networkScale;if(this.options.icon&&h>this.options.fontDrawThreshold-1){var f=Number(this.options.iconSize);g.font=(this.selected?"bold ":"")+f+"px "+this.options.iconFontFace;g.fillStyle=this.options.iconColor||"black";g.textAlign="center";g.textBaseline="middle";g.fillText(this.options.icon,this.x,this.y)}};c.prototype._label=function(z,r,q,o,A,t,n){var C=Number(this.options.fontSize)*this.networkScale;if(r&&C>=this.options.fontDrawThreshold-1){var j=Number(this.options.fontSize);if(C>=this.options.fontSizeMaxVisible){j=Number(this.options.fontSizeMaxVisible)*this.networkScaleInv}var h=this.options.fontColor||"#000000";var p=this.options.fontStrokeColor;if(C<=this.options.fontDrawThreshold){var k=Math.max(0,Math.min(1,1-(this.options.fontDrawThreshold-C)));h=a.overrideOpacity(h,k);p=a.overrideOpacity(p,k)}z.font=(this.selected?"bold ":"")+j+"px "+this.options.fontFace;var g=r.split("\n");var w=g.length;var m=o+(1-w)/2*j;if(n==true){m=o+(1-w)/(2*j)}var v=z.measureText(g[0]).width;for(var B=1;B<w;B++){var f=z.measureText(g[B]).width;v=f>v?f:v}var u=j*w;var l=q-v/2;var s=o-u/2;if(t=="hanging"){s+=0.5*j;s+=4;m+=4}this.labelDimensions={top:s,left:l,width:v,height:u,yLine:m};if(this.options.fontFill!==undefined&&this.options.fontFill!==null&&this.options.fontFill!=="none"){z.fillStyle=this.options.fontFill;z.fillRect(l,s,v,u)}z.fillStyle=h;z.textAlign=A||"center";z.textBaseline=t||"middle";if(this.options.fontStrokeWidth>0){z.lineWidth=this.options.fontStrokeWidth;z.strokeStyle=p;z.lineJoin="round"}for(var B=0;B<w;B++){if(this.options.fontStrokeWidth){z.strokeText(g[B],q,m)}z.fillText(g[B],q,m);m+=j}}};c.prototype.getTextSize=function(j){if(this.label!==undefined){var m=Number(this.options.fontSize);if(m*this.networkScale>this.options.fontSizeMaxVisible){m=Number(this.options.fontSizeMaxVisible)*this.networkScaleInv}j.font=(this.selected?"bold ":"")+m+"px "+this.options.fontFace;var h=this.label.split("\n"),g=(m+4)*h.length,l=0;for(var k=0,f=h.length;k<f;k++){l=Math.max(l,j.measureText(h[k]).width)}return{width:l,height:g,lineCount:h.length}}else{return{width:0,height:0,lineCount:0}}};c.prototype.inArea=function(){if(this.width!==undefined){return(this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y)}else{return true}};c.prototype.inView=function(){return(this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y)};c.prototype.setScaleAndPos=function(h,f,g){this.networkScaleInv=1/h;this.networkScale=h;this.canvasTopLeft=f;this.canvasBottomRight=g};c.prototype.setScale=function(f){this.networkScaleInv=1/f;this.networkScale=f};c.prototype.clearVelocity=function(){this.vx=0;this.vy=0};c.prototype.updateVelocity=function(f){var g=this.vx*this.vx*f;this.vx=Math.sqrt(g/this.options.mass);g=this.vy*this.vy*f;this.vy=Math.sqrt(g/this.options.mass)};d.exports=c},function(b,a,d){function c(f,e,i,h,g){if(f){this.container=f}else{this.container=document.body}if(g===undefined){if(typeof e==="object"){g=e;e=undefined}else{if(typeof h==="object"){g=h;h=undefined}else{g={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}}}}}this.x=0;this.y=0;this.padding=5;this.hidden=false;if(e!==undefined&&i!==undefined){this.setPosition(e,i)}if(h!==undefined){this.setText(h)}this.frame=document.createElement("div");this.frame.className="network-tooltip";this.frame.style.color=g.fontColor;this.frame.style.backgroundColor=g.color.background;this.frame.style.borderColor=g.color.border;this.frame.style.fontSize=g.fontSize+"px";this.frame.style.fontFamily=g.fontFace;this.container.appendChild(this.frame)}c.prototype.setPosition=function(e,f){this.x=parseInt(e);this.y=parseInt(f)};c.prototype.setText=function(e){if(e instanceof Element){this.frame.innerHTML="";this.frame.appendChild(e)}else{this.frame.innerHTML=e}};c.prototype.show=function(f){if(f===undefined){f=true}if(f){var e=this.frame.clientHeight;var g=this.frame.clientWidth;var i=this.frame.parentNode.clientHeight;var h=this.frame.parentNode.clientWidth;var k=(this.y-e);if(k+e+this.padding>i){k=i-e-this.padding}if(k<this.padding){k=this.padding}var j=this.x;if(j+g+this.padding>h){j=h-g-this.padding}if(j<this.padding){j=this.padding}this.frame.style.left=j+"px";this.frame.style.top=k+"px";this.frame.style.visibility="visible";this.hidden=false}else{this.hide()}};c.prototype.hide=function(){this.hidden=true;this.frame.style.visibility="hidden"};b.exports=c},function(d,H,f){function D(c){x=c;return h()}var s={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3};var r={"{":true,"}":true,"[":true,"]":true,";":true,"=":true,",":true,"->":true,"--":true};var x="";var k=0;var E="";var m="";var F=s.NULL;function l(){k=0;E=x.charAt(0)}function w(){k++;E=x.charAt(k)}function i(){return x.charAt(k+1)}var t=/[a-zA-Z_0-9.:#]/;function B(J){return t.test(J)}function j(J,c){if(!J){J={}}if(c){for(var K in c){if(c.hasOwnProperty(K)){J[K]=c[K]}}}return J}function e(M,L,K){var J=L.split(".");var N=M;while(J.length){var c=J.shift();if(J.length){if(!N[c]){N[c]={}}N=N[c]}else{N[c]=K}}}function u(O,N){var L,c;var P=null;var K=[O];var J=O;while(J.parent){K.push(J.parent);J=J.parent}if(J.nodes){for(L=0,c=J.nodes.length;L<c;L++){if(N.id===J.nodes[L].id){P=J.nodes[L];break}}}if(!P){P={id:N.id};if(O.node){P.attr=j(P.attr,O.node)}}for(L=K.length-1;L>=0;L--){var M=K[L];if(!M.nodes){M.nodes=[]}if(M.nodes.indexOf(P)==-1){M.nodes.push(P)}}if(N.attr){P.attr=j(P.attr,N.attr)}}function g(K,J){if(!K.edges){K.edges=[]}K.edges.push(J);if(K.edge){var c=j({},K.edge);J.attr=j(c,J.attr)}}function v(L,N,M,J,c){var K={from:N,to:M,type:J};if(L.edge){K.attr=j({},L.edge)}K.attr=j(K.attr||{},c);return K}function z(){F=s.NULL;m="";while(E==" "||E=="\t"||E=="\n"||E=="\r"){w()}do{var c=false;if(E=="#"){var K=k-1;while(x.charAt(K)==" "||x.charAt(K)=="\t"){K--}if(x.charAt(K)=="\n"||x.charAt(K)==""){while(E!=""&&E!="\n"){w()}c=true}}if(E=="/"&&i()=="/"){while(E!=""&&E!="\n"){w()}c=true}if(E=="/"&&i()=="*"){while(E!=""){if(E=="*"&&i()=="/"){w();w();break}else{w()}}c=true}while(E==" "||E=="\t"||E=="\n"||E=="\r"){w()}}while(c);if(E==""){F=s.DELIMITER;return}var J=E+i();if(r[J]){F=s.DELIMITER;m=J;w();w();return}if(r[E]){F=s.DELIMITER;m=E;w();return}if(B(E)||E=="-"){m+=E;w();while(B(E)){m+=E;w()}if(m=="false"){m=false}else{if(m=="true"){m=true}else{if(!isNaN(Number(m))){m=Number(m)}}}F=s.IDENTIFIER;return}if(E=='"'){w();while(E!=""&&(E!='"'||(E=='"'&&i()=='"'))){m+=E;if(E=='"'){w()}w()}if(E!='"'){throw G('End of string " expected')}w();F=s.IDENTIFIER;return}F=s.UNKNOWN;while(E!=""){m+=E;w()}throw new SyntaxError('Syntax error in part "'+y(m,30)+'"')}function h(){var c={};l();z();if(m=="strict"){c.strict=true;z()}if(m=="graph"||m=="digraph"){c.type=m;z()}if(F==s.IDENTIFIER){c.id=m;z()}if(m!="{"){throw G("Angle bracket { expected")}z();n(c);if(m!="}"){throw G("Angle bracket } expected")}z();if(m!==""){throw G("End of file expected")}z();delete c.node;delete c.edge;delete c.graph;return c}function n(c){while(m!==""&&m!="}"){b(c);if(m==";"){z()}}}function b(K){var J=a(K);if(J){p(K,J);return}var c=q(K);if(c){return}if(F!=s.IDENTIFIER){throw G("Identifier expected")}var L=m;z();if(m=="="){z();if(F!=s.IDENTIFIER){throw G("Identifier expected")}K[L]=m;z()}else{C(K,L)}}function a(J){var c=null;if(m=="subgraph"){c={};c.type="subgraph";z();if(F==s.IDENTIFIER){c.id=m;z()}}if(m=="{"){z();if(!c){c={}}c.parent=J;c.node=J.node;c.edge=J.edge;c.graph=J.graph;n(c);if(m!="}"){throw G("Angle bracket } expected")}z();delete c.node;delete c.edge;delete c.graph;delete c.parent;if(!J.subgraphs){J.subgraphs=[]}J.subgraphs.push(c)}return c}function q(c){if(m=="node"){z();c.node=I();return"node"}else{if(m=="edge"){z();c.edge=I();return"edge"}else{if(m=="graph"){z();c.graph=I();return"graph"}}}return null}function C(K,L){var J={id:L};var c=I();if(c){J.attr=c}u(K,J);p(K,L)}function p(M,O){while(m=="->"||m=="--"){var N;var K=m;z();var J=a(M);if(J){N=J}else{if(F!=s.IDENTIFIER){throw G("Identifier or subgraph expected")}N=m;u(M,{id:N});z()}var c=I();var L=v(M,O,N,K,c);g(M,L);O=N}}function I(){var c=null;while(m=="["){z();c={};while(m!==""&&m!="]"){if(F!=s.IDENTIFIER){throw G("Attribute name expected")}var J=m;z();if(m!="="){throw G("Equal sign = expected")}z();if(F!=s.IDENTIFIER){throw G("Attribute value expected")}var K=m;e(c,J,K);z();if(m==","){z()}}if(m!="]"){throw G("Bracket ] expected")}z()}return c}function G(c){return new SyntaxError(c+', got "'+y(m,30)+'" (char '+k+")")}function y(J,c){return(J.length<=c)?J:(J.substr(0,27)+"...")}function o(K,J,c){if(Array.isArray(K)){K.forEach(function(L){if(Array.isArray(J)){J.forEach(function(M){c(L,M)})}else{c(L,J)}})}else{if(Array.isArray(J)){J.forEach(function(L){c(K,L)})}else{c(K,J)}}}function A(K){var c=D(K);var L={nodes:[],edges:[],options:{}};if(c.nodes){c.nodes.forEach(function(M){var N={id:M.id,label:String(M.label||M.id)};j(N,M.attr);if(N.image){N.shape="image"}L.nodes.push(N)})}if(c.edges){var J=function(M){var N={from:M.from,to:M.to};j(N,M.attr);N.style=(M.type=="->")?"arrow":"line";return N};c.edges.forEach(function(M){var O,N;if(M.from instanceof Object){O=M.from.nodes}else{O={id:M.from}}if(M.to instanceof Object){N=M.to.nodes}else{N={id:M.to}}if(M.from instanceof Object&&M.from.edges){M.from.edges.forEach(function(Q){var P=J(Q);L.edges.push(P)})}o(O,N,function(S,R){var Q=v(L,S.id,R.id,M.type,M.attr);var P=J(Q);L.edges.push(P)});if(M.to instanceof Object&&M.to.edges){M.to.edges.forEach(function(Q){var P=J(Q);L.edges.push(P)})}})}if(c.attr){L.options=c.attr}return L}H.parseDOT=D;H.DOTToGraph=A},function(b,a,d){function c(n,p){var h=[];var e=[];this.options={edges:{inheritColor:true},nodes:{allowedToMove:false,parseColor:false}};if(p!==undefined){this.options.nodes.allowedToMove=p.allowedToMove|false;this.options.nodes.parseColor=p.parseColor|false;this.options.edges.inheritColor=p.inheritColor|true}var o=n.edges;var k=n.nodes;for(var j=0;j<o.length;j++){var f={};var l=o[j];f.id=l.id;f.from=l.source;f.to=l.target;f.attributes=l.attributes;f.color=l.color;f.inheritColor=f.color!==undefined?false:this.options.inheritColor;h.push(f)}for(var j=0;j<k.length;j++){var g={};var m=k[j];g.id=m.id;g.attributes=m.attributes;g.x=m.x;g.y=m.y;g.label=m.label;if(this.options.nodes.parseColor==true){g.color=m.color}else{g.color=m.color!==undefined?{background:m.color,border:m.color}:undefined}g.radius=m.size;g.allowedToMoveX=this.options.nodes.allowedToMove;g.allowedToMoveY=this.options.nodes.allowedToMove;e.push(g)}return{nodes:e,edges:h}}a.parseGephi=c},function(b,a,c){b.exports=(typeof window!=="undefined")&&window.moment||c(58)},function(b,a,c){if(typeof window!=="undefined"){b.exports=window.Hammer||c(59)}else{b.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}}},function(c,f,b){var l=b(56);var n=b(45);var g=b(1);var a=b(3);var h=b(4);var e=b(17);var m=b(32);var d=b(35);var k=b(53);var o=b(15);var j=b(27);function i(){}l(i.prototype);i.prototype._create=function(p){this.dom={};this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.root.className="vis timeline root";this.dom.background.className="vispanel background";this.dom.backgroundVertical.className="vispanel background vertical";this.dom.backgroundHorizontal.className="vispanel background horizontal";this.dom.centerContainer.className="vispanel center jooo";this.dom.leftContainer.className="vispanel left";this.dom.rightContainer.className="vispanel right";this.dom.top.className="vispanel top";this.dom.bottom.className="vispanel bottom";this.dom.left.className="content";this.dom.center.className="content";this.dom.right.className="content";this.dom.shadowTop.className="shadow top";this.dom.shadowBottom.className="shadow bottom";this.dom.shadowTopLeft.className="shadow top";this.dom.shadowBottomLeft.className="shadow bottom";this.dom.shadowTopRight.className="shadow top";this.dom.shadowBottomRight.className="shadow bottom";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.on("rangechange",this._redraw.bind(this));this.on("touch",this._onTouch.bind(this));this.on("pinch",this._onPinch.bind(this));this.on("dragstart",this._onDragStart.bind(this));this.on("drag",this._onDrag.bind(this));var r=this;this.on("change",function(s){if(s&&s.queue==true){if(!r._redrawTimer){r._redrawTimer=setTimeout(function(){r._redrawTimer=null;r._redraw()},0)}}else{r._redraw()}});this.hammer=n(this.dom.root,{preventDefault:true});this.listeners={};var q=["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];q.forEach(function(s){var t=function(){var u=[s].concat(Array.prototype.slice.call(arguments,0));if(r.isActive()){r.emit.apply(r,u)}};r.hammer.on(s,t);r.listeners[s]=t});this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.touch={};this.redrawCount=0;if(!p){throw new Error("No container provided")}p.appendChild(this.dom.root)};i.prototype.setOptions=function(s){if(s){var p=["width","height","minHeight","maxHeight","autoResize","start","end","orientation","clickToUse","dataAttributes","hiddenDates"];g.selectiveExtend(p,this.options,s);if(this.options.orientation==="both"){if(!this.timeAxis2){var q=this.timeAxis2=new d(this.body);q.setOptions=function(u){var t=u?g.extend({},u):{};t.orientation="top";d.prototype.setOptions.call(q,t)};this.components.push(q)}}else{if(this.timeAxis2){var r=this.components.indexOf(this.timeAxis2);if(r!==-1){this.components.splice(r,1)}this.timeAxis2.destroy();this.timeAxis2=null}}if("hiddenDates" in this.options){o.convertHiddenOptions(this.body,this.options.hiddenDates)}if("clickToUse" in s){if(s.clickToUse){if(!this.activator){this.activator=new k(this.dom.root)}}else{if(this.activator){this.activator.destroy();delete this.activator}}}this._initAutoResize()}this.components.forEach(function(t){t.setOptions(s)});this._redraw()};i.prototype.isActive=function(){return !this.activator||this.activator.active};i.prototype.destroy=function(){this.clear();this.off();this._stopAutoResize();if(this.dom.root.parentNode){this.dom.root.parentNode.removeChild(this.dom.root)}this.dom=null;if(this.activator){this.activator.destroy();delete this.activator}for(var p in this.listeners){if(this.listeners.hasOwnProperty(p)){delete this.listeners[p]}}this.listeners=null;this.hammer=null;this.components.forEach(function(q){q.destroy()});this.body=null};i.prototype.setCustomTime=function(q,r){if(!this.customTime){throw new Error("Cannot get custom time: Custom time bar is not enabled")}var p=r||0;this.components.forEach(function(t,s,u){if(t instanceof j&&t.options.id===p){t.setCustomTime(q)}})};i.prototype.getCustomTime=function(r){if(!this.customTime){throw new Error("Cannot get custom time: Custom time bar is not enabled")}var q=r||0,p=this.customTime.getCustomTime();this.components.forEach(function(t,s,u){if(t instanceof j&&t.options.id===q){p=t.getCustomTime()}});return p};i.prototype.addCustomTime=function(t,u){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}if(t===undefined){throw new Error("Time parameter for the custom bar must be provided")}var s=g.convert(t,"Date").valueOf(),q,p,r;if(!this.customBarIds||this.customBarIds.constructor!==Array){this.customBarIds=[0]}if(u===undefined){q=this.customBarIds.filter(function(v){return g.isNumber(v)});r=q.length>0?Math.max.apply(null,q)+1:1}else{this.customBarIds.forEach(function(v){if(v===u){throw new Error("Custom time ID already exists")}});r=u}this.customBarIds.push(r);p=new j(this.body,{showCustomTime:true,time:s,id:r});this.components.push(p);this.redraw();return r};i.prototype.removeCustomTime=function(q){var p=this;this.components.forEach(function(t,r,s){if(t instanceof j&&t.options.id===q){if(t.options.id!==0){p.customBarIds.splice(p.customBarIds.indexOf(q),1);s.splice(r,1);t.destroy()}}})};i.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};i.prototype.clear=function(p){if(!p||p.items){this.setItems(null)}if(!p||p.groups){this.setGroups(null)}if(!p||p.options){this.components.forEach(function(q){q.setOptions(q.defaultOptions)});this.setOptions(this.defaultOptions)}};i.prototype.fit=function(r){var q=this._getDataRange();if(q.start===null&&q.end===null){return}var p=(r&&r.animate!==undefined)?r.animate:true;this.range.setRange(q.start,q.end,p)};i.prototype._getDataRange=function(){var r=this.getItemRange();var s=r.min;var p=r.max;if(s!=null&&p!=null){var q=(p.valueOf()-s.valueOf());if(q<=0){q=24*60*60*1000}s=new Date(s.valueOf()-q*0.05);p=new Date(p.valueOf()+q*0.05)}return{start:s,end:p}};i.prototype.setWindow=function(t,p,s){var r;if(arguments.length==1){var q=arguments[0];r=(q.animate!==undefined)?q.animate:true;this.range.setRange(q.start,q.end,r)}else{r=(s&&s.animate!==undefined)?s.animate:true;this.range.setRange(t,p,r)}};i.prototype.moveTo=function(v,s){var r=this.range.end-this.range.start;var u=g.convert(v,"Date").valueOf();var w=u-r/2;var p=u+r/2;var q=(s&&s.animate!==undefined)?s.animate:true;this.range.setRange(w,p,q)};i.prototype.getWindow=function(){var p=this.range.getRange();return{start:new Date(p.start),end:new Date(p.end)}};i.prototype.redraw=function(){this._redraw()};i.prototype._redraw=function(){var u=false;var C=this.options;var w=this.props;var t=this.dom;if(!t){return}o.updateHiddenDates(this.body,this.options.hiddenDates);if(C.orientation=="top"){g.addClassName(t.root,"top");g.removeClassName(t.root,"bottom")}else{g.removeClassName(t.root,"top");g.addClassName(t.root,"bottom")}t.root.style.maxHeight=g.option.asSize(C.maxHeight,"");t.root.style.minHeight=g.option.asSize(C.minHeight,"");t.root.style.width=g.option.asSize(C.width,"");w.border.left=(t.centerContainer.offsetWidth-t.centerContainer.clientWidth)/2;w.border.right=w.border.left;w.border.top=(t.centerContainer.offsetHeight-t.centerContainer.clientHeight)/2;w.border.bottom=w.border.top;var p=t.root.offsetHeight-t.root.clientHeight;var v=t.root.offsetWidth-t.root.clientWidth;if(t.centerContainer.clientHeight===0){w.border.left=w.border.top;w.border.right=w.border.left}if(t.root.clientHeight===0){v=p}w.center.height=t.center.offsetHeight;w.left.height=t.left.offsetHeight;w.right.height=t.right.offsetHeight;w.top.height=t.top.clientHeight||-w.border.top;w.bottom.height=t.bottom.clientHeight||-w.border.bottom;var y=Math.max(w.left.height,w.center.height,w.right.height);var z=w.top.height+y+w.bottom.height+p+w.border.top+w.border.bottom;t.root.style.height=g.option.asSize(C.height,z+"px");w.root.height=t.root.offsetHeight;w.background.height=w.root.height-p;var B=w.root.height-w.top.height-w.bottom.height-p;w.centerContainer.height=B;w.leftContainer.height=B;w.rightContainer.height=w.leftContainer.height;w.root.width=t.root.offsetWidth;w.background.width=w.root.width-v;w.left.width=t.leftContainer.clientWidth||-w.border.left;w.leftContainer.width=w.left.width;w.right.width=t.rightContainer.clientWidth||-w.border.right;w.rightContainer.width=w.right.width;var A=w.root.width-w.left.width-w.right.width-v;w.center.width=A;w.centerContainer.width=A;w.top.width=A;w.bottom.width=A;t.background.style.height=w.background.height+"px";t.backgroundVertical.style.height=w.background.height+"px";t.backgroundHorizontal.style.height=w.centerContainer.height+"px";t.centerContainer.style.height=w.centerContainer.height+"px";t.leftContainer.style.height=w.leftContainer.height+"px";t.rightContainer.style.height=w.rightContainer.height+"px";t.background.style.width=w.background.width+"px";t.backgroundVertical.style.width=w.centerContainer.width+"px";t.backgroundHorizontal.style.width=w.background.width+"px";t.centerContainer.style.width=w.center.width+"px";t.top.style.width=w.top.width+"px";t.bottom.style.width=w.bottom.width+"px";t.background.style.left="0";t.background.style.top="0";t.backgroundVertical.style.left=(w.left.width+w.border.left)+"px";t.backgroundVertical.style.top="0";t.backgroundHorizontal.style.left="0";t.backgroundHorizontal.style.top=w.top.height+"px";t.centerContainer.style.left=w.left.width+"px";t.centerContainer.style.top=w.top.height+"px";t.leftContainer.style.left="0";t.leftContainer.style.top=w.top.height+"px";t.rightContainer.style.left=(w.left.width+w.center.width)+"px";t.rightContainer.style.top=w.top.height+"px";t.top.style.left=w.left.width+"px";t.top.style.top="0";t.bottom.style.left=w.left.width+"px";t.bottom.style.top=(w.top.height+w.centerContainer.height)+"px";this._updateScrollTop();var s=this.props.scrollTop;if(C.orientation=="bottom"){s+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)}t.center.style.left="0";t.center.style.top=s+"px";t.left.style.left="0";t.left.style.top=s+"px";t.right.style.left="0";t.right.style.top=s+"px";var x=this.props.scrollTop==0?"hidden":"";var r=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=x;t.shadowBottom.style.visibility=r;t.shadowTopLeft.style.visibility=x;t.shadowBottomLeft.style.visibility=r;t.shadowTopRight.style.visibility=x;t.shadowBottomRight.style.visibility=r;this.components.forEach(function(D){u=D.redraw()||u});if(u){var q=3;if(this.redrawCount<q){this.redrawCount++;this._redraw()}else{console.log("WARNING: infinite loop in redraw?")}this.redrawCount=0}this.emit("finishedRedraw")};i.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")};i.prototype.setCurrentTime=function(p){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}this.currentTime.setCurrentTime(p)};i.prototype.getCurrentTime=function(){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}return this.currentTime.getCurrentTime()};i.prototype._toTime=function(p){return o.toTime(this,p,this.props.center.width)};i.prototype._toGlobalTime=function(p){return o.toTime(this,p,this.props.root.width)};i.prototype._toScreen=function(p){return o.toScreen(this,p,this.props.center.width)};i.prototype._toGlobalScreen=function(p){return o.toScreen(this,p,this.props.root.width)};i.prototype._initAutoResize=function(){if(this.options.autoResize==true){this._startAutoResize()}else{this._stopAutoResize()}};i.prototype._startAutoResize=function(){var p=this;this._stopAutoResize();this._onResize=function(){if(p.options.autoResize!=true){p._stopAutoResize();return}if(p.dom.root){if((p.dom.root.offsetWidth!=p.props.lastWidth)||(p.dom.root.offsetHeight!=p.props.lastHeight)){p.props.lastWidth=p.dom.root.offsetWidth;p.props.lastHeight=p.dom.root.offsetHeight;p.emit("change")}}};g.addEventListener(window,"resize",this._onResize);this.watchTimer=setInterval(this._onResize,1000)};i.prototype._stopAutoResize=function(){if(this.watchTimer){clearInterval(this.watchTimer);this.watchTimer=undefined}g.removeEventListener(window,"resize",this._onResize);this._onResize=null};i.prototype._onTouch=function(p){this.touch.allowDragging=true};i.prototype._onPinch=function(p){this.touch.allowDragging=false};i.prototype._onDragStart=function(p){this.touch.initialScrollTop=this.props.scrollTop};i.prototype._onDrag=function(r){if(!this.touch.allowDragging){return}var s=r.gesture.deltaY;var q=this._getScrollTop();var p=this._setScrollTop(this.touch.initialScrollTop+s);if(p!=q){this._redraw();this.emit("verticalDrag")}};i.prototype._setScrollTop=function(p){this.props.scrollTop=p;this._updateScrollTop();return this.props.scrollTop};i.prototype._updateScrollTop=function(){var p=Math.min(this.props.centerContainer.height-this.props.center.height,0);if(p!=this.props.scrollTopMin){if(this.options.orientation=="bottom"){this.props.scrollTop+=(p-this.props.scrollTopMin)}this.props.scrollTopMin=p}if(this.props.scrollTop>0){this.props.scrollTop=0}if(this.props.scrollTop<p){this.props.scrollTop=p}return this.props.scrollTop};i.prototype._getScrollTop=function(){return this.props.scrollTop};c.exports=i},function(c,b,d){var a=d(45);b.fakeGesture=function(g,h){var f=null;var i=a.event.getTouchList(h,f);var e=a.event.collectEventData(this,f,i,h);if(isNaN(e.center.pageX)){e.center.pageX=h.pageX}if(isNaN(e.center.pageY)){e.center.pageY=h.pageY}return e}},function(b,a,c){a.en={current:"current",time:"time"};a.en_EN=a.en;a.en_US=a.en;a.nl={custom:"aangepaste",time:"tijd"};a.nl_NL=a.nl;a.nl_BE=a.nl},function(c,a,e){var d=e(2);var b=e(51);function f(h,g){this.groupId=h;this.options=g}f.prototype.getYRange=function(i){var g=i[0].y;var k=i[0].y;for(var h=0;h<i.length;h++){g=g>i[h].y?i[h].y:g;k=k<i[h].y?i[h].y:k}return{min:g,max:k,yAxisOrientation:this.options.yAxisOrientation}};f.prototype.draw=function(m,l,j){if(m!=null){if(m.length>0){var k,n;var h=Number(j.svg.style.height.replace("px",""));k=d.getSVGElement("path",j.svgElements,j.svg);k.setAttributeNS(null,"class",l.className);if(l.style!==undefined){k.setAttributeNS(null,"style",l.style)}if(l.options.catmullRom.enabled==true){n=f._catmullRom(m,l)}else{n=f._linear(m)}if(l.options.shaded.enabled==true){var i=d.getSVGElement("path",j.svgElements,j.svg);var g;if(l.options.shaded.orientation=="top"){g="M"+m[0].x+","+0+" "+n+"L"+m[m.length-1].x+","+0}else{g="M"+m[0].x+","+h+" "+n+"L"+m[m.length-1].x+","+h}i.setAttributeNS(null,"class",l.className+" fill");if(l.options.shaded.style!==undefined){i.setAttributeNS(null,"style",l.options.shaded.style)}i.setAttributeNS(null,"d",g)}k.setAttributeNS(null,"d","M"+n);if(l.options.drawPoints.enabled==true){b.draw(m,l,j)}}}};f._catmullRomUniform=function(l){var r,q,p,o,j,h;var n=Math.round(l[0].x)+","+Math.round(l[0].y)+" ";var m=1/6;var g=l.length;for(var k=0;k<g-1;k++){r=(k==0)?l[0]:l[k-1];q=l[k];p=l[k+1];o=(k+2<g)?l[k+2]:p;j={x:((-r.x+6*q.x+p.x)*m),y:((-r.y+6*q.y+p.y)*m)};h={x:((q.x+6*p.x-o.x)*m),y:((q.y+6*p.y-o.y)*m)};n+="C"+j.x+","+j.y+" "+h.x+","+h.y+" "+p.x+","+p.y+" "}return n};f._catmullRom=function(E,t){var n=t.options.catmullRom.alpha;if(n==0||n===undefined){return this._catmullRomUniform(E)}else{var k,j,h,g,q,p,H,F,D,v,u,r,s;var C,o,l,G,z,w;var y=Math.round(E[0].x)+","+Math.round(E[0].y)+" ";var m=E.length;for(var x=0;x<m-1;x++){k=(x==0)?E[0]:E[x-1];j=E[x];h=E[x+1];g=(x+2<m)?E[x+2]:h;H=Math.sqrt(Math.pow(k.x-j.x,2)+Math.pow(k.y-j.y,2));F=Math.sqrt(Math.pow(j.x-h.x,2)+Math.pow(j.y-h.y,2));D=Math.sqrt(Math.pow(h.x-g.x,2)+Math.pow(h.y-g.y,2));C=Math.pow(D,n);l=Math.pow(D,2*n);o=Math.pow(F,n);G=Math.pow(F,2*n);w=Math.pow(H,n);z=Math.pow(H,2*n);v=2*z+3*w*o+G;u=2*l+3*C*o+G;r=3*w*(w+o);if(r>0){r=1/r}s=3*C*(C+o);if(s>0){s=1/s}q={x:((-G*k.x+v*j.x+z*h.x)*r),y:((-G*k.y+v*j.y+z*h.y)*r)};p={x:((l*j.x+u*h.x-G*g.x)*s),y:((l*j.y+u*h.y-G*g.y)*s)};if(q.x==0&&q.y==0){q=j}if(p.x==0&&p.y==0){p=h}y+="C"+q.x+","+q.y+" "+p.x+","+p.y+" "+h.x+","+h.y+" "}return y}};f._linear=function(h){var j="";for(var g=0;g<h.length;g++){if(g==0){j+=h[g].x+","+h[g].y}else{j+=" "+h[g].x+","+h[g].y}}return j};c.exports=f},function(d,b,f){var e=f(2);var c=f(51);function a(h,g){this.groupId=h;this.options=g}a.prototype.getYRange=function(i){if(this.options.barChart.handleOverlap!="stack"){var g=i[0].y;var k=i[0].y;for(var h=0;h<i.length;h++){g=g>i[h].y?i[h].y:g;k=k<i[h].y?i[h].y:k}return{min:g,max:k,yAxisOrientation:this.options.yAxisOrientation}}else{var l=[];for(var h=0;h<i.length;h++){l.push({x:i[h].x,y:i[h].y,groupId:this.groupId})}return l}};a.draw=function(m,h,t){var q=[];var n={};var s;var w,k;var v;var p,o;var u=0;for(p=0;p<m.length;p++){v=t.groups[m[p]];if(v.options.style=="bar"){if(v.visible==true&&(t.options.groups.visibility[m[p]]===undefined||t.options.groups.visibility[m[p]]==true)){for(o=0;o<h[m[p]].length;o++){q.push({x:h[m[p]][o].x,y:h[m[p]][o].y,groupId:m[p]});u+=1}}}}if(u==0){return}q.sort(function(j,i){if(j.x==i.x){return j.groupId-i.groupId}else{return j.x-i.x}});a._getDataIntersections(n,q);for(p=0;p<q.length;p++){v=t.groups[q[p].groupId];var l=0.1*v.options.barChart.width;w=q[p].x;var g=0;if(n[w]===undefined){if(p+1<q.length){s=Math.abs(q[p+1].x-w)}if(p>0){s=Math.min(s,Math.abs(q[p-1].x-w))}k=a._getSafeDrawData(s,v,l)}else{var r=p+(n[w].amount-n[w].resolved);var x=p-(n[w].resolved+1);if(r<q.length){s=Math.abs(q[r].x-w)}if(x>0){s=Math.min(s,Math.abs(q[x].x-w))}k=a._getSafeDrawData(s,v,l);n[w].resolved+=1;if(v.options.barChart.handleOverlap=="stack"){g=n[w].accumulated;n[w].accumulated+=v.zeroPosition-q[p].y}else{if(v.options.barChart.handleOverlap=="sideBySide"){k.width=k.width/n[w].amount;k.offset+=(n[w].resolved)*k.width-(0.5*k.width*(n[w].amount+1));if(v.options.barChart.align=="left"){k.offset-=0.5*k.width}else{if(v.options.barChart.align=="right"){k.offset+=0.5*k.width}}}}}e.drawBar(q[p].x+k.offset,q[p].y-g,k.width,v.zeroPosition-q[p].y,v.className+" bar",t.svgElements,t.svg);if(v.options.drawPoints.enabled==true){e.drawPoint(q[p].x+k.offset,q[p].y,v,t.svgElements,t.svg)}}};a._getDataIntersections=function(k,g){var j;for(var h=0;h<g.length;h++){if(h+1<g.length){j=Math.abs(g[h+1].x-g[h].x)}if(h>0){j=Math.min(j,Math.abs(g[h-1].x-g[h].x))}if(j==0){if(k[g[h].x]===undefined){k[g[h].x]={amount:0,resolved:0,accumulated:0}}k[g[h].x].amount+=1}}};a._getSafeDrawData=function(j,i,h){var g,k;if(j<i.options.barChart.width&&j>0){g=j<h?h:j;k=0;if(i.options.barChart.align=="left"){k-=0.5*j}else{if(i.options.barChart.align=="right"){k+=0.5*j}}}else{g=i.options.barChart.width;k=0;if(i.options.barChart.align=="left"){k-=0.5*i.options.barChart.width}else{if(i.options.barChart.align=="right"){k+=0.5*i.options.barChart.width}}}return{width:g,offset:k}};a.getStackedBarYRange=function(l,i,h,j,g){if(l.length>0){l.sort(function(n,m){if(n.x==m.x){return n.groupId-m.groupId}else{return n.x-m.x}});var k={};a._getDataIntersections(k,l);i[j]=a._getStackedBarYRange(k,l);i[j].yAxisOrientation=g;h.push(j)}};a._getStackedBarYRange=function(n,j){var l;var g=j[0].y;var m=j[0].y;for(var k=0;k<j.length;k++){l=j[k].x;if(n[l]===undefined){g=g>j[k].y?j[k].y:g;m=m<j[k].y?j[k].y:m}else{n[l].accumulated+=j[k].y}}for(var h in n){if(n.hasOwnProperty(h)){g=g>n[h].accumulated?n[h].accumulated:g;m=m<n[h].accumulated?n[h].accumulated:m}}return{min:g,max:m}};d.exports=a},function(c,a,e){var d=e(2);function b(g,f){this.groupId=g;this.options=f}b.prototype.getYRange=function(h){var f=h[0].y;var i=h[0].y;for(var g=0;g<h.length;g++){f=f>h[g].y?h[g].y:f;i=i<h[g].y?h[g].y:i}return{min:f,max:i,yAxisOrientation:this.options.yAxisOrientation}};b.prototype.draw=function(h,g,f,i){b.draw(h,g,f,i)};b.draw=function(j,h,f,k){if(k===undefined){k=0}for(var g=0;g<j.length;g++){d.drawPoint(j[g].x+k,j[g].y,h,f.svgElements,f.svg,j[g].label)}};c.exports=b},function(b,c,a){var i=a(60);var f=a(61);var h=a(62);var d=a(63);var g=a(64);var j=a(65);var e=a(66);c._loadMixin=function(l){for(var k in l){if(l.hasOwnProperty(k)){this[k]=l[k]}}};c._clearMixin=function(l){for(var k in l){if(l.hasOwnProperty(k)){this[k]=undefined}}};c._loadPhysicsSystem=function(){this._loadMixin(i);this._loadSelectedForceSolver();if(this.constants.configurePhysics==true){this._loadPhysicsConfiguration()}else{this._cleanupPhysicsConfiguration()}};c._loadClusterSystem=function(){this.clusterSession=0;this.hubThreshold=5;this._loadMixin(f)};c._loadSectorSystem=function(){this.sectors={};this.activeSector=["default"];this.sectors.active={};this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:undefined};this.sectors.frozen={};this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:undefined};this.nodeIndices=this.sectors.active["default"]["nodeIndices"];this._loadMixin(h)};c._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}};this._loadMixin(d)};c._loadManipulationSystem=function(){this.blockConnectingEdgeSelection=false;this.forceAppendSelection=false;if(this.constants.dataManipulation.enabled==true){if(this.manipulationDiv===undefined){this.manipulationDiv=document.createElement("div");this.manipulationDiv.className="network-manipulationDiv";if(this.editMode==true){this.manipulationDiv.style.display="block"}else{this.manipulationDiv.style.display="none"}this.frame.appendChild(this.manipulationDiv)}if(this.editModeDiv===undefined){this.editModeDiv=document.createElement("div");this.editModeDiv.className="network-manipulation-editMode";if(this.editMode==true){this.editModeDiv.style.display="none"}else{this.editModeDiv.style.display="block"}this.frame.appendChild(this.editModeDiv)}if(this.closeDiv===undefined){this.closeDiv=document.createElement("div");this.closeDiv.className="network-manipulation-closeDiv";this.closeDiv.style.display=this.manipulationDiv.style.display;this.frame.appendChild(this.closeDiv)}this._loadMixin(g);this._createManipulatorBar()}else{if(this.manipulationDiv!==undefined){this._createManipulatorBar();this.frame.removeChild(this.manipulationDiv);this.frame.removeChild(this.editModeDiv);this.frame.removeChild(this.closeDiv);this.manipulationDiv=undefined;this.editModeDiv=undefined;this.closeDiv=undefined;this._clearMixin(g)}}};c._loadNavigationControls=function(){this._loadMixin(j);this._cleanNavigation();if(this.constants.navigation.enabled==true){this._loadNavigationElements()}};c._loadHierarchySystem=function(){this._loadMixin(e)}},function(c,d,b){var g=b(57);var h=b(56);var i=b(45);var e=b(1);function f(j){this.active=false;this.dom={container:j};this.dom.overlay=document.createElement("div");this.dom.overlay.className="overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=i(this.dom.overlay,{prevent_default:false});this.hammer.on("tap",this._onTapOverlay.bind(this));var l=this;var k=["touch","pinch","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];k.forEach(function(m){l.hammer.on(m,function(n){n.stopPropagation()})});this.windowHammer=i(window,{prevent_default:false});this.windowHammer.on("tap",function(m){if(!a(m.target,j)){l.deactivate()}});if(this.keycharm!==undefined){this.keycharm.destroy()}this.keycharm=g();this.escListener=this.deactivate.bind(this)}h(f.prototype);f.current=null;f.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.hammer=null;this.windowHammer=null};f.prototype.activate=function(){if(f.current){f.current.deactivate()}f.current=this;this.active=true;this.dom.overlay.style.display="none";e.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};f.prototype.deactivate=function(){this.active=false;this.dom.overlay.style.display="";e.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};f.prototype._onTapOverlay=function(j){this.activate();j.stopPropagation()};function a(j,k){while(j){if(j===k){return true}j=j.parentNode}return false}c.exports=f},function(b,a,c){a.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted."};a.en_EN=a.en;a.en_US=a.en;a.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."};a.nl_NL=a.nl;a.nl_BE=a.nl},function(b,a,c){if(typeof CanvasRenderingContext2D!=="undefined"){CanvasRenderingContext2D.prototype.circle=function(d,f,e){this.beginPath();this.arc(d,f,e,0,2*Math.PI,false)};CanvasRenderingContext2D.prototype.square=function(d,f,e){this.beginPath();this.rect(d-e,f-e,e*2,e*2)};CanvasRenderingContext2D.prototype.triangle=function(d,k,i){this.beginPath();var g=i*2;var e=g/2;var j=Math.sqrt(3)/6*g;var f=Math.sqrt(g*g-e*e);this.moveTo(d,k-(f-j));this.lineTo(d+e,k+j);this.lineTo(d-e,k+j);this.lineTo(d,k-(f-j));this.closePath()};CanvasRenderingContext2D.prototype.triangleDown=function(d,k,i){this.beginPath();var g=i*2;var e=g/2;var j=Math.sqrt(3)/6*g;var f=Math.sqrt(g*g-e*e);this.moveTo(d,k+(f-j));this.lineTo(d+e,k-j);this.lineTo(d-e,k-j);this.lineTo(d,k+(f-j));this.closePath()};CanvasRenderingContext2D.prototype.star=function(e,h,f){this.beginPath();for(var g=0;g<10;g++){var d=(g%2===0)?f*1.3:f*0.5;this.lineTo(e+d*Math.sin(g*2*Math.PI/10),h-d*Math.cos(g*2*Math.PI/10))}this.closePath()};CanvasRenderingContext2D.prototype.roundRect=function(d,j,e,g,i){var f=Math.PI/180;if(e-(2*i)<0){i=(e/2)}if(g-(2*i)<0){i=(g/2)}this.beginPath();this.moveTo(d+i,j);this.lineTo(d+e-i,j);this.arc(d+e-i,j+i,i,f*270,f*360,false);this.lineTo(d+e,j+g-i);this.arc(d+e-i,j+g-i,i,0,f*90,false);this.lineTo(d+i,j+g);this.arc(d+i,j+g-i,i,f*90,f*180,false);this.lineTo(d,j+i);this.arc(d+i,j+i,i,f*180,f*270,false)};CanvasRenderingContext2D.prototype.ellipse=function(m,l,n,g){var k=0.5522848,f=(n/2)*k,d=(g/2)*k,o=m+n,j=l+g,i=m+n/2,e=l+g/2;this.beginPath();this.moveTo(m,e);this.bezierCurveTo(m,e-d,i-f,l,i,l);this.bezierCurveTo(i+f,l,o,e-d,o,e);this.bezierCurveTo(o,e+d,i+f,j,i,j);this.bezierCurveTo(i-f,j,m,e+d,m,e)};CanvasRenderingContext2D.prototype.database=function(r,q,s,l){var o=1/3;var k=s;var d=l*o;var p=0.5522848,j=(k/2)*p,g=(d/2)*p,t=r+k,n=q+d,m=r+k/2,i=q+d/2,e=q+(l-d/2),u=q+l;this.beginPath();this.moveTo(t,i);this.bezierCurveTo(t,i+g,m+j,n,m,n);this.bezierCurveTo(m-j,n,r,i+g,r,i);this.bezierCurveTo(r,i-g,m-j,q,m,q);this.bezierCurveTo(m+j,q,t,i-g,t,i);this.lineTo(t,e);this.bezierCurveTo(t,e+g,m+j,u,m,u);this.bezierCurveTo(m-j,u,r,e+g,r,e);this.lineTo(r,i)};CanvasRenderingContext2D.prototype.arrow=function(m,l,h,d){var f=m-d*Math.cos(h);var n=l-d*Math.sin(h);var k=m-d*0.9*Math.cos(h);var i=l-d*0.9*Math.sin(h);var j=f+d/3*Math.cos(h+0.5*Math.PI);var e=n+d/3*Math.sin(h+0.5*Math.PI);var g=f+d/3*Math.cos(h-0.5*Math.PI);var o=n+d/3*Math.sin(h-0.5*Math.PI);this.beginPath();this.moveTo(m,l);this.lineTo(j,e);this.lineTo(k,i);this.lineTo(g,o);this.closePath()};CanvasRenderingContext2D.prototype.dashedLine=function(o,l,d,m,j){if(!j){j=[10,5]}if(f==0){f=0.001}var i=j.length;this.moveTo(o,l);var q=(d-o),p=(m-l);var k=p/q;var g=Math.sqrt(q*q+p*p);var h=0,n=true;while(g>=0.1){var f=j[h++%i];if(f>g){f=g}var e=Math.sqrt(f*f/(1+k*k));if(q<0){e=-e}o+=e;l+=k*e;this[n?"lineTo":"moveTo"](o,l);g-=f;n=!n}}}},function(c,b,e){c.exports=d;function d(f){if(f){return a(f)}}function a(g){for(var f in d.prototype){g[f]=d.prototype[f]}return g}d.prototype.on=d.prototype.addEventListener=function(g,f){this._callbacks=this._callbacks||{};(this._callbacks[g]=this._callbacks[g]||[]).push(f);return this};d.prototype.once=function(i,h){var g=this;this._callbacks=this._callbacks||{};function f(){g.off(i,f);h.apply(this,arguments)}f.fn=h;this.on(i,f);return this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(k,h){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var j=this._callbacks[k];if(!j){return this}if(1==arguments.length){delete this._callbacks[k];return this}var f;for(var g=0;g<j.length;g++){f=j[g];if(f===h||f.fn===h){j.splice(g,1);break}}return this};d.prototype.emit=function(k){this._callbacks=this._callbacks||{};var g=[].slice.call(arguments,1),j=this._callbacks[k];if(j){j=j.slice(0);for(var h=0,f=j.length;h<f;++h){j[h].apply(this,g)}}return this};d.prototype.listeners=function(f){this._callbacks=this._callbacks||{};return this._callbacks[f]||[]};d.prototype.hasListeners=function(f){return !!this.listeners(f).length}},function(c,b,e){var d,a,f;"use strict";(function(g,h){if(true){!(a=[],d=(h),f=(typeof d==="function"?(d.apply(b,a)):d),f!==undefined&&(c.exports=f))}else{if(typeof b==="object"){c.exports=h()}else{g.keycharm=h()}}}(this,function(){function g(r){var n=r&&r.preventDefault||false;var h=r&&r.container||window;var l={};var m={keydown:{},keyup:{}};var p={};var k;for(k=97;k<=122;k++){p[String.fromCharCode(k)]={code:65+(k-97),shift:false}}for(k=65;k<=90;k++){p[String.fromCharCode(k)]={code:k,shift:true}}for(k=0;k<=9;k++){p[""+k]={code:48+k,shift:false}}for(k=1;k<=12;k++){p["F"+k]={code:111+k,shift:false}}for(k=0;k<=9;k++){p["num"+k]={code:96+k,shift:false}}p["num*"]={code:106,shift:false};p["num+"]={code:107,shift:false};p["num-"]={code:109,shift:false};p["num/"]={code:111,shift:false};p["num."]={code:110,shift:false};p.left={code:37,shift:false};p.up={code:38,shift:false};p.right={code:39,shift:false};p.down={code:40,shift:false};p.space={code:32,shift:false};p.enter={code:13,shift:false};p.shift={code:16,shift:undefined};p.esc={code:27,shift:false};p.backspace={code:8,shift:false};p.tab={code:9,shift:false};p.ctrl={code:17,shift:false};p.alt={code:18,shift:false};p["delete"]={code:46,shift:false};p.pageup={code:33,shift:false};p.pagedown={code:34,shift:false};p["="]={code:187,shift:false};p["-"]={code:189,shift:false};p["]"]={code:221,shift:false};p["["]={code:219,shift:false};var q=function(i){o(i,"keydown")};var j=function(i){o(i,"keyup")};var o=function(v,u){if(m[u][v.keyCode]!==undefined){var t=m[u][v.keyCode];for(var s=0;s<t.length;s++){if(t[s].shift===undefined){t[s].fn(v)}else{if(t[s].shift==true&&v.shiftKey==true){t[s].fn(v)}else{if(t[s].shift==false&&v.shiftKey==false){t[s].fn(v)}}}}if(n==true){v.preventDefault()}}};l.bind=function(i,t,s){if(s===undefined){s="keydown"}if(p[i]===undefined){throw new Error("unsupported key: "+i)}if(m[s][p[i].code]===undefined){m[s][p[i].code]=[]}m[s][p[i].code].push({fn:t,shift:p[i].shift})};l.bindAll=function(t,s){if(s===undefined){s="keydown"}for(var i in p){if(p.hasOwnProperty(i)){l.bind(i,t,s)}}};l.getKey=function(s){for(var i in p){if(p.hasOwnProperty(i)){if(s.shiftKey==true&&p[i].shift==true&&s.keyCode==p[i].code){return i}else{if(s.shiftKey==false&&p[i].shift==false&&s.keyCode==p[i].code){return i}else{if(s.keyCode==p[i].code&&i=="shift"){return i}}}}}return"unknown key, currently not supported"};l.unbind=function(t,x,w){if(w===undefined){w="keydown"}if(p[t]===undefined){throw new Error("unsupported key: "+t)}if(x!==undefined){var v=[];var u=m[w][p[t].code];if(u!==undefined){for(var s=0;s<u.length;s++){if(!(u[s].fn==x&&u[s].shift==p[t].shift)){v.push(m[w][p[t].code][s])}}}m[w][p[t].code]=v}else{m[w][p[t].code]=[]}};l.reset=function(){m={keydown:{},keyup:{}}};l.destroy=function(){m={keydown:{},keyup:{}};h.removeEventListener("keydown",q,true);h.removeEventListener("keyup",j,true)};h.addEventListener("keydown",q,true);h.addEventListener("keyup",j,true);return l}return g}))},function(b,a,c){var d;(function(f,e){(function(N){var ab,aR="2.9.0",bi=(typeof f!=="undefined"&&(typeof window==="undefined"||window===f.window))?f:this,aC,aj=Math.round,aX=Object.prototype.hasOwnProperty,ar,H=0,p=1,ba=2,G=3,aO=4,E=5,af=6,aA={},a3=[],aB=(typeof e!=="undefined"&&e&&e.exports),l=/^\/?Date\((\-?\d+)/i,bm=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,aT=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,aF=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,aq=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q=/\d\d?/,at=/\d{1,3}/,O=/\d{1,4}/,bs=/[+\-]?\d{1,6}/,bg=/\d+/,T=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,y=/Z|[\+\-]\d\d:?\d\d/gi,u=/T/i,C=/[\+\-]?\d+/,a5=/[\+\-]?\d+(\.\d{1,3})?/,ap=/\d/,B=/\d\d/,bk=/\d{3}/,a4=/\d{4}/,ax=/[+-]?\d{6}/,am=/[+-]?\d+/,a1=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ag="YYYY-MM-DDTHH:mm:ssZ",bj=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],R=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ao=/([\+\-]|\d\d)/gi,aV="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),M={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},m={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},bf={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},az={},I={s:45,m:45,h:22,d:26,M:11},a9="DDD w W M D d".split(" "),aD="M D H h m s w W".split(" "),bb={M:function(){return this.month()+1},MMM:function(i){return this.localeData().monthsShort(this,i)},MMMM:function(i){return this.localeData().months(this,i)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(i){return this.localeData().weekdaysMin(this,i)},ddd:function(i){return this.localeData().weekdaysShort(this,i)},dddd:function(i){return this.localeData().weekdays(this,i)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return U(this.year()%100,2)},YYYY:function(){return U(this.year(),4)},YYYYY:function(){return U(this.year(),5)},YYYYYY:function(){var by=this.year(),i=by>=0?"+":"-";return i+U(Math.abs(by),6)},gg:function(){return U(this.weekYear()%100,2)},gggg:function(){return U(this.weekYear(),4)},ggggg:function(){return U(this.weekYear(),5)},GG:function(){return U(this.isoWeekYear()%100,2)},GGGG:function(){return U(this.isoWeekYear(),4)},GGGGG:function(){return U(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return W(this.milliseconds()/100)},SS:function(){return U(W(this.milliseconds()/10),2)},SSS:function(){return U(this.milliseconds(),3)},SSSS:function(){return U(this.milliseconds(),3)},Z:function(){var by=this.utcOffset(),i="+";if(by<0){by=-by;i="-"}return i+U(W(by/60),2)+":"+U(W(by)%60,2)},ZZ:function(){var by=this.utcOffset(),i="+";if(by<0){by=-by;i="-"}return i+U(W(by/60),2)+U(W(by)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},g={},ah=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],an=false;function a6(by,i,bz){switch(arguments.length){case 2:return by!=null?by:i;case 3:return by!=null?by:i!=null?i:bz;default:throw new Error("Implement me")}}function bc(by,i){return aX.call(by,i)}function av(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function bx(i){if(ab.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+i)}}function bv(by,i){var bz=true;return aP(function(){if(bz){bx(by);bz=false}return i.apply(this,arguments)},i)}function n(i,by){if(!g[i]){bx(by);g[i]=true}}function Y(by,i){return function(bz){return U(by.call(this,bz),i)}}function r(i,by){return function(bz){return this.localeData().ordinal(i.call(this,bz),by)}}function s(by,i){var bC=((i.year()-by.year())*12)+(i.month()-by.month()),bz=by.clone().add(bC,"months"),bA,bB;if(i-bz<0){bA=by.clone().add(bC-1,"months");bB=(i-bz)/(bz-bA)}else{bA=by.clone().add(bC+1,"months");bB=(i-bz)/(bA-bz)}return -(bC+bB)}while(a9.length){ar=a9.pop();bb[ar+"o"]=r(bb[ar],ar)}while(aD.length){ar=aD.pop();bb[ar+ar]=Y(bb[ar],2)}bb.DDDD=Y(bb.DDD,3);function bl(i,bz,bA){var by;if(bA==null){return bz}if(i.meridiemHour!=null){return i.meridiemHour(bz,bA)}else{if(i.isPM!=null){by=i.isPM(bA);if(by&&bz<12){bz+=12}if(!by&&bz===12){bz=0}return bz}else{return bz}}}function al(){}function V(by,i){if(i!==false){bp(by)}aZ(this,by);this._d=new Date(+by._d);if(an===false){an=true;ab.updateOffset(this);an=false}}function au(bC){var bE=v(bC),bD=bE.year||0,by=bE.quarter||0,bz=bE.month||0,i=bE.week||0,bH=bE.day||0,bF=bE.hour||0,bB=bE.minute||0,bG=bE.second||0,bA=bE.millisecond||0;this._milliseconds=+bA+bG*1000+bB*60000+bF*3600000;this._days=+bH+i*7;this._months=+bz+by*3+bD*12;this._data={};this._locale=ab.localeData();this._bubble()}function aP(bz,by){for(var bA in by){if(bc(by,bA)){bz[bA]=by[bA]}}if(bc(by,"toString")){bz.toString=by.toString}if(bc(by,"valueOf")){bz.valueOf=by.valueOf}return bz}function aZ(bC,bB){var by,bA,bz;if(typeof bB._isAMomentObject!=="undefined"){bC._isAMomentObject=bB._isAMomentObject}if(typeof bB._i!=="undefined"){bC._i=bB._i}if(typeof bB._f!=="undefined"){bC._f=bB._f}if(typeof bB._l!=="undefined"){bC._l=bB._l}if(typeof bB._strict!=="undefined"){bC._strict=bB._strict}if(typeof bB._tzm!=="undefined"){bC._tzm=bB._tzm}if(typeof bB._isUTC!=="undefined"){bC._isUTC=bB._isUTC}if(typeof bB._offset!=="undefined"){bC._offset=bB._offset}if(typeof bB._pf!=="undefined"){bC._pf=bB._pf}if(typeof bB._locale!=="undefined"){bC._locale=bB._locale}if(a3.length>0){for(by in a3){bA=a3[by];bz=bB[bA];if(typeof bz!=="undefined"){bC[bA]=bz}}}return bC}function w(i){if(i<0){return Math.ceil(i)}else{return Math.floor(i)}}function U(bB,bA,bz){var by=""+Math.abs(bB),i=bB>=0;while(by.length<bA){by="0"+by}return(i?(bz?"+":""):"-")+by}function k(bz,i){var by={milliseconds:0,months:0};by.months=i.month()-bz.month()+(i.year()-bz.year())*12;if(bz.clone().add(by.months,"M").isAfter(i)){--by.months}by.milliseconds=+i-+(bz.clone().add(by.months,"M"));return by}function ai(bz,i){var by;i=J(i,bz);if(bz.isBefore(i)){by=k(bz,i)}else{by=k(i,bz);by.milliseconds=-by.milliseconds;by.months=-by.months}return by}function ac(by,i){return function(bC,bB){var bA,bz;if(bB!==null&&!isNaN(+bB)){n(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period).");bz=bC;bC=bB;bB=bz}bC=typeof bC==="string"?+bC:bC;bA=ab.duration(bC,bB);Q(this,bA,by);return this}}function Q(bz,bC,bB,bA){var by=bC._milliseconds,bD=bC._days,i=bC._months;bA=bA==null?true:bA;if(by){bz._d.setTime(+bz._d+by*bB)}if(bD){a7(bz,"Date",bw(bz,"Date")+bD*bB)}if(i){br(bz,bw(bz,"Month")+i*bB)}if(bA){ab.updateOffset(bz,bD||i)}}function h(i){return Object.prototype.toString.call(i)==="[object Array]"}function o(i){return Object.prototype.toString.call(i)==="[object Date]"||i instanceof Date}function a8(bD,bC,bz){var by=Math.min(bD.length,bC.length),bA=Math.abs(bD.length-bC.length),bE=0,bB;for(bB=0;bB<by;bB++){if((bz&&bD[bB]!==bC[bB])||(!bz&&W(bD[bB])!==W(bC[bB]))){bE++}}return bE+bA}function be(by){if(by){var i=by.toLowerCase().replace(/(.)s$/,"$1");by=m[by]||bf[i]||i}return by}function v(bz){var by={},i,bA;for(bA in bz){if(bc(bz,bA)){i=be(bA);if(i){by[i]=bz[bA]}}}return by}function aL(by){var i,bz;if(by.indexOf("week")===0){i=7;bz="day"}else{if(by.indexOf("month")===0){i=12;bz="month"}else{return}}ab[by]=function(bE,bB){var bD,bA,bF=ab._locale[by],bC=[];if(typeof bE==="number"){bB=bE;bE=N}bA=function(bH){var bG=ab().utc().set(bz,bH);return bF.call(ab._locale,bG,bE||"")};if(bB!=null){return bA(bB)}else{for(bD=0;bD<i;bD++){bC.push(bA(bD))}return bC}}}function W(i){var bz=+i,by=0;if(bz!==0&&isFinite(bz)){if(bz>=0){by=Math.floor(bz)}else{by=Math.ceil(bz)}}return by}function bn(i,by){return new Date(Date.UTC(i,by+1,0)).getUTCDate()}function aU(i,bz,by){return L(ab([i,11,31+bz-by]),bz,by).week}function bh(i){return a0(i)?366:365}function a0(i){return(i%4===0&&i%100!==0)||i%400===0}function bp(i){var by;if(i._a&&i._pf.overflow===-2){by=i._a[p]<0||i._a[p]>11?p:i._a[ba]<1||i._a[ba]>bn(i._a[H],i._a[p])?ba:i._a[G]<0||i._a[G]>24||(i._a[G]===24&&(i._a[aO]!==0||i._a[E]!==0||i._a[af]!==0))?G:i._a[aO]<0||i._a[aO]>59?aO:i._a[E]<0||i._a[E]>59?E:i._a[af]<0||i._a[af]>999?af:-1;if(i._pf._overflowDayOfYear&&(by<H||by>ba)){by=ba}i._pf.overflow=by}}function aQ(i){if(i._isValid==null){i._isValid=!isNaN(i._d.getTime())&&i._pf.overflow<0&&!i._pf.empty&&!i._pf.invalidMonth&&!i._pf.nullInput&&!i._pf.invalidFormat&&!i._pf.userInvalidated;if(i._strict){i._isValid=i._isValid&&i._pf.charsLeftOver===0&&i._pf.unusedTokens.length===0&&i._pf.bigHour===N}}return i._isValid}function a2(i){return i?i.toLowerCase().replace("_","-"):i}function aI(bD){var bB=0,bz,bC,by,bA;while(bB<bD.length){bA=a2(bD[bB]).split("-");bz=bA.length;bC=a2(bD[bB+1]);bC=bC?bC.split("-"):null;while(bz>0){by=j(bA.slice(0,bz).join("-"));if(by){return by}if(bC&&bC.length>=bz&&a8(bA,bC,true)>=bz-1){break}bz--}bB++}return null}function j(i){var bA=null;if(!aA[i]&&aB){try{bA=ab.locale();!(function by(){var bB=new Error('Cannot find module "./locale"');bB.code="MODULE_NOT_FOUND";throw bB}());ab.locale(bA)}catch(bz){}}return aA[i]}function J(i,by){var bz,bA;if(by._isUTC){bz=by.clone();bA=(ab.isMoment(i)||o(i)?+i:+ab(i))-(+bz);bz._d.setTime(+bz._d+bA);ab.updateOffset(bz,false);return bz}else{return ab(i).local()}}aP(al.prototype,{set:function(by){var bA,bz;for(bz in by){bA=by[bz];if(typeof bA==="function"){this[bz]=bA}else{this["_"+bz]=bA}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),months:function(i){return this._months[i.month()]},_monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:function(i){return this._monthsShort[i.month()]},monthsParse:function(bz,bD,by){var bA,bC,bB;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(bA=0;bA<12;bA++){bC=ab.utc([2000,bA]);if(by&&!this._longMonthsParse[bA]){this._longMonthsParse[bA]=new RegExp("^"+this.months(bC,"").replace(".","")+"$","i");this._shortMonthsParse[bA]=new RegExp("^"+this.monthsShort(bC,"").replace(".","")+"$","i")}if(!by&&!this._monthsParse[bA]){bB="^"+this.months(bC,"")+"|^"+this.monthsShort(bC,"");this._monthsParse[bA]=new RegExp(bB.replace(".",""),"i")}if(by&&bD==="MMMM"&&this._longMonthsParse[bA].test(bz)){return bA}else{if(by&&bD==="MMM"&&this._shortMonthsParse[bA].test(bz)){return bA}else{if(!by&&this._monthsParse[bA].test(bz)){return bA}}}}},_weekdays:"______".split("_"),weekdays:function(i){return this._weekdays[i.day()]},_weekdaysShort:"______".split("_"),weekdaysShort:function(i){return this._weekdaysShort[i.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(i){return this._weekdaysMin[i.day()]},weekdaysParse:function(bB){var by,bA,bz;if(!this._weekdaysParse){this._weekdaysParse=[]}for(by=0;by<7;by++){if(!this._weekdaysParse[by]){bA=ab([2000,1]).day(by);bz="^"+this.weekdays(bA,"")+"|^"+this.weekdaysShort(bA,"")+"|^"+this.weekdaysMin(bA,"");this._weekdaysParse[by]=new RegExp(bz.replace(".",""),"i")}if(this._weekdaysParse[by].test(bB)){return by}}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(by){var i=this._longDateFormat[by];if(!i&&this._longDateFormat[by.toUpperCase()]){i=this._longDateFormat[by.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(bz){return bz.slice(1)});this._longDateFormat[by]=i}return i},isPM:function(i){return((i+"").toLowerCase().charAt(0)==="p")},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(i,by,bz){if(i>11){return bz?"pm":"PM"}else{return bz?"am":"AM"}},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(bz,bA,by){var i=this._calendar[bz];return typeof i==="function"?i.apply(bA,[by]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(bA,bz,by,bB){var i=this._relativeTime[by];return(typeof i==="function")?i(bA,bz,by,bB):i.replace(/%d/i,bA)},pastFuture:function(bz,i){var by=this._relativeTime[bz>0?"future":"past"];return typeof by==="function"?by(i):by.replace(/%s/i,i)},ordinal:function(i){return this._ordinal.replace("%d",i)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(i){return i},postformat:function(i){return i},week:function(i){return L(i,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function ay(i){if(i.match(/\[[\s\S]/)){return i.replace(/^\[|\]$/g,"")}return i.replace(/\\/g,"")}function D(bA){var bB=bA.match(aF),by,bz;for(by=0,bz=bB.length;by<bz;by++){if(bb[bB[by]]){bB[by]=bb[bB[by]]}else{bB[by]=ay(bB[by])}}return function(bC){var i="";for(by=0;by<bz;by++){i+=bB[by] instanceof Function?bB[by].call(bC,bA):bB[by]}return i}}function aE(i,by){if(!i.isValid()){return i.localeData().invalidDate()}by=bt(by,i.localeData());if(!az[by]){az[by]=D(by)}return az[by](i)}function bt(bB,by){var bz=5;function bA(i){return by.longDateFormat(i)||i}aq.lastIndex=0;while(bz>=0&&aq.test(bB)){bB=bB.replace(aq,bA);aq.lastIndex=0;bz-=1}return bB}function aJ(bA,bz){var by,i=bz._strict;switch(bA){case"Q":return ap;case"DDDD":return bk;case"YYYY":case"GGGG":case"gggg":return i?a4:O;case"Y":case"G":case"g":return am;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ax:bs;case"S":if(i){return ap}case"SS":if(i){return B}case"SSS":if(i){return bk}case"DDD":return at;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return T;case"a":case"A":return bz._locale._meridiemParse;case"x":return C;case"X":return a5;case"Z":case"ZZ":return y;case"T":return u;case"SSSS":return bg;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?B:q;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return q;case"Do":return i?bz._locale._ordinalParse:bz._locale._ordinalParseLenient;default:by=new RegExp(bq(aN(bA.replace("\\","")),"i"));return by}}function aW(by){by=by||"";var i=(by.match(y)||[]),bB=i[i.length-1]||[],bA=(bB+"").match(ao)||["-",0,0],bz=+(bA[1]*60)+W(bA[2]);return bA[0]==="+"?bz:-bz}function aM(bB,bz,bA){var by,i=bA._a;switch(bB){case"Q":if(bz!=null){i[p]=(W(bz)-1)*3}break;case"M":case"MM":if(bz!=null){i[p]=W(bz)-1}break;case"MMM":case"MMMM":by=bA._locale.monthsParse(bz,bB,bA._strict);if(by!=null){i[p]=by}else{bA._pf.invalidMonth=bz}break;case"D":case"DD":if(bz!=null){i[ba]=W(bz)}break;case"Do":if(bz!=null){i[ba]=W(parseInt(bz.match(/\d{1,2}/)[0],10))}break;case"DDD":case"DDDD":if(bz!=null){bA._dayOfYear=W(bz)}break;case"YY":i[H]=ab.parseTwoDigitYear(bz);break;case"YYYY":case"YYYYY":case"YYYYYY":i[H]=W(bz);break;case"a":case"A":bA._meridiem=bz;break;case"h":case"hh":bA._pf.bigHour=true;case"H":case"HH":i[G]=W(bz);break;case"m":case"mm":i[aO]=W(bz);break;case"s":case"ss":i[E]=W(bz);break;case"S":case"SS":case"SSS":case"SSSS":i[af]=W(("0."+bz)*1000);break;case"x":bA._d=new Date(W(bz));break;case"X":bA._d=new Date(parseFloat(bz)*1000);break;case"Z":case"ZZ":bA._useUTC=true;bA._tzm=aW(bz);break;case"dd":case"ddd":case"dddd":by=bA._locale.weekdaysParse(bz);if(by!=null){bA._w=bA._w||{};bA._w.d=by}else{bA._pf.invalidWeekday=bz}break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":bB=bB.substr(0,1);case"gggg":case"GGGG":case"GGGGG":bB=bB.substr(0,2);if(bz){bA._w=bA._w||{};bA._w[bB]=W(bz)}break;case"gg":case"GG":bA._w=bA._w||{};bA._w[bB]=ab.parseTwoDigitYear(bz)}}function ad(bz){var i,bB,bA,bC,bE,bD,by;i=bz._w;if(i.GG!=null||i.W!=null||i.E!=null){bE=1;bD=4;bB=a6(i.GG,bz._a[H],L(ab(),1,4).year);bA=a6(i.W,1);bC=a6(i.E,1)}else{bE=bz._locale._week.dow;bD=bz._locale._week.doy;bB=a6(i.gg,bz._a[H],L(ab(),bE,bD).year);bA=a6(i.w,1);if(i.d!=null){bC=i.d;if(bC<bE){++bA}}else{if(i.e!=null){bC=i.e+bE}else{bC=bE}}}by=F(bB,bA,bC,bD,bE);bz._a[H]=by.year;bz._dayOfYear=by.dayOfYear}function aw(bC){var bD,bB,bA=[],bz,by;if(bC._d){return}bz=x(bC);if(bC._w&&bC._a[ba]==null&&bC._a[p]==null){ad(bC)}if(bC._dayOfYear){by=a6(bC._a[H],bz[H]);if(bC._dayOfYear>bh(by)){bC._pf._overflowDayOfYear=true}bB=S(by,0,bC._dayOfYear);bC._a[p]=bB.getUTCMonth();bC._a[ba]=bB.getUTCDate()}for(bD=0;bD<3&&bC._a[bD]==null;++bD){bC._a[bD]=bA[bD]=bz[bD]}for(;bD<7;bD++){bC._a[bD]=bA[bD]=(bC._a[bD]==null)?(bD===2?1:0):bC._a[bD]}if(bC._a[G]===24&&bC._a[aO]===0&&bC._a[E]===0&&bC._a[af]===0){bC._nextDay=true;bC._a[G]=0}bC._d=(bC._useUTC?S:aG).apply(null,bA);if(bC._tzm!=null){bC._d.setUTCMinutes(bC._d.getUTCMinutes()-bC._tzm)}if(bC._nextDay){bC._a[G]=24}}function aS(by){var i;if(by._d){return}i=v(by._i);by._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond];aw(by)}function x(by){var i=new Date();if(by._useUTC){return[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]}else{return[i.getFullYear(),i.getMonth(),i.getDate()]}}function aa(bA){if(bA._f===ab.ISO_8601){aH(bA);return}bA._a=[];bA._pf.empty=true;var bD=""+bA._i,bC,bz,bG,bB,bF,by=bD.length,bE=0;bG=bt(bA._f,bA._locale).match(aF)||[];for(bC=0;bC<bG.length;bC++){bB=bG[bC];bz=(bD.match(aJ(bB,bA))||[])[0];if(bz){bF=bD.substr(0,bD.indexOf(bz));if(bF.length>0){bA._pf.unusedInput.push(bF)}bD=bD.slice(bD.indexOf(bz)+bz.length);bE+=bz.length}if(bb[bB]){if(bz){bA._pf.empty=false}else{bA._pf.unusedTokens.push(bB)}aM(bB,bz,bA)}else{if(bA._strict&&!bz){bA._pf.unusedTokens.push(bB)}}}bA._pf.charsLeftOver=by-bE;if(bD.length>0){bA._pf.unusedInput.push(bD)}if(bA._pf.bigHour===true&&bA._a[G]<=12){bA._pf.bigHour=N}bA._a[G]=bl(bA._locale,bA._a[G],bA._meridiem);aw(bA);bp(bA)}function aN(i){return i.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(by,bC,bB,bA,bz){return bC||bB||bA||bz})}function bq(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bd(by){var bC,bA,bB,bz,bD;if(by._f.length===0){by._pf.invalidFormat=true;by._d=new Date(NaN);return}for(bz=0;bz<by._f.length;bz++){bD=0;bC=aZ({},by);if(by._useUTC!=null){bC._useUTC=by._useUTC}bC._pf=av();bC._f=by._f[bz];aa(bC);if(!aQ(bC)){continue}bD+=bC._pf.charsLeftOver;bD+=bC._pf.unusedTokens.length*10;bC._pf.score=bD;if(bB==null||bD<bB){bB=bD;bA=bC}}aP(by,bA||bC)}function aH(bB){var bC,by,bA=bB._i,bz=a1.exec(bA);if(bz){bB._pf.iso=true;for(bC=0,by=bj.length;bC<by;bC++){if(bj[bC][1].exec(bA)){bB._f=bj[bC][0]+(bz[6]||" ");break}}for(bC=0,by=R.length;bC<by;bC++){if(R[bC][1].exec(bA)){bB._f+=R[bC][0];break}}if(bA.match(y)){bB._f+="Z"}aa(bB)}else{bB._isValid=false}}function t(i){aH(i);if(i._isValid===false){delete i._isValid;ab.createFromInputFallback(i)}}function P(by,bB){var bA=[],bz;for(bz=0;bz<by.length;++bz){bA.push(bB(by[bz],bz))}return bA}function Z(bz){var by=bz._i,i;if(by===N){bz._d=new Date()}else{if(o(by)){bz._d=new Date(+by)}else{if((i=l.exec(by))!==null){bz._d=new Date(+i[1])}else{if(typeof by==="string"){t(bz)}else{if(h(by)){bz._a=P(by.slice(0),function(bA){return parseInt(bA,10)});aw(bz)}else{if(typeof(by)==="object"){aS(bz)}else{if(typeof(by)==="number"){bz._d=new Date(by)}else{ab.createFromInputFallback(bz)}}}}}}}}function aG(bE,i,bC,bB,bD,bA,bz){var by=new Date(bE,i,bC,bB,bD,bA,bz);if(bE<1970){by.setFullYear(bE)}return by}function S(by){var i=new Date(Date.UTC.apply(null,arguments));if(by<1970){i.setUTCFullYear(by)}return i}function bo(by,i){if(typeof by==="string"){if(!isNaN(by)){by=parseInt(by,10)}else{by=i.weekdaysParse(by);if(typeof by!=="number"){return null}}}return by}function aY(by,bA,bz,bB,i){return i.relativeTime(bA||1,!!bz,by,bB)}function K(bB,by,bF){var bz=ab.duration(bB).abs(),bG=aj(bz.as("s")),bA=aj(bz.as("m")),bE=aj(bz.as("h")),bH=aj(bz.as("d")),i=aj(bz.as("M")),bC=aj(bz.as("y")),bD=bG<I.s&&["s",bG]||bA===1&&["m"]||bA<I.m&&["mm",bA]||bE===1&&["h"]||bE<I.h&&["hh",bE]||bH===1&&["d"]||bH<I.d&&["dd",bH]||i===1&&["M"]||i<I.M&&["MM",i]||bC===1&&["y"]||["yy",bC];bD[2]=by;bD[3]=+bB>0;bD[4]=bF;return aY.apply({},bD)}function L(bB,bz,bC){var by=bC-bz,i=bC-bB.day(),bA;if(i>by){i-=7}if(i<by-7){i+=7}bA=ab(bB).add(i,"d");return{week:Math.ceil(bA.dayOfYear()/7),year:bA.year()}}function F(bB,bA,bC,bE,i){var bD=S(bB,0,1).getUTCDay(),bz,by;bD=bD===0?7:bD;bC=bC!=null?bC:i;bz=i-bD+(bD>bE?7:0)-(bD<i?7:0);by=7*(bA-1)+(bC-i)+bz+1;return{year:by>0?bB:bB-1,dayOfYear:by>0?by:bh(bB-1)+by}}function X(by){var i=by._i,bA=by._f,bz;by._locale=by._locale||ab.localeData(by._l);if(i===null||(bA===N&&i==="")){return ab.invalid({nullInput:true})}if(typeof i==="string"){by._i=i=by._locale.preparse(i)}if(ab.isMoment(i)){return new V(i,true)}else{if(bA){if(h(bA)){bd(by)}else{aa(by)}}else{Z(by)}}bz=new V(by);if(bz._nextDay){bz.add(1,"d");bz._nextDay=N}return bz}ab=function(bz,bA,i,by){var bB;if(typeof(i)==="boolean"){by=i;i=N}bB={};bB._isAMomentObject=true;bB._i=bz;bB._f=bA;bB._l=i;bB._strict=by;bB._isUTC=false;bB._pf=av();return X(bB)};ab.suppressDeprecationWarnings=false;ab.createFromInputFallback=bv("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function aK(bA,bB){var bz,by;if(bB.length===1&&h(bB[0])){bB=bB[0]}if(!bB.length){return ab()}bz=bB[0];for(by=1;by<bB.length;++by){if(bB[by][bA](bz)){bz=bB[by]}}return bz}ab.min=function(){var i=[].slice.call(arguments,0);return aK("isBefore",i)};ab.max=function(){var i=[].slice.call(arguments,0);return aK("isAfter",i)};ab.utc=function(bz,bA,i,by){var bB;if(typeof(i)==="boolean"){by=i;i=N}bB={};bB._isAMomentObject=true;bB._useUTC=true;bB._isUTC=true;bB._l=i;bB._i=bz;bB._f=bA;bB._strict=by;bB._pf=av();return X(bB).utc()};ab.unix=function(i){return ab(i*1000)};ab.duration=function(bz,bD){var bE=bz,bC=null,by,bB,bA,i;if(ab.isDuration(bz)){bE={ms:bz._milliseconds,d:bz._days,M:bz._months}}else{if(typeof bz==="number"){bE={};if(bD){bE[bD]=bz}else{bE.milliseconds=bz}}else{if(!!(bC=bm.exec(bz))){by=(bC[1]==="-")?-1:1;bE={y:0,d:W(bC[ba])*by,h:W(bC[G])*by,m:W(bC[aO])*by,s:W(bC[E])*by,ms:W(bC[af])*by}}else{if(!!(bC=aT.exec(bz))){by=(bC[1]==="-")?-1:1;bA=function(bG){var bF=bG&&parseFloat(bG.replace(",","."));return(isNaN(bF)?0:bF)*by};bE={y:bA(bC[2]),M:bA(bC[3]),d:bA(bC[4]),h:bA(bC[5]),m:bA(bC[6]),s:bA(bC[7]),w:bA(bC[8])}}else{if(bE==null){bE={}}else{if(typeof bE==="object"&&("from" in bE||"to" in bE)){i=ai(ab(bE.from),ab(bE.to));bE={};bE.ms=i.milliseconds;bE.M=i.months}}}}}}bB=new au(bE);if(ab.isDuration(bz)&&bc(bz,"_locale")){bB._locale=bz._locale}return bB};ab.version=aR;ab.defaultFormat=ag;ab.ISO_8601=function(){};ab.momentProperties=a3;ab.updateOffset=function(){};ab.relativeTimeThreshold=function(i,by){if(I[i]===N){return false}if(by===N){return I[i]}I[i]=by;return true};ab.lang=bv("moment.lang is deprecated. Use moment.locale instead.",function(i,by){return ab.locale(i,by)});ab.locale=function(by,i){var bz;if(by){if(typeof(i)!=="undefined"){bz=ab.defineLocale(by,i)}else{bz=ab.localeData(by)}if(bz){ab.duration._locale=ab._locale=bz}}return ab._locale._abbr};ab.defineLocale=function(by,i){if(i!==null){i.abbr=by;if(!aA[by]){aA[by]=new al()}aA[by].set(i);ab.locale(by);return aA[by]}else{delete aA[by];return null}};ab.langData=bv("moment.langData is deprecated. Use moment.localeData instead.",function(i){return ab.localeData(i)});ab.localeData=function(by){var i;if(by&&by._locale&&by._locale._abbr){by=by._locale._abbr}if(!by){return ab._locale}if(!h(by)){i=j(by);if(i){return i}by=[by]}return aI(by)};ab.isMoment=function(i){return i instanceof V||(i!=null&&bc(i,"_isAMomentObject"))};ab.isDuration=function(i){return i instanceof au};for(ar=ah.length-1;ar>=0;--ar){aL(ah[ar])}ab.normalizeUnits=function(i){return be(i)};ab.invalid=function(by){var i=ab.utc(NaN);if(by!=null){aP(i._pf,by)}else{i._pf.userInvalidated=true}return i};ab.parseZone=function(){return ab.apply(null,arguments).parseZone()};ab.parseTwoDigitYear=function(i){return W(i)+(W(i)>68?1900:2000)};ab.isDate=o;aP(ab.fn=V.prototype,{clone:function(){return ab(this)},valueOf:function(){return +this._d-((this._offset||0)*60000)},unix:function(){return Math.floor(+this/1000)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var i=ab(this).utc();if(0<i.year()&&i.year()<=9999){if("function"===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return aE(i,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return aE(i,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}},toArray:function(){var i=this;return[i.year(),i.month(),i.date(),i.hours(),i.minutes(),i.seconds(),i.milliseconds()]},isValid:function(){return aQ(this)},isDSTShifted:function(){if(this._a){return this.isValid()&&a8(this._a,(this._isUTC?ab.utc(this._a):ab(this._a)).toArray())>0}return false},parsingFlags:function(){return aP({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(i){return this.utcOffset(0,i)},local:function(i){if(this._isUTC){this.utcOffset(0,i);this._isUTC=false;if(i){this.subtract(this._dateUtcOffset(),"m")}}return this},format:function(by){var i=aE(this,by||ab.defaultFormat);return this.localeData().postformat(i)},add:ac(1,"add"),subtract:ac(-1,"subtract"),diff:function(bD,bC,bF){var bB=J(bD,this),bz=(bB.utcOffset()-this.utcOffset())*60000,by,bE,i,bA;bC=be(bC);if(bC==="year"||bC==="month"||bC==="quarter"){i=s(this,bB);if(bC==="quarter"){i=i/3}else{if(bC==="year"){i=i/12}}}else{bE=this-bB;i=bC==="second"?bE/1000:bC==="minute"?bE/60000:bC==="hour"?bE/3600000:bC==="day"?(bE-bz)/86400000:bC==="week"?(bE-bz)/604800000:bE}return bF?i:w(i)},from:function(by,i){return ab.duration({to:this,from:by}).locale(this.locale()).humanize(!i)},fromNow:function(i){return this.from(ab(),i)},calendar:function(bB){var by=bB||ab(),i=J(by,this).startOf("day"),bA=this.diff(i,"days",true),bz=bA<-6?"sameElse":bA<-1?"lastWeek":bA<0?"lastDay":bA<1?"sameDay":bA<2?"nextDay":bA<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(bz,this,ab(by)))},isLeapYear:function(){return a0(this.year())},isDST:function(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())},day:function(by){var i=this._isUTC?this._d.getUTCDay():this._d.getDay();if(by!=null){by=bo(by,this.localeData());return this.add(by-i,"d")}else{return i}},month:A("Month",true),startOf:function(i){i=be(i);switch(i){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(i==="week"){this.weekday(0)}else{if(i==="isoWeek"){this.isoWeekday(1)}}if(i==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this},endOf:function(i){i=be(i);if(i===N||i==="millisecond"){return this}return this.startOf(i).add(1,(i==="isoWeek"?"week":i)).subtract(1,"ms")},isAfter:function(by,i){var bz;i=be(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){by=ab.isMoment(by)?by:ab(by);return +this>+by}else{bz=ab.isMoment(by)?+by:+ab(by);return bz<+this.clone().startOf(i)}},isBefore:function(by,i){var bz;i=be(typeof i!=="undefined"?i:"millisecond");if(i==="millisecond"){by=ab.isMoment(by)?by:ab(by);return +this<+by}else{bz=ab.isMoment(by)?+by:+ab(by);return +this.clone().endOf(i)<bz}},isBetween:function(bz,by,i){return this.isAfter(bz,i)&&this.isBefore(by,i)},isSame:function(by,i){var bz;i=be(i||"millisecond");if(i==="millisecond"){by=ab.isMoment(by)?by:ab(by);return +this===+by}else{bz=+ab(by);return +(this.clone().startOf(i))<=bz&&bz<=+(this.clone().endOf(i))}},min:bv("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(i){i=ab.apply(null,arguments);return i<this?this:i}),max:bv("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(i){i=ab.apply(null,arguments);return i>this?this:i}),zone:bv("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(i,by){if(i!=null){if(typeof i!=="string"){i=-i}this.utcOffset(i,by);return this}else{return -this.utcOffset()}}),utcOffset:function(i,bA){var bz=this._offset||0,by;if(i!=null){if(typeof i==="string"){i=aW(i)}if(Math.abs(i)<16){i=i*60}if(!this._isUTC&&bA){by=this._dateUtcOffset()}this._offset=i;this._isUTC=true;if(by!=null){this.add(by,"m")}if(bz!==i){if(!bA||this._changeInProgress){Q(this,ab.duration(i-bz,"m"),1,false)}else{if(!this._changeInProgress){this._changeInProgress=true;ab.updateOffset(this,true);this._changeInProgress=null}}}return this}else{return this._isUTC?bz:this._dateUtcOffset()}},isLocal:function(){return !this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm){this.utcOffset(this._tzm)}else{if(typeof this._i==="string"){this.utcOffset(aW(this._i))}}return this},hasAlignedHourOffset:function(i){if(!i){i=0}else{i=ab(i).utcOffset()}return(this.utcOffset()-i)%60===0},daysInMonth:function(){return bn(this.year(),this.month())},dayOfYear:function(i){var by=aj((ab(this).startOf("day")-ab(this).startOf("year"))/86400000)+1;return i==null?by:this.add((i-by),"d")},quarter:function(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)},weekYear:function(i){var by=L(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return i==null?by:this.add((i-by),"y")},isoWeekYear:function(i){var by=L(this,1,4).year;return i==null?by:this.add((i-by),"y")},week:function(i){var by=this.localeData().week(this);return i==null?by:this.add((i-by)*7,"d")},isoWeek:function(i){var by=L(this,1,4).week;return i==null?by:this.add((i-by)*7,"d")},weekday:function(i){var by=(this.day()+7-this.localeData()._week.dow)%7;return i==null?by:this.add(i-by,"d")},isoWeekday:function(i){return i==null?this.day()||7:this.day(this.day()%7?i:i-7)},isoWeeksInYear:function(){return aU(this.year(),1,4)},weeksInYear:function(){var i=this.localeData()._week;return aU(this.year(),i.dow,i.doy)},get:function(i){i=be(i);return this[i]()},set:function(i,bz){var by;if(typeof i==="object"){for(by in i){this.set(by,i[by])}}else{i=be(i);if(typeof this[i]==="function"){this[i](bz)}}return this},locale:function(by){var i;if(by===N){return this._locale._abbr}else{i=ab.localeData(by);if(i!=null){this._locale=i}return this}},lang:bv("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){if(i===N){return this.localeData()}else{return this.locale(i)}}),localeData:function(){return this._locale},_dateUtcOffset:function(){return -Math.round(this._d.getTimezoneOffset()/15)*15}});function br(i,by){var bz;if(typeof by==="string"){by=i.localeData().monthsParse(by);if(typeof by!=="number"){return i}}bz=Math.min(i.date(),bn(i.year(),by));i._d["set"+(i._isUTC?"UTC":"")+"Month"](by,bz);return i}function bw(by,i){return by._d["get"+(by._isUTC?"UTC":"")+i]()}function a7(by,i,bz){if(i==="Month"){return br(by,bz)}else{return by._d["set"+(by._isUTC?"UTC":"")+i](bz)}}function A(i,by){return function(bz){if(bz!=null){a7(this,i,bz);ab.updateOffset(this,by);return this}else{return bw(this,i)}}}ab.fn.millisecond=ab.fn.milliseconds=A("Milliseconds",false);ab.fn.second=ab.fn.seconds=A("Seconds",false);ab.fn.minute=ab.fn.minutes=A("Minutes",false);ab.fn.hour=ab.fn.hours=A("Hours",true);ab.fn.date=A("Date",true);ab.fn.dates=bv("dates accessor is deprecated. Use date instead.",A("Date",true));ab.fn.year=A("FullYear",true);ab.fn.years=bv("years accessor is deprecated. Use year instead.",A("FullYear",true));ab.fn.days=ab.fn.day;ab.fn.months=ab.fn.month;ab.fn.weeks=ab.fn.week;ab.fn.isoWeeks=ab.fn.isoWeek;ab.fn.quarters=ab.fn.quarter;ab.fn.toJSON=ab.fn.toISOString;ab.fn.isUTC=ab.fn.isUtc;function z(i){return i*400/146097}function bu(i){return i*146097/400}aP(ab.duration.fn=au.prototype,{_bubble:function(){var bz=this._milliseconds,bE=this._days,i=this._months,bC=this._data,bD,bB,by,bA=0;bC.milliseconds=bz%1000;bD=w(bz/1000);bC.seconds=bD%60;bB=w(bD/60);bC.minutes=bB%60;by=w(bB/60);bC.hours=by%24;bE+=w(by/24);bA=w(z(bE));bE-=w(bu(bA));i+=w(bE/30);bE%=30;bA+=w(i/12);i%=12;bC.days=bE;bC.months=i;bC.years=bA},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return w(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+(this._months%12)*2592000000+W(this._months/12)*31536000000},humanize:function(by){var i=K(this,!by,this.localeData());if(by){i=this.localeData().pastFuture(+this,i)}return this.localeData().postformat(i)},add:function(i,bz){var by=ab.duration(i,bz);this._milliseconds+=by._milliseconds;this._days+=by._days;this._months+=by._months;this._bubble();return this},subtract:function(i,bz){var by=ab.duration(i,bz);this._milliseconds-=by._milliseconds;this._days-=by._days;this._months-=by._months;this._bubble();return this},get:function(i){i=be(i);return this[i.toLowerCase()+"s"]()},as:function(by){var bz,i;by=be(by);if(by==="month"||by==="year"){bz=this._days+this._milliseconds/86400000;i=this._months+z(bz)*12;return by==="month"?i:i/12}else{bz=this._days+Math.round(bu(this._months/12));switch(by){case"week":return bz/7+this._milliseconds/604800000;case"day":return bz+this._milliseconds/86400000;case"hour":return bz*24+this._milliseconds/3600000;case"minute":return bz*24*60+this._milliseconds/60000;case"second":return bz*24*60*60+this._milliseconds/1000;case"millisecond":return Math.floor(bz*24*60*60*1000)+this._milliseconds;default:throw new Error("Unknown unit "+by)}}},lang:ab.fn.lang,locale:ab.fn.locale,toIsoString:bv("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var bA=Math.abs(this.years()),i=Math.abs(this.months()),bC=Math.abs(this.days()),by=Math.abs(this.hours()),bz=Math.abs(this.minutes()),bB=Math.abs(this.seconds()+this.milliseconds()/1000);if(!this.asSeconds()){return"P0D"}return(this.asSeconds()<0?"-":"")+"P"+(bA?bA+"Y":"")+(i?i+"M":"")+(bC?bC+"D":"")+((by||bz||bB)?"T":"")+(by?by+"H":"")+(bz?bz+"M":"")+(bB?bB+"S":"")},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});ab.duration.fn.toString=ab.duration.fn.toISOString;function ak(i){ab.duration.fn[i]=function(){return this._data[i]}}for(ar in M){if(bc(M,ar)){ak(ar.toLowerCase())}}ab.duration.fn.asMilliseconds=function(){return this.as("ms")};ab.duration.fn.asSeconds=function(){return this.as("s")};ab.duration.fn.asMinutes=function(){return this.as("m")};ab.duration.fn.asHours=function(){return this.as("h")};ab.duration.fn.asDays=function(){return this.as("d")};ab.duration.fn.asWeeks=function(){return this.as("weeks")};ab.duration.fn.asMonths=function(){return this.as("M")};ab.duration.fn.asYears=function(){return this.as("y")};ab.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(bz){var i=bz%10,by=(W(bz%100/10)===1)?"th":(i===1)?"st":(i===2)?"nd":(i===3)?"rd":"th";return bz+by}});function ae(i){if(typeof ender!=="undefined"){return}aC=bi.moment;if(i){bi.moment=bv("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ab)}else{bi.moment=ab}}if(aB){e.exports=ab}else{if(true){!(d=function(by,i,bz){if(bz.config&&bz.config()&&bz.config().noGlobal===true){bi.moment=aC}return ab}.call(a,c,a,e),d!==N&&(e.exports=d));ae(true)}else{ae()}}}).call(this)}.call(a,(function(){return this}()),c(71)(b)))},function(b,a,c){var d;
/* Hammer.JS - v1.1.3 - 2014-05-20
   * http://eightmedia.github.io/hammer.js
   *
   * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;
   * Licensed under the MIT license */
(function(X,p){var K=function K(ap,ao){return new K.Instance(ap,ao||{})};K.VERSION="1.1.3";K.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};K.DOCUMENT=document;K.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;K.HAS_TOUCHEVENTS=("ontouchstart" in X);K.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);K.NO_MOUSEEVENTS=(K.HAS_TOUCHEVENTS&&K.IS_MOBILE)||K.HAS_POINTEREVENTS;K.CALCULATE_INTERVAL=25;var O={};var G=K.DIRECTION_DOWN="down";var C=K.DIRECTION_LEFT="left";var ag=K.DIRECTION_UP="up";var M=K.DIRECTION_RIGHT="right";var ae=K.POINTER_MOUSE="mouse";var g=K.POINTER_TOUCH="touch";var w=K.POINTER_PEN="pen";var v=K.EVENT_START="start";var J=K.EVENT_MOVE="move";var A=K.EVENT_END="end";var o=K.EVENT_RELEASE="release";var R=K.EVENT_TOUCH="touch";K.READY=false;K.plugins=K.plugins||{};K.gestures=K.gestures||{};function j(){if(K.READY){return}T.determineEventTypes();U.each(K.gestures,function(ao){r.register(ao)});T.onTouch(K.DOCUMENT,J,r.detect);T.onTouch(K.DOCUMENT,A,r.detect);K.READY=true}var U=K.utils={extend:function n(ao,aq,ar){for(var ap in aq){if(!aq.hasOwnProperty(ap)||(ao[ap]!==p&&ar)){continue}ao[ap]=aq[ap]}return ao},on:function N(ao,aq,ap){ao.addEventListener(aq,ap,false)},off:function Y(ao,aq,ap){ao.removeEventListener(aq,ap,false)},each:function ac(at,ar,aq){var ap,ao;if("forEach" in at){at.forEach(ar,aq)}else{if(at.length!==p){for(ap=0,ao=at.length;ap<ao;ap++){if(ar.call(aq,at[ap],ap,at)===false){return}}}else{for(ap in at){if(at.hasOwnProperty(ap)&&ar.call(aq,at[ap],ap,at)===false){return}}}}},inStr:function W(ap,ao){return ap.indexOf(ao)>-1},inArray:function ai(at,ar){if(at.indexOf){var ap=at.indexOf(ar);return(ap===-1)?false:ap}else{for(var aq=0,ao=at.length;aq<ao;aq++){if(at[aq]===ar){return aq}}return false}},toArray:function D(ao){return Array.prototype.slice.call(ao,0)},hasParent:function ah(ap,ao){while(ap){if(ap==ao){return true}ap=ap.parentNode}return false},getCenter:function L(av){var at=[],aq=[],au=[],ar=[],ap=Math.min,ao=Math.max;if(av.length===1){return{pageX:av[0].pageX,pageY:av[0].pageY,clientX:av[0].clientX,clientY:av[0].clientY}}U.each(av,function(aw){at.push(aw.pageX);aq.push(aw.pageY);au.push(aw.clientX);ar.push(aw.clientY)});return{pageX:(ap.apply(Math,at)+ao.apply(Math,at))/2,pageY:(ap.apply(Math,aq)+ao.apply(Math,aq))/2,clientX:(ap.apply(Math,au)+ao.apply(Math,au))/2,clientY:(ap.apply(Math,ar)+ao.apply(Math,ar))/2}},getVelocity:function e(aq,ap,ao){return{x:Math.abs(ap/aq)||0,y:Math.abs(ao/aq)||0}},getAngle:function t(aq,ap){var ao=ap.clientX-aq.clientX,ar=ap.clientY-aq.clientY;return Math.atan2(ar,ao)*180/Math.PI},getDirection:function q(aq,ap){var ao=Math.abs(aq.clientX-ap.clientX),ar=Math.abs(aq.clientY-ap.clientY);if(ao>=ar){return aq.clientX-ap.clientX>0?C:M}return aq.clientY-ap.clientY>0?ag:G},getDistance:function s(aq,ap){var ao=ap.clientX-aq.clientX,ar=ap.clientY-aq.clientY;return Math.sqrt((ao*ao)+(ar*ar))},getScale:function I(ap,ao){if(ap.length>=2&&ao.length>=2){return this.getDistance(ao[0],ao[1])/this.getDistance(ap[0],ap[1])}return 1},getRotation:function E(ap,ao){if(ap.length>=2&&ao.length>=2){return this.getAngle(ao[1],ao[0])-this.getAngle(ap[1],ap[0])}return 0},isVertical:function S(ao){return ao==ag||ao==G},setPrefixedCss:function aj(aq,av,at,ao){var ar=["","Webkit","Moz","O","ms"];av=U.toCamelCase(av);for(var ap=0;ap<ar.length;ap++){var au=av;if(ar[ap]){au=ar[ap]+au.slice(0,1).toUpperCase()+au.slice(1)}if(au in aq.style){aq.style[au]=(ao==null||ao)&&at||"";break}}},toggleBehavior:function V(aq,ar,ap){if(!ar||!aq||!aq.style){return}U.each(ar,function(at,au){U.setPrefixedCss(aq,au,at,ap)});var ao=ap&&function(){return false};if(ar.userSelect=="none"){aq.onselectstart=ao}if(ar.userDrag=="none"){aq.ondragstart=ao}},toCamelCase:function y(ao){return ao.replace(/[_-]([a-z])/g,function(ap){return ap[1].toUpperCase()})}};var T=K.event={preventMouseEvents:false,started:false,shouldDetect:false,on:function N(ap,ar,aq,at){var ao=ar.split(" ");U.each(ao,function(au){U.on(ap,au,aq);at&&at(au)})},off:function Y(ap,ar,aq,at){var ao=ar.split(" ");U.each(ao,function(au){U.off(ap,au,aq);at&&at(au)})},onTouch:function Q(aq,ap,ar){var ao=this;var at=function at(ax){var ay=ax.type.toLowerCase(),au=K.HAS_POINTEREVENTS,aw=U.inStr(ay,"mouse"),av;if(aw&&ao.preventMouseEvents){return}else{if(aw&&ap==v&&ax.button===0){ao.preventMouseEvents=false;ao.shouldDetect=true}else{if(au&&ap==v){ao.shouldDetect=(ax.buttons===1||h.matchType(g,ax))}else{if(!aw&&ap==v){ao.preventMouseEvents=true;ao.shouldDetect=true}}}}if(au&&ap!=A){h.updatePointer(ap,ax)}if(ao.shouldDetect){av=ao.doDetect.call(ao,ax,ap,aq,ar)}if(av==A){ao.preventMouseEvents=false;ao.shouldDetect=false;h.reset()}if(au&&ap==A){h.updatePointer(ap,ax)}};this.on(aq,O[ap],at);return at},doDetect:function al(av,ap,at,ax){var ao=this.getTouchList(av,ap);var ay=ao.length;var aq=ap;var ar=ao.trigger;var aw=ay;if(ap==v){ar=R}else{if(ap==A){ar=o;aw=ao.length-((av.changedTouches)?av.changedTouches.length:1)}}if(aw>0&&this.started){aq=J}this.started=true;var au=this.collectEventData(at,aq,ao,av);if(ap!=A){ax.call(r,au)}if(ar){au.changedLength=aw;au.eventType=ar;ax.call(r,au);au.eventType=aq;delete au.changedLength}if(aq==A){ax.call(r,au);this.started=false}return aq},determineEventTypes:function ad(){var ao;if(K.HAS_POINTEREVENTS){if(X.PointerEvent){ao=["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]}else{ao=["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]}}else{if(K.NO_MOUSEEVENTS){ao=["touchstart","touchmove","touchend touchcancel"]}else{ao=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"]}}O[v]=ao[0];O[J]=ao[1];O[A]=ao[2];return O},getTouchList:function z(ar,aq){if(K.HAS_POINTEREVENTS){return h.getTouchList()}if(ar.touches){if(aq==J){return ar.touches}var ao=[];var at=[].concat(U.toArray(ar.touches),U.toArray(ar.changedTouches));var ap=[];U.each(at,function(au){if(U.inArray(ao,au.identifier)===false){ap.push(au)}ao.push(au.identifier)});return ap}ar.identifier=1;return[ar]},collectEventData:function am(aq,ap,at,ar){var ao=g;if(U.inStr(ar.type,"mouse")||h.matchType(ae,ar)){ao=ae}else{if(h.matchType(w,ar)){ao=w}}return{center:U.getCenter(at),timeStamp:Date.now(),target:ar.target,touches:at,eventType:ap,pointerType:ao,srcEvent:ar,preventDefault:function(){var au=this.srcEvent;au.preventManipulation&&au.preventManipulation();au.preventDefault&&au.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return r.stopDetect()}}}};var h=K.PointerEvent={pointers:{},getTouchList:function z(){var ao=[];U.each(this.pointers,function(ap){ao.push(ap)});return ao},updatePointer:function ab(ao,ap){if(ao==A||(ao!=A&&ap.buttons!==1)){delete this.pointers[ap.pointerId]}else{ap.identifier=ap.pointerId;this.pointers[ap.pointerId]=ap}},matchType:function aa(ao,aq){if(!aq.pointerType){return false}var ar=aq.pointerType,ap={};ap[ae]=(ar===(aq.MSPOINTER_TYPE_MOUSE||ae));ap[g]=(ar===(aq.MSPOINTER_TYPE_TOUCH||g));ap[w]=(ar===(aq.MSPOINTER_TYPE_PEN||w));return ap[ao]},reset:function B(){this.pointers={}}};var r=K.detection={gestures:[],current:null,previous:null,stopped:false,startDetect:function P(ap,ao){if(this.current){return}this.stopped=false;this.current={inst:ap,startEvent:U.extend({},ao),lastEvent:false,lastCalcEvent:false,futureCalcEvent:false,lastCalcData:{},name:""};this.detect(ao)},detect:function x(ap){if(!this.current||this.stopped){return}ap=this.extendEventData(ap);var aq=this.current.inst,ar=aq.options;U.each(this.gestures,function ao(at){if(!this.stopped&&aq.enabled&&ar[at.name]){at.handler.call(at,ap,aq)}},this);if(this.current){this.current.lastEvent=ap}if(ap.eventType==A){this.stopDetect()}return ap},stopDetect:function f(){this.previous=U.extend({},this.current);this.current=null;this.stopped=true},getCalculatedData:function m(aw,ap,av,at,ar){var ax=this.current,au=false,aq=ax.lastCalcEvent,ao=ax.lastCalcData;if(aq&&aw.timeStamp-aq.timeStamp>K.CALCULATE_INTERVAL){ap=aq.center;av=aw.timeStamp-aq.timeStamp;at=aw.center.clientX-aq.center.clientX;ar=aw.center.clientY-aq.center.clientY;au=true}if(aw.eventType==R||aw.eventType==o){ax.futureCalcEvent=aw}if(!ax.lastCalcEvent||au){ao.velocity=U.getVelocity(av,at,ar);ao.angle=U.getAngle(ap,aw.center);ao.direction=U.getDirection(ap,aw.center);ax.lastCalcEvent=ax.futureCalcEvent||aw;ax.futureCalcEvent=aw}aw.velocityX=ao.velocity.x;aw.velocityY=ao.velocity.y;aw.interimAngle=ao.angle;aw.interimDirection=ao.direction},extendEventData:function H(at){var av=this.current,au=av.startEvent,ar=av.lastEvent||au;if(at.eventType==R||at.eventType==o){au.touches=[];U.each(at.touches,function(aw){au.touches.push({clientX:aw.clientX,clientY:aw.clientY})})}var aq=at.timeStamp-au.timeStamp,ap=at.center.clientX-au.center.clientX,ao=at.center.clientY-au.center.clientY;this.getCalculatedData(at,ar.center,aq,ap,ao);U.extend(at,{startEvent:au,deltaTime:aq,deltaX:ap,deltaY:ao,distance:U.getDistance(au.center,at.center),angle:U.getAngle(au.center,at.center),direction:U.getDirection(au.center,at.center),scale:U.getScale(au.touches,at.touches),rotation:U.getRotation(au.touches,at.touches)});return at},register:function k(ap){var ao=ap.defaults||{};if(ao[ap.name]===p){ao[ap.name]=true}U.extend(K.defaults,ao,true);ap.index=ap.index||1000;this.gestures.push(ap);this.gestures.sort(function(ar,aq){if(ar.index<aq.index){return -1}if(ar.index>aq.index){return 1}return 0});return this.gestures}};K.Instance=function(aq,ap){var ao=this;j();this.element=aq;this.enabled=true;U.each(ap,function(at,ar){delete ap[ar];ap[U.toCamelCase(ar)]=at});this.options=U.extend(U.extend({},K.defaults),ap||{});if(this.options.behavior){U.toggleBehavior(this.element,this.options.behavior,true)}this.eventStartHandler=T.onTouch(aq,v,function(ar){if(ao.enabled&&ar.eventType==v){r.startDetect(ao,ar)}else{if(ar.eventType==R){r.detect(ar)}}});this.eventHandlers=[]};K.Instance.prototype={on:function Z(aq,ap){var ao=this;T.on(ao.element,aq,ap,function(ar){ao.eventHandlers.push({gesture:ar,handler:ap})});return ao},off:function u(aq,ap){var ao=this;T.off(ao.element,aq,ap,function(at){var ar=U.inArray({gesture:at,handler:ap});if(ar!==false){ao.eventHandlers.splice(ar,1)}});return ao},trigger:function af(ap,ar){if(!ar){ar={}}var aq=K.DOCUMENT.createEvent("Event");aq.initEvent(ap,true,true);aq.gesture=ar;var ao=this.element;if(U.hasParent(ar.target,ao)){ao=ar.target}ao.dispatchEvent(aq);return this},enable:function i(ao){this.enabled=ao;return this},dispose:function F(){var ao,ap;U.toggleBehavior(this.element,this.options.behavior,false);for(ao=-1;(ap=this.eventHandlers[++ao]);){U.off(this.element,ap.gesture,ap.handler)}this.eventHandlers=[];T.off(this.element,O[v],this.eventStartHandler);return null}};(function(ap){var ao=false;function aq(av,aw){var ay=r.current;if(aw.options.dragMaxTouches>0&&av.touches.length>aw.options.dragMaxTouches){return}switch(av.eventType){case v:ao=false;break;case J:if(av.distance<aw.options.dragMinDistance&&ay.name!=ap){return}var ar=ay.startEvent.center;if(ay.name!=ap){ay.name=ap;if(aw.options.dragDistanceCorrection&&av.distance>0){var at=Math.abs(aw.options.dragMinDistance/av.distance);ar.pageX+=av.deltaX*at;ar.pageY+=av.deltaY*at;ar.clientX+=av.deltaX*at;ar.clientY+=av.deltaY*at;av=r.extendEventData(av)}}if(ay.lastEvent.dragLockToAxis||(aw.options.dragLockToAxis&&aw.options.dragLockMinDistance<=av.distance)){av.dragLockToAxis=true}var au=ay.lastEvent.direction;if(av.dragLockToAxis&&au!==av.direction){if(U.isVertical(au)){av.direction=(av.deltaY<0)?ag:G}else{av.direction=(av.deltaX<0)?C:M}}if(!ao){aw.trigger(ap+"start",av);ao=true}aw.trigger(ap,av);aw.trigger(ap+av.direction,av);var ax=U.isVertical(av.direction);if((aw.options.dragBlockVertical&&ax)||(aw.options.dragBlockHorizontal&&!ax)){av.preventDefault()}break;case o:if(ao&&av.changedLength<=aw.options.dragMaxTouches){aw.trigger(ap+"end",av);ao=false}break;case A:ao=false;break}}K.gestures.Drag={name:ap,index:50,handler:aq,defaults:{dragMinDistance:10,dragDistanceCorrection:true,dragMaxTouches:1,dragBlockHorizontal:false,dragBlockVertical:false,dragLockToAxis:false,dragLockMinDistance:25}}})("drag");K.gestures.Gesture={name:"gesture",index:1337,handler:function ak(ao,ap){ap.trigger(this.name,ao)}};(function(ao){var aq;function ap(at,au){var ar=au.options,av=r.current;switch(at.eventType){case v:clearTimeout(aq);av.name=ao;aq=setTimeout(function(){if(av&&av.name==ao){au.trigger(ao,at)}},ar.holdTimeout);break;case J:if(at.distance>ar.holdThreshold){clearTimeout(aq)}break;case o:clearTimeout(aq);break}}K.gestures.Hold={name:ao,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:ap}})("hold");K.gestures.Release={name:"release",index:Infinity,handler:function ak(ao,ap){if(ao.eventType==o){ap.trigger(this.name,ao)}}};K.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:0.6,swipeVelocityY:0.6},handler:function an(ap,aq){if(ap.eventType==o){var ar=ap.touches.length,ao=aq.options;if(ar<ao.swipeMinTouches||ar>ao.swipeMaxTouches){return}if(ap.velocityX>ao.swipeVelocityX||ap.velocityY>ao.swipeVelocityY){aq.trigger(this.name,ap);aq.trigger(this.name+ap.direction,ap)}}}};(function(aq){var ap=false;function ao(aw,ax){var au=ax.options,ay=r.current,av=r.previous,at,ar;switch(aw.eventType){case v:ap=false;break;case J:ap=ap||(aw.distance>au.tapMaxDistance);break;case A:if(!U.inStr(aw.srcEvent.type,"cancel")&&aw.deltaTime<au.tapMaxTime&&!ap){at=av&&av.lastEvent&&aw.timeStamp-av.lastEvent.timeStamp;ar=false;if(av&&av.name==aq&&(at&&at<au.doubleTapInterval)&&aw.distance<au.doubleTapDistance){ax.trigger("doubletap",aw);ar=true}if(!ar||au.tapAlways){ay.name=aq;ax.trigger(ay.name,aw)}}break}}K.gestures.Tap={name:aq,index:100,handler:ao,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:true,doubleTapDistance:20,doubleTapInterval:300}}})("tap");K.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:false,preventMouse:false},handler:function l(ao,ap){if(ap.options.preventMouse&&ao.pointerType==ae){ao.stopDetect();return}if(ap.options.preventDefault){ao.preventDefault()}if(ao.eventType==R){ap.trigger("touch",ao)}}};(function(ap){var ao=false;function aq(at,au){switch(at.eventType){case v:ao=false;break;case J:if(at.touches.length<2){return}var ar=Math.abs(1-at.scale);var av=Math.abs(at.rotation);if(ar<au.options.transformMinScale&&av<au.options.transformMinRotation){return}r.current.name=ap;if(!ao){au.trigger(ap+"start",at);ao=true}au.trigger(ap,at);if(av>au.options.transformMinRotation){au.trigger("rotate",at)}if(ar>au.options.transformMinScale){au.trigger("pinch",at);au.trigger("pinch"+(at.scale<1?"in":"out"),at)}break;case o:if(ao&&at.changedLength<2){au.trigger(ap+"end",at);ao=false}break}}K.gestures.Transform={name:ap,index:45,defaults:{transformMinScale:0.01,transformMinRotation:1},handler:aq}})("transform");if(true){!(d=function(){return K}.call(a,c,a,b),d!==p&&(b.exports=d))}else{if(typeof b!=="undefined"&&b.exports){b.exports=K}else{X.Hammer=K}}})(window)},function(b,e,a){var f=a(1);var c=a(67);var k=a(68);var l=a(69);e._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled;this._loadSelectedForceSolver();this.moving=true;this.start()};e._loadSelectedForceSolver=function(){if(this.constants.physics.barnesHut.enabled==true){this._clearMixin(c);this._clearMixin(k);this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity;this.constants.physics.springLength=this.constants.physics.barnesHut.springLength;this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant;this.constants.physics.damping=this.constants.physics.barnesHut.damping;this._loadMixin(l)}else{if(this.constants.physics.hierarchicalRepulsion.enabled==true){this._clearMixin(l);this._clearMixin(c);this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity;this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength;this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant;this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping;this._loadMixin(k)}else{this._clearMixin(l);this._clearMixin(k);this.barnesHutTree=undefined;this.constants.physics.centralGravity=this.constants.physics.repulsion.centralGravity;this.constants.physics.springLength=this.constants.physics.repulsion.springLength;this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant;this.constants.physics.damping=this.constants.physics.repulsion.damping;this._loadMixin(c)}}};e._initializeForceCalculation=function(){if(this.nodeIndices.length==1){this.nodes[this.nodeIndices[0]]._setForce(0,0)}else{if(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&this.constants.clustering.enabled==true){this.clusterToFit(this.constants.clustering.reduceToNodes,false)}this._calculateForces()}};e._calculateForces=function(){this._calculateGravitationalForces();this._calculateNodeForces();if(this.constants.physics.springConstant>0){if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){this._calculateSpringForcesWithSupport()}else{if(this.constants.physics.hierarchicalRepulsion.enabled==true){this._calculateHierarchicalSpringForces()}else{this._calculateSpringForces()}}}};e._updateCalculationNodes=function(){if(this.constants.smoothCurves.enabled==true&&this.constants.smoothCurves.dynamic==true){this.calculationNodes={};this.calculationNodeIndices=[];for(var p in this.nodes){if(this.nodes.hasOwnProperty(p)){this.calculationNodes[p]=this.nodes[p]}}var o=this.sectors.support["nodes"];for(var n in o){if(o.hasOwnProperty(n)){if(this.edges.hasOwnProperty(o[n].parentEdgeId)){this.calculationNodes[n]=o[n]}else{o[n]._setForce(0,0)}}}for(var m in this.calculationNodes){if(this.calculationNodes.hasOwnProperty(m)){this.calculationNodeIndices.push(m)}}}else{this.calculationNodes=this.nodes;this.calculationNodeIndices=this.nodeIndices}};e._calculateGravitationalForces=function(){var o,m,t,r,p;var n=this.calculationNodes;var s=this.constants.physics.centralGravity;var q=0;for(p=0;p<this.calculationNodeIndices.length;p++){r=n[this.calculationNodeIndices[p]];r.damping=this.constants.physics.damping;if(this._sector()=="default"&&s!=0){o=-r.x;m=-r.y;t=Math.sqrt(o*o+m*m);q=(t==0)?0:(s/t);r.fx=o*q;r.fy=m*q}else{r.fx=0;r.fy=0}}};e._calculateSpringForces=function(){var p,n,t;var v,u,q,o,s,m;var r=this.edges;for(t in r){if(r.hasOwnProperty(t)){n=r[t];if(n.connected){if(this.nodes.hasOwnProperty(n.toId)&&this.nodes.hasOwnProperty(n.fromId)){p=n.physics.springLength;p+=(n.to.clusterSize+n.from.clusterSize-2)*this.constants.clustering.edgeGrowth;v=(n.from.x-n.to.x);u=(n.from.y-n.to.y);m=Math.sqrt(v*v+u*u);if(m==0){m=0.01}s=this.constants.physics.springConstant*(p-m)/m;q=v*s;o=u*s;n.from.fx+=q;n.from.fy+=o;n.to.fx-=q;n.to.fy-=o}}}}};e._calculateSpringForcesWithSupport=function(){var n,r,t,s;var q=this.edges;for(t in q){if(q.hasOwnProperty(t)){r=q[t];if(r.connected){if(this.nodes.hasOwnProperty(r.toId)&&this.nodes.hasOwnProperty(r.fromId)){if(r.via!=null){var p=r.to;var o=r.via;var m=r.from;n=r.physics.springLength;s=p.clusterSize+m.clusterSize-2;n+=s*this.constants.clustering.edgeGrowth;this._calculateSpringForce(p,o,0.5*n);this._calculateSpringForce(o,m,0.5*n)}}}}}};e._calculateSpringForce=function(s,r,o){var u,t,p,n,q,m;u=(s.x-r.x);t=(s.y-r.y);m=Math.sqrt(u*u+t*t);if(m==0){m=0.01}q=this.constants.physics.springConstant*(o-m)/m;p=u*q;n=t*q;s.fx+=p;s.fy+=n;r.fx-=p;r.fy-=n};e._cleanupPhysicsConfiguration=function(){if(this.physicsConfiguration!==undefined){while(this.physicsConfiguration.hasChildNodes()){this.physicsConfiguration.removeChild(this.physicsConfiguration.firstChild)}this.physicsConfiguration.parentNode.removeChild(this.physicsConfiguration);this.physicsConfiguration=undefined}};e._loadPhysicsConfiguration=function(){if(this.physicsConfiguration===undefined){this.backupConstants={};f.deepExtend(this.backupConstants,this.constants);var q=Math.max(20000,(-1*this.constants.physics.barnesHut.gravitationalConstant)*10);var v=Math.min(0.05,this.constants.physics.barnesHut.springConstant*10);var t=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div");this.physicsConfiguration.className="PhysicsConfiguration";this.physicsConfiguration.innerHTML='<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="'+q+'" value="'+(-1*this.constants.physics.barnesHut.gravitationalConstant)+'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-'+q+'</td><td><input value="'+(this.constants.physics.barnesHut.gravitationalConstant)+'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="6"  value="'+this.constants.physics.barnesHut.centralGravity+'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="'+this.constants.physics.barnesHut.centralGravity+'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.barnesHut.springLength+'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="'+this.constants.physics.barnesHut.springLength+'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="'+v+'" value="'+this.constants.physics.barnesHut.springConstant+'" step="0.0001" style="width:300px" id="graph_BH_sc"></td><td>'+v+'</td><td><input value="'+this.constants.physics.barnesHut.springConstant+'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.barnesHut.damping+'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.barnesHut.damping+'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.repulsion.nodeDistance+'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.repulsion.nodeDistance+'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.repulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="'+this.constants.physics.repulsion.centralGravity+'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.repulsion.springLength+'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="'+this.constants.physics.repulsion.springLength+'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.repulsion.springConstant+'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.repulsion.springConstant+'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.repulsion.damping+'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.repulsion.damping+'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.nodeDistance+'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.centralGravity+'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springLength+'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.springConstant+'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="'+this.constants.physics.hierarchicalRepulsion.damping+'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="'+this.constants.physics.hierarchicalRepulsion.damping+'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="'+t.indexOf(this.constants.hierarchicalLayout.direction)+'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="'+this.constants.hierarchicalLayout.direction+'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.levelSeparation+'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.levelSeparation+'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="'+this.constants.hierarchicalLayout.nodeSpacing+'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="'+this.constants.hierarchicalLayout.nodeSpacing+'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>';this.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement);this.optionsDiv=document.createElement("div");this.optionsDiv.style.fontSize="14px";this.optionsDiv.style.fontFamily="verdana";this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var m;m=document.getElementById("graph_BH_gc");m.onchange=h.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant");m=document.getElementById("graph_BH_cg");m.onchange=h.bind(this,"graph_BH_cg",1,"physics_centralGravity");m=document.getElementById("graph_BH_sc");m.onchange=h.bind(this,"graph_BH_sc",1,"physics_springConstant");m=document.getElementById("graph_BH_sl");m.onchange=h.bind(this,"graph_BH_sl",1,"physics_springLength");m=document.getElementById("graph_BH_damp");m.onchange=h.bind(this,"graph_BH_damp",1,"physics_damping");m=document.getElementById("graph_R_nd");m.onchange=h.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance");m=document.getElementById("graph_R_cg");m.onchange=h.bind(this,"graph_R_cg",1,"physics_centralGravity");m=document.getElementById("graph_R_sc");m.onchange=h.bind(this,"graph_R_sc",1,"physics_springConstant");m=document.getElementById("graph_R_sl");m.onchange=h.bind(this,"graph_R_sl",1,"physics_springLength");m=document.getElementById("graph_R_damp");m.onchange=h.bind(this,"graph_R_damp",1,"physics_damping");m=document.getElementById("graph_H_nd");m.onchange=h.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance");m=document.getElementById("graph_H_cg");m.onchange=h.bind(this,"graph_H_cg",1,"physics_centralGravity");m=document.getElementById("graph_H_sc");m.onchange=h.bind(this,"graph_H_sc",1,"physics_springConstant");m=document.getElementById("graph_H_sl");m.onchange=h.bind(this,"graph_H_sl",1,"physics_springLength");m=document.getElementById("graph_H_damp");m.onchange=h.bind(this,"graph_H_damp",1,"physics_damping");m=document.getElementById("graph_H_direction");m.onchange=h.bind(this,"graph_H_direction",t,"hierarchicalLayout_direction");m=document.getElementById("graph_H_levsep");m.onchange=h.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation");m=document.getElementById("graph_H_nspac");m.onchange=h.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");var s=document.getElementById("graph_physicsMethod1");var r=document.getElementById("graph_physicsMethod2");var p=document.getElementById("graph_physicsMethod3");r.checked=true;if(this.constants.physics.barnesHut.enabled){s.checked=true}if(this.constants.hierarchicalLayout.enabled){p.checked=true}var u=document.getElementById("graph_toggleSmooth");var n=document.getElementById("graph_repositionNodes");var o=document.getElementById("graph_generateOptions");u.onclick=g.bind(this);n.onclick=j.bind(this);o.onclick=d.bind(this);if(this.constants.smoothCurves==true&&this.constants.dynamicSmoothCurves==false){u.style.background="#A4FF56"}else{u.style.background="#FF8532"}i.apply(this);s.onchange=i.bind(this);r.onchange=i.bind(this);p.onchange=i.bind(this)}};e._overWriteGraphConstants=function(o,n){var m=o.split("_");if(m.length==1){this.constants[m[0]]=n}else{if(m.length==2){this.constants[m[0]][m[1]]=n}else{if(m.length==3){this.constants[m[0]][m[1]][m[2]]=n}}}};function g(){this.constants.smoothCurves.enabled=!this.constants.smoothCurves.enabled;var m=document.getElementById("graph_toggleSmooth");if(this.constants.smoothCurves.enabled==true){m.style.background="#A4FF56"}else{m.style.background="#FF8532"}this._configureSmoothCurves(false)}function j(){for(var m in this.calculationNodes){if(this.calculationNodes.hasOwnProperty(m)){this.calculationNodes[m].vx=0;this.calculationNodes[m].vy=0;this.calculationNodes[m].fx=0;this.calculationNodes[m].fy=0}}if(this.constants.hierarchicalLayout.enabled==true){this._setupHierarchicalLayout();h.call(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance");h.call(this,"graph_H_cg",1,"physics_centralGravity");h.call(this,"graph_H_sc",1,"physics_springConstant");h.call(this,"graph_H_sl",1,"physics_springLength");h.call(this,"graph_H_damp",1,"physics_damping")}else{this.repositionNodes()}this.moving=true;this.start()}function d(){var n="No options are required, default values used.";var m=[];var q=document.getElementById("graph_physicsMethod1");var p=document.getElementById("graph_physicsMethod2");if(q.checked==true){if(this.constants.physics.barnesHut.gravitationalConstant!=this.backupConstants.physics.barnesHut.gravitationalConstant){m.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant)}if(this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity){m.push("centralGravity: "+this.constants.physics.centralGravity)}if(this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength){m.push("springLength: "+this.constants.physics.springLength)}if(this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant){m.push("springConstant: "+this.constants.physics.springConstant)}if(this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping){m.push("damping: "+this.constants.physics.damping)}if(m.length!=0){n="var options = {";n+="physics: {barnesHut: {";for(var o=0;o<m.length;o++){n+=m[o];if(o<m.length-1){n+=", "}}n+="}}"}if(this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled){if(m.length==0){n="var options = {"}else{n+=", "}n+="smoothCurves: "+this.constants.smoothCurves.enabled}if(n!="No options are required, default values used."){n+="};"}}else{if(p.checked==true){n="var options = {";n+="physics: {barnesHut: {enabled: false}";if(this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance){m.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance)}if(this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity){m.push("centralGravity: "+this.constants.physics.centralGravity)}if(this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength){m.push("springLength: "+this.constants.physics.springLength)}if(this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant){m.push("springConstant: "+this.constants.physics.springConstant)}if(this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping){m.push("damping: "+this.constants.physics.damping)}if(m.length!=0){n+=", repulsion: {";for(var o=0;o<m.length;o++){n+=m[o];if(o<m.length-1){n+=", "}}n+="}}"}if(m.length==0){n+="}"}if(this.constants.smoothCurves!=this.backupConstants.smoothCurves){n+=", smoothCurves: "+this.constants.smoothCurves}n+="};"}else{n="var options = {";if(this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance){m.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance)}if(this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity){m.push("centralGravity: "+this.constants.physics.centralGravity)}if(this.constants.physics.springLength!=this.backupConstants.physics.hierarchicalRepulsion.springLength){m.push("springLength: "+this.constants.physics.springLength)}if(this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant){m.push("springConstant: "+this.constants.physics.springConstant)}if(this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping){m.push("damping: "+this.constants.physics.damping)}if(m.length!=0){n+="physics: {hierarchicalRepulsion: {";for(var o=0;o<m.length;o++){n+=m[o];if(o<m.length-1){n+=", "}}n+="}},"}n+="hierarchicalLayout: {";m=[];if(this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction){m.push("direction: "+this.constants.hierarchicalLayout.direction)}if(Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation){m.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation)}if(this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing){m.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing)}if(m.length!=0){for(var o=0;o<m.length;o++){n+=m[o];if(o<m.length-1){n+=", "}}n+="}"}else{n+="enabled:true}"}n+="};"}}this.optionsDiv.innerHTML=n}function i(){var o=["graph_BH_table","graph_R_table","graph_H_table"];var r=document.querySelector('input[name="graph_physicsMethod"]:checked').value;var q="graph_"+r+"_table";var p=document.getElementById(q);p.style.display="block";for(var m=0;m<o.length;m++){if(o[m]!=q){p=document.getElementById(o[m]);p.style.display="none"}}this._restoreNodes();if(r=="R"){this.constants.hierarchicalLayout.enabled=false;this.constants.physics.hierarchicalRepulsion.enabled=false;this.constants.physics.barnesHut.enabled=false}else{if(r=="H"){if(this.constants.hierarchicalLayout.enabled==false){this.constants.hierarchicalLayout.enabled=true;this.constants.physics.hierarchicalRepulsion.enabled=true;this.constants.physics.barnesHut.enabled=false;this.constants.smoothCurves.enabled=false;this._setupHierarchicalLayout()}}else{this.constants.hierarchicalLayout.enabled=false;this.constants.physics.hierarchicalRepulsion.enabled=false;this.constants.physics.barnesHut.enabled=true}}this._loadSelectedForceSolver();var n=document.getElementById("graph_toggleSmooth");if(this.constants.smoothCurves.enabled==true){n.style.background="#A4FF56"}else{n.style.background="#FF8532"}this.moving=true;this.start()}function h(q,o,p){var m=q+"_value";var n=document.getElementById(q).value;if(Array.isArray(o)){document.getElementById(m).value=o[parseInt(n)];this._overWriteGraphConstants(p,o[parseInt(n)])}else{document.getElementById(m).value=parseInt(o)*parseFloat(n);this._overWriteGraphConstants(p,parseInt(o)*parseFloat(n))}if(p=="hierarchicalLayout_direction"||p=="hierarchicalLayout_levelSeparation"||p=="hierarchicalLayout_nodeSpacing"){this._setupHierarchicalLayout()}this.moving=true;this.start()}},function(b,a,c){a.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,true);this.updateLabels();if(this.constants.stabilize==true){this._stabilize()}this.start()};a.clusterToFit=function(d,f){var e=this.nodeIndices.length;var g=50;var h=0;while(e>d&&h<g){if(h%3==0){this.forceAggregateHubs(true);this.normalizeClusterLevels()}else{this.increaseClusterLevel()}this.forceAggregateHubs(true);e=this.nodeIndices.length;h+=1}if(h>0&&f==true){this.repositionNodes()}this._updateCalculationNodes()};a.openCluster=function(e){var d=this.moving;if(e.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(e)&&!(this._sector()=="default"&&this.nodeIndices.length==1)){this._addSector(e);var f=0;while((this.nodeIndices.length<this.constants.clustering.initialMaxNodes)&&(f<10)){this.decreaseClusterLevel();f+=1}}else{this._expandClusterNode(e,false,true);this._updateNodeIndexList();this._updateCalculationNodes();this.updateLabels()}if(this.moving!=d){this.start()}};a.updateClustersDefault=function(){if(this.constants.clustering.enabled==true&&this.constants.clustering.clusterByZoom==true){this.updateClusters(0,false,false)}};a.increaseClusterLevel=function(){this.updateClusters(-1,false,true)};a.decreaseClusterLevel=function(){this.updateClusters(1,false,true)};a.updateClusters=function(i,e,j,h){var d=this.moving;var g=this.nodeIndices.length;var k=(this.previousScale<this.scale&&i==0);var f=(this.previousScale>this.scale&&i==0);if(f==true){this._collapseSector()}if(f==true||i==-1){this._formClusters(j)}else{if(k==true||i==1){if(j==true){this._openClusters(e,j)}else{this._openClusters(e,false)}}}this._updateNodeIndexList();if(this.nodeIndices.length==g&&(f==true||i==-1)){this._aggregateHubs(j);this._updateNodeIndexList()}if(f==true||i==-1){this.handleChains();this._updateNodeIndexList()}this.previousScale=this.scale;this.updateLabels();if(this.nodeIndices.length<g){this.clusterSession+=1;this.normalizeClusterLevels()}if(h==false||h===undefined){if(this.moving!=d){this.start()}}this._updateCalculationNodes()};a.handleChains=function(){var d=this._getChainFraction();if(d>this.constants.clustering.chainThreshold){this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/d)}};a._aggregateHubs=function(d){this._getHubSize();this._formClustersByHub(d,false)};a.forceAggregateHubs=function(f){var d=this.moving;var e=this.nodeIndices.length;this._aggregateHubs(true);this._updateNodeIndexList();this.updateLabels();this._updateCalculationNodes();if(this.nodeIndices.length!=e){this.clusterSession+=1}if(f==false||f===undefined){if(this.moving!=d){this.start()}}};a._openClustersBySize=function(){if(this.constants.clustering.clusterByZoom==true){for(var e in this.nodes){if(this.nodes.hasOwnProperty(e)){var d=this.nodes[e];if(d.inView()==true){if((d.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth)||(d.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){this.openCluster(d)}}}}}};a._openClusters=function(d,g){for(var e=0;e<this.nodeIndices.length;e++){var f=this.nodes[this.nodeIndices[e]];this._expandClusterNode(f,d,g);this._updateCalculationNodes()}};a._expandClusterNode=function(d,e,g,h){if(d.clusterSize>1){if(h===undefined){h=false}e=h||e;if(d.formationScale<this.scale||g==true){for(var i in d.containedNodes){if(d.containedNodes.hasOwnProperty(i)){var f=d.containedNodes[i];if(g==true){if(f.clusterSession==d.clusterSessions[d.clusterSessions.length-1]||h){this._expelChildFromParent(d,i,e,g,h)}}else{if(this._nodeInActiveArea(d)){this._expelChildFromParent(d,i,e,g,h)}}}}}}};a._expelChildFromParent=function(e,k,f,h,i){var g=e.containedNodes[k];if(g.formationScale<this.scale||h==true){this._unselectAll();this.nodes[k]=g;this._releaseContainedEdges(e,g);this._connectEdgeBackToChild(e,g);this._validateEdges(e);e.options.mass-=g.options.mass;e.clusterSize-=g.clusterSize;e.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*(e.clusterSize-1));g.x=e.x+e.growthIndicator*(0.5-Math.random());g.y=e.y+e.growthIndicator*(0.5-Math.random());delete e.containedNodes[k];var d=false;for(var j in e.containedNodes){if(e.containedNodes.hasOwnProperty(j)){if(e.containedNodes[j].clusterSession==g.clusterSession){d=true;break}}}if(d==false){e.clusterSessions.pop()}this._repositionBezierNodes(g);g.clusterSession=0;e.clearSizeCache();this.moving=true}if(f==true){this._expandClusterNode(g,f,h,i)}};a._repositionBezierNodes=function(e){for(var d=0;d<e.dynamicEdges.length;d++){e.dynamicEdges[d].positionBezierNode()}};a._formClusters=function(d){if(d==false){if(this.constants.clustering.clusterByZoom==true){this._formClustersByZoom()}}else{this._forceClustersByZoom()}};a._formClustersByZoom=function(){var g,e,j;var f=this.constants.clustering.clusterEdgeThreshold/this.scale;for(var k in this.edges){if(this.edges.hasOwnProperty(k)){var i=this.edges[k];if(i.connected){if(i.toId!=i.fromId){g=(i.to.x-i.from.x);e=(i.to.y-i.from.y);j=Math.sqrt(g*g+e*e);if(j<f){var d=i.from;var h=i.to;if(i.to.options.mass>i.from.options.mass){d=i.to;h=i.from}if(h.dynamicEdges.length==1){this._addToCluster(d,h,false)}else{if(d.dynamicEdges.length==1){this._addToCluster(h,d,false)}}}}}}}};a._forceClustersByZoom=function(){for(var g in this.nodes){if(this.nodes.hasOwnProperty(g)){var e=this.nodes[g];if(e.dynamicEdges.length==1){var f=e.dynamicEdges[0];var d=(f.toId==e.id)?this.nodes[f.fromId]:this.nodes[f.toId];if(e.id!=d.id){if(d.options.mass>e.options.mass){this._addToCluster(d,e,true)}else{this._addToCluster(e,d,true)}}}}}};a._clusterToSmallestNeighbour=function(g){var e=-1;var h=null;for(var f=0;f<g.dynamicEdges.length;f++){if(g.dynamicEdges[f]!==undefined){var d=null;if(g.dynamicEdges[f].fromId!=g.id){d=g.dynamicEdges[f].from}else{if(g.dynamicEdges[f].toId!=g.id){d=g.dynamicEdges[f].to}}if(d!=null&&e>d.clusterSessions.length){e=d.clusterSessions.length;h=d}}}if(d!=null&&this.nodes[d.id]!==undefined){this._addToCluster(d,g,true)}};a._formClustersByHub=function(e,d){for(var f in this.nodes){if(this.nodes.hasOwnProperty(f)){this._formClusterFromHub(this.nodes[f],e,d)}}};a._formClusterFromHub=function(o,e,q,l){if(l===undefined){l=0}if((o.dynamicEdges.length>=this.hubThreshold&&q==false)||(o.dynamicEdges.length==this.hubThreshold&&q==true)){var t,s,h;var i=this.constants.clustering.clusterEdgeThreshold/this.scale;var r=false;var n=[];var k=o.dynamicEdges.length;for(var m=0;m<k;m++){n.push(o.dynamicEdges[m].id)}if(e==false){r=false;for(m=0;m<k;m++){var g=this.edges[n[m]];if(g!==undefined){if(g.connected){if(g.toId!=g.fromId){t=(g.to.x-g.from.x);s=(g.to.y-g.from.y);h=Math.sqrt(t*t+s*s);if(h<i){r=true;break}}}}}}if((!e&&r)||e){var f=[];var p={};for(m=0;m<k;m++){g=this.edges[n[m]];var d=this.nodes[(g.fromId==o.id)?g.toId:g.fromId];if(p[d.id]===undefined){p[d.id]=true;f.push(d)}}for(m=0;m<f.length;m++){var d=f[m];if((d.dynamicEdges.length<=(this.hubThreshold+l))&&(d.id!=o.id)){this._addToCluster(o,d,e)}else{}}}}};a._addToCluster=function(d,g,j){d.containedNodes[g.id]=g;for(var f=0;f<g.dynamicEdges.length;f++){var h=g.dynamicEdges[f];if(h.toId==d.id||h.fromId==d.id){this._addToContainedEdges(d,g,h)}else{this._connectEdgeToCluster(d,g,h)}}g.dynamicEdges=[];this._containCircularEdgesFromNode(d,g);delete this.nodes[g.id];var e=d.options.mass;g.clusterSession=this.clusterSession;d.options.mass+=g.options.mass;d.clusterSize+=g.clusterSize;d.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*d.clusterSize);if(d.clusterSessions[d.clusterSessions.length-1]!=this.clusterSession){d.clusterSessions.push(this.clusterSession)}if(j==true){d.formationScale=0}else{d.formationScale=this.scale}d.clearSizeCache();d.containedNodes[g.id].formationScale=d.formationScale;g.clearVelocity();d.updateVelocity(e);this.moving=true};a._addToContainedEdges=function(d,f,g){if(d.containedEdges[f.id]===undefined){d.containedEdges[f.id]=[]}d.containedEdges[f.id].push(g);delete this.edges[g.id];for(var e=0;e<d.dynamicEdges.length;e++){if(d.dynamicEdges[e].id==g.id){d.dynamicEdges.splice(e,1);break}}};a._connectEdgeToCluster=function(d,e,f){if(f.toId==f.fromId){this._addToContainedEdges(d,e,f)}else{if(f.toId==e.id){f.originalToId.push(e.id);f.to=d;f.toId=d.id}else{f.originalFromId.push(e.id);f.from=d;f.fromId=d.id}this._addToReroutedEdges(d,e,f)}};a._containCircularEdgesFromNode=function(d,f){for(var e=0;e<d.dynamicEdges.length;e++){var g=d.dynamicEdges[e];if(g.toId==g.fromId){this._addToContainedEdges(d,f,g)}}};a._addToReroutedEdges=function(d,e,f){if(!(d.reroutedEdges.hasOwnProperty(e.id))){d.reroutedEdges[e.id]=[]}d.reroutedEdges[e.id].push(f);d.dynamicEdges.push(f)};a._connectEdgeBackToChild=function(d,g){if(d.reroutedEdges.hasOwnProperty(g.id)){for(var f=0;f<d.reroutedEdges[g.id].length;f++){var h=d.reroutedEdges[g.id][f];if(h.originalFromId[h.originalFromId.length-1]==g.id){h.originalFromId.pop();h.fromId=g.id;h.from=g}else{h.originalToId.pop();h.toId=g.id;h.to=g}g.dynamicEdges.push(h);for(var e=0;e<d.dynamicEdges.length;e++){if(d.dynamicEdges[e].id==h.id){d.dynamicEdges.splice(e,1);break}}}delete d.reroutedEdges[g.id]}};a._validateEdges=function(d){var f=[];for(var e=0;e<d.dynamicEdges.length;e++){var g=d.dynamicEdges[e];if(d.id==g.toId||d.id==g.fromId){f.push(g)}}d.dynamicEdges=f};a._releaseContainedEdges=function(d,f){for(var e=0;e<d.containedEdges[f.id].length;e++){var g=d.containedEdges[f.id][e];this.edges[g.id]=g;f.dynamicEdges.push(g);d.dynamicEdges.push(g)}delete d.containedEdges[f.id]};a.updateLabels=function(){var e;for(e in this.nodes){if(this.nodes.hasOwnProperty(e)){var d=this.nodes[e];if(d.clusterSize>1){d.label="[".concat(String(d.clusterSize),"]")}}}for(e in this.nodes){if(this.nodes.hasOwnProperty(e)){d=this.nodes[e];if(d.clusterSize==1){if(d.originalLabel!==undefined){d.label=d.originalLabel}else{d.label=String(d.id)}}}}};a.normalizeClusterLevels=function(){var d=0;var i=1000000000;var f=0;var h;for(h in this.nodes){if(this.nodes.hasOwnProperty(h)){f=this.nodes[h].clusterSessions.length;if(d<f){d=f}if(i>f){i=f}}}if(d-i>this.constants.clustering.clusterLevelDifference){var e=this.nodeIndices.length;var g=d-this.constants.clustering.clusterLevelDifference;for(h in this.nodes){if(this.nodes.hasOwnProperty(h)){if(this.nodes[h].clusterSessions.length<g){this._clusterToSmallestNeighbour(this.nodes[h])}}}this._updateNodeIndexList();if(this.nodeIndices.length!=e){this.clusterSession+=1}}};a._nodeInActiveArea=function(d){return(Math.abs(d.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(d.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale)};a.repositionNodes=function(){for(var e=0;e<this.nodeIndices.length;e++){var f=this.nodes[this.nodeIndices[e]];if((f.xFixed==false||f.yFixed==false)){var d=10*0.1*this.nodeIndices.length*Math.min(100,f.options.mass);var g=2*Math.PI*Math.random();if(f.xFixed==false){f.x=d*Math.cos(g)}if(f.yFixed==false){f.y=d*Math.sin(g)}this._repositionBezierNodes(f)}}};a._getHubSize=function(){var g=0;var l=0;var k=0;var j=0;for(var e=0;e<this.nodeIndices.length;e++){var f=this.nodes[this.nodeIndices[e]];if(f.dynamicEdges.length>j){j=f.dynamicEdges.length}g+=f.dynamicEdges.length;l+=Math.pow(f.dynamicEdges.length,2);k+=1}g=g/k;l=l/k;var d=l-Math.pow(g,2);var h=Math.sqrt(d);this.hubThreshold=Math.floor(g+2*h);if(this.hubThreshold>j){this.hubThreshold=j}};a._reduceAmountOfChains=function(e){this.hubThreshold=2;var d=Math.floor(this.nodeIndices.length*e);for(var f in this.nodes){if(this.nodes.hasOwnProperty(f)){if(this.nodes[f].dynamicEdges.length==2){if(d>0){this._formClusterFromHub(this.nodes[f],true,true,1);d-=1}}}}};a._getChainFraction=function(){var e=0;var d=0;for(var f in this.nodes){if(this.nodes.hasOwnProperty(f)){if(this.nodes[f].dynamicEdges.length==2){e+=1}d+=1}}return e/d}},function(d,b,e){var a=e(1);var c=e(40);b._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes;this.sectors.active[this._sector()].edges=this.edges;this.sectors.active[this._sector()].nodeIndices=this.nodeIndices};b._switchToSector=function(g,f){if(f===undefined||f=="active"){this._switchToActiveSector(g)}else{this._switchToFrozenSector(g)}};b._switchToActiveSector=function(f){this.nodeIndices=this.sectors.active[f]["nodeIndices"];this.nodes=this.sectors.active[f]["nodes"];this.edges=this.sectors.active[f]["edges"]};b._switchToSupportSector=function(){this.nodeIndices=this.sectors.support["nodeIndices"];this.nodes=this.sectors.support["nodes"];this.edges=this.sectors.support["edges"]};b._switchToFrozenSector=function(f){this.nodeIndices=this.sectors.frozen[f]["nodeIndices"];this.nodes=this.sectors.frozen[f]["nodes"];this.edges=this.sectors.frozen[f]["edges"]};b._loadLatestSector=function(){this._switchToSector(this._sector())};b._sector=function(){return this.activeSector[this.activeSector.length-1]};b._previousSector=function(){if(this.activeSector.length>1){return this.activeSector[this.activeSector.length-2]}else{throw new TypeError("there are not enough sectors in the this.activeSector array.")}};b._setActiveSector=function(f){this.activeSector.push(f)};b._forgetLastSector=function(){this.activeSector.pop()};b._createNewSector=function(f){this.sectors.active[f]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:undefined};this.sectors.active[f]["drawingNode"]=new c({id:f,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants);this.sectors.active[f]["drawingNode"].clusterSize=2};b._deleteActiveSector=function(f){delete this.sectors.active[f]};b._deleteFrozenSector=function(f){delete this.sectors.frozen[f]};b._freezeSector=function(f){this.sectors.frozen[f]=this.sectors.active[f];this._deleteActiveSector(f)};b._activateSector=function(f){this.sectors.active[f]=this.sectors.frozen[f];this._deleteFrozenSector(f)};b._mergeThisWithFrozen=function(j){for(var h in this.nodes){if(this.nodes.hasOwnProperty(h)){this.sectors.frozen[j]["nodes"][h]=this.nodes[h]}}for(var g in this.edges){if(this.edges.hasOwnProperty(g)){this.sectors.frozen[j]["edges"][g]=this.edges[g]}}for(var f=0;f<this.nodeIndices.length;f++){this.sectors.frozen[j]["nodeIndices"].push(this.nodeIndices[f])}};b._collapseThisToSingleCluster=function(){this.clusterToFit(1,false)};b._addSector=function(h){var g=this._sector();delete this.nodes[h.id];var f=a.randomUUID();this._freezeSector(g);this._createNewSector(f);this._setActiveSector(f);this._switchToSector(this._sector());this.nodes[h.id]=h};b._collapseSector=function(){var g=this._sector();if(g!="default"){if((this.nodeIndices.length==1)||(this.sectors.active[g]["drawingNode"].width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth)||(this.sectors.active[g]["drawingNode"].height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var f=this._previousSector();this._collapseThisToSingleCluster();this._mergeThisWithFrozen(f);this._deleteActiveSector(g);this._activateSector(f);this._switchToSector(f);this._forgetLastSector();this._updateNodeIndexList();this._updateCalculationNodes()}}};b._doInAllActiveSectors=function(i,j){var f=[];if(j===undefined){for(var h in this.sectors.active){if(this.sectors.active.hasOwnProperty(h)){this._switchToActiveSector(h);f.push(this[i]())}}}else{for(var h in this.sectors.active){if(this.sectors.active.hasOwnProperty(h)){this._switchToActiveSector(h);var g=Array.prototype.splice.call(arguments,1);if(g.length>1){f.push(this[i](g[0],g[1]))}else{f.push(this[i](j))}}}}this._loadLatestSector();return f};b._doInSupportSector=function(h,i){var f=false;if(i===undefined){this._switchToSupportSector();f=this[h]()}else{this._switchToSupportSector();var g=Array.prototype.splice.call(arguments,1);if(g.length>1){f=this[h](g[0],g[1])}else{f=this[h](i)}}this._loadLatestSector();return f};b._doInAllFrozenSectors=function(h,i){if(i===undefined){for(var g in this.sectors.frozen){if(this.sectors.frozen.hasOwnProperty(g)){this._switchToFrozenSector(g);this[h]()}}}else{for(var g in this.sectors.frozen){if(this.sectors.frozen.hasOwnProperty(g)){this._switchToFrozenSector(g);var f=Array.prototype.splice.call(arguments,1);if(f.length>1){this[h](f[0],f[1])}else{this[h](i)}}}}this._loadLatestSector()};b._doInAllSectors=function(g,h){var f=Array.prototype.splice.call(arguments,1);if(h===undefined){this._doInAllActiveSectors(g);this._doInAllFrozenSectors(g)}else{if(f.length>1){this._doInAllActiveSectors(g,f[0],f[1]);this._doInAllFrozenSectors(g,f[0],f[1])}else{this._doInAllActiveSectors(g,h);this._doInAllFrozenSectors(g,h)}}};b._clearNodeIndexList=function(){var f=this._sector();this.sectors.active[f]["nodeIndices"]=[];this.nodeIndices=this.sectors.active[f]["nodeIndices"]};b._drawSectorNodes=function(n,m){var i=1000000000,f=-1000000000,l=1000000000,g=-1000000000,j;for(var k in this.sectors[m]){if(this.sectors[m].hasOwnProperty(k)){if(this.sectors[m][k]["drawingNode"]!==undefined){this._switchToSector(k,m);i=1000000000;f=-1000000000;l=1000000000;g=-1000000000;for(var h in this.nodes){if(this.nodes.hasOwnProperty(h)){j=this.nodes[h];j.resize(n);if(l>j.x-0.5*j.width){l=j.x-0.5*j.width}if(g<j.x+0.5*j.width){g=j.x+0.5*j.width}if(i>j.y-0.5*j.height){i=j.y-0.5*j.height}if(f<j.y+0.5*j.height){f=j.y+0.5*j.height}}}j=this.sectors[m][k]["drawingNode"];j.x=0.5*(g+l);j.y=0.5*(f+i);j.width=2*(j.x-l);j.height=2*(j.y-i);j.options.radius=Math.sqrt(Math.pow(0.5*j.width,2)+Math.pow(0.5*j.height,2));j.setScale(this.scale);j._drawCircle(n)}}}};b._drawAllSectorNodes=function(f){this._drawSectorNodes(f,"frozen");this._drawSectorNodes(f,"active");this._loadLatestSector()}},function(c,a,d){var b=d(40);a._getNodesOverlappingWith=function(g,f){var e=this.nodes;for(var h in e){if(e.hasOwnProperty(h)){if(e[h].isOverlappingWith(g)){f.push(h)}}}};a._getAllNodesOverlappingWith=function(f){var e=[];this._doInAllActiveSectors("_getNodesOverlappingWith",f,e);return e};a._pointerToPositionObject=function(f){var e=this._XconvertDOMtoCanvas(f.x);var g=this._YconvertDOMtoCanvas(f.y);return{left:e,top:g,right:e,bottom:g}};a._getNodeAt=function(g){var f=this._pointerToPositionObject(g);var e=this._getAllNodesOverlappingWith(f);if(e.length>0){return this.nodes[e[e.length-1]]}else{return null}};a._getEdgesOverlappingWith=function(g,f){var e=this.edges;for(var h in e){if(e.hasOwnProperty(h)){if(e[h].isOverlappingWith(g)){f.push(h)}}}};a._getAllEdgesOverlappingWith=function(f){var e=[];this._doInAllActiveSectors("_getEdgesOverlappingWith",f,e);return e};a._getEdgeAt=function(g){var f=this._pointerToPositionObject(g);var e=this._getAllEdgesOverlappingWith(f);if(e.length>0){return this.edges[e[e.length-1]]}else{return null}};a._addToSelection=function(e){if(e instanceof b){this.selectionObj.nodes[e.id]=e}else{this.selectionObj.edges[e.id]=e}};a._addToHover=function(e){if(e instanceof b){this.hoverObj.nodes[e.id]=e}else{this.hoverObj.edges[e.id]=e}};a._removeFromSelection=function(e){if(e instanceof b){delete this.selectionObj.nodes[e.id]}else{delete this.selectionObj.edges[e.id]}};a._unselectAll=function(g){if(g===undefined){g=false}for(var f in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(f)){this.selectionObj.nodes[f].unselect()}}for(var e in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(e)){this.selectionObj.edges[e].unselect()}}this.selectionObj={nodes:{},edges:{}};if(g==false){this.emit("select",this.getSelection())}};a._unselectClusters=function(f){if(f===undefined){f=false}for(var e in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(e)){if(this.selectionObj.nodes[e].clusterSize>1){this.selectionObj.nodes[e].unselect();this._removeFromSelection(this.selectionObj.nodes[e])}}}if(f==false){this.emit("select",this.getSelection())}};a._getSelectedNodeCount=function(){var e=0;for(var f in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(f)){e+=1}}return e};a._getSelectedNode=function(){for(var e in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(e)){return this.selectionObj.nodes[e]}}return null};a._getSelectedEdge=function(){for(var e in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(e)){return this.selectionObj.edges[e]}}return null};a._getSelectedEdgeCount=function(){var e=0;for(var f in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(f)){e+=1}}return e};a._getSelectedObjectCount=function(){var e=0;for(var g in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(g)){e+=1}}for(var f in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(f)){e+=1}}return e};a._selectionIsEmpty=function(){for(var f in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(f)){return false}}for(var e in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(e)){return false}}return true};a._clusterInSelection=function(){for(var e in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(e)){if(this.selectionObj.nodes[e].clusterSize>1){return true}}}return false};a._selectConnectedEdges=function(g){for(var e=0;e<g.dynamicEdges.length;e++){var f=g.dynamicEdges[e];f.select();this._addToSelection(f)}};a._hoverConnectedEdges=function(g){for(var e=0;e<g.dynamicEdges.length;e++){var f=g.dynamicEdges[e];f.hover=true;this._addToHover(f)}};a._unselectConnectedEdges=function(g){for(var e=0;e<g.dynamicEdges.length;e++){var f=g.dynamicEdges[e];f.unselect();this._removeFromSelection(f)}};a._selectObject=function(f,e,i,h,g){if(i===undefined){i=false}if(h===undefined){h=true}if(this._selectionIsEmpty()==false&&e==false&&this.forceAppendSelection==false){this._unselectAll(true)}if(f.selected==false&&(this.constants.selectable==true||g)){f.select();this._addToSelection(f);if(f instanceof b&&this.blockConnectingEdgeSelection==false&&h==true){this._selectConnectedEdges(f)}}else{if(f.selected==false){this._addToSelection(f);i=true}else{f.unselect();this._removeFromSelection(f)}}if(i==false){this.emit("select",this.getSelection())}};a._blurObject=function(e){if(e.hover==true){e.hover=false;this.emit("blurNode",{node:e.id})}};a._hoverObject=function(e){if(e.hover==false){e.hover=true;this._addToHover(e);if(e instanceof b){this.emit("hoverNode",{node:e.id})}}if(e instanceof b){this._hoverConnectedEdges(e)}};a._handleTouch=function(e){};a._handleTap=function(h){var g=this._getNodeAt(h);if(g!=null){this._selectObject(g,false)}else{var f=this._getEdgeAt(h);if(f!=null){this._selectObject(f,false)}else{this._unselectAll()}}var e=this.getSelection();e.pointer={DOM:{x:h.x,y:h.y},canvas:{x:this._XconvertDOMtoCanvas(h.x),y:this._YconvertDOMtoCanvas(h.y)}};this.emit("click",e);this._requestRedraw()};a._handleDoubleTap=function(g){var f=this._getNodeAt(g);if(f!=null&&f!==undefined){this.areaCenter={x:this._XconvertDOMtoCanvas(g.x),y:this._YconvertDOMtoCanvas(g.y)};this.openCluster(f)}var e=this.getSelection();e.pointer={DOM:{x:g.x,y:g.y},canvas:{x:this._XconvertDOMtoCanvas(g.x),y:this._YconvertDOMtoCanvas(g.y)}};this.emit("doubleClick",e)};a._handleOnHold=function(g){var f=this._getNodeAt(g);if(f!=null){this._selectObject(f,true)}else{var e=this._getEdgeAt(g);if(e!=null){this._selectObject(e,true)}}this._requestRedraw()};a._handleOnRelease=function(e){this._manipulationReleaseOverload(e);this._navigationReleaseOverload(e)};a._manipulationReleaseOverload=function(e){};a._navigationReleaseOverload=function(e){};a.getSelection=function(){var e=this.getSelectedNodes();var f=this.getSelectedEdges();return{nodes:e,edges:f}};a.getSelectedNodes=function(){var e=[];if(this.constants.selectable==true){for(var f in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(f)){e.push(f)}}}return e};a.getSelectedEdges=function(){var e=[];if(this.constants.selectable==true){for(var f in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(f)){e.push(f)}}}return e};a.setSelection=function(){console.log("setSelection is deprecated. Please use selectNodes instead.")};a.selectNodes=function(g,k){var f,e,j;if(!g||(g.length==undefined)){throw"Selection must be an array with ids"}this._unselectAll(true);for(f=0,e=g.length;f<e;f++){j=g[f];var h=this.nodes[j];if(!h){throw new RangeError('Node with id "'+j+'" not found')}this._selectObject(h,true,true,k,true)}this.redraw()};a.selectEdges=function(g){var f,e,j;if(!g||(g.length==undefined)){throw"Selection must be an array with ids"}this._unselectAll(true);for(f=0,e=g.length;f<e;f++){j=g[f];var h=this.edges[j];if(!h){throw new RangeError('Edge with id "'+j+'" not found')}this._selectObject(h,true,true,false,true)}this.redraw()};a._updateSelection=function(){for(var f in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(f)){if(!this.nodes.hasOwnProperty(f)){delete this.selectionObj.nodes[f]}}}for(var e in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(e)){if(!this.edges.hasOwnProperty(e)){delete this.selectionObj.edges[e]}}}}},function(f,c,g){var b=g(1);var e=g(40);var d=g(37);var a=g(45);c._clearManipulatorBar=function(){this._recursiveDOMDelete(this.manipulationDiv);this.manipulationDOM={};this._cleanManipulatorHammers();this._manipulationReleaseOverload=function(){};delete this.sectors.support["nodes"]["targetNode"];delete this.sectors.support["nodes"]["targetViaNode"];this.controlNodesActive=false;this.freezeSimulation(false)};c._cleanManipulatorHammers=function(){if(this.manipulationHammers.length!=0){for(var h=0;h<this.manipulationHammers.length;h++){this.manipulationHammers[h].dispose()}this.manipulationHammers=[]}};c._restoreOverloadedFunctions=function(){for(var h in this.cachedFunctions){if(this.cachedFunctions.hasOwnProperty(h)){this[h]=this.cachedFunctions[h];delete this.cachedFunctions[h]}}};c._toggleEditMode=function(){this.editMode=!this.editMode;var i=this.manipulationDiv;var h=this.closeDiv;var j=this.editModeDiv;if(this.editMode==true){i.style.display="block";h.style.display="block";j.style.display="none";this._bindHammerToDiv(h,"_toggleEditMode")}else{i.style.display="none";h.style.display="none";j.style.display="block"}this._createManipulatorBar()};c._createManipulatorBar=function(){if(this.boundFunction){this.off("select",this.boundFunction)}this._cleanManipulatorHammers();var h=this.constants.locales[this.constants.locale];if(this.edgeBeingEdited!==undefined){this.edgeBeingEdited._disableControlNodes();this.edgeBeingEdited=undefined;this.selectedControlNode=null;this.controlNodesActive=false;this._redraw()}this._restoreOverloadedFunctions();this.freezeSimulation(false);this.blockConnectingEdgeSelection=false;this.forceAppendSelection=false;this.manipulationDOM={};if(this.editMode==true){while(this.manipulationDiv.hasChildNodes()){this.manipulationDiv.removeChild(this.manipulationDiv.firstChild)}this.manipulationDOM.addNodeSpan=document.createElement("div");this.manipulationDOM.addNodeSpan.className="network-manipulationUI add";this.manipulationDOM.addNodeLabelSpan=document.createElement("div");this.manipulationDOM.addNodeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.addNodeLabelSpan.innerHTML=h.addNode;this.manipulationDOM.addNodeSpan.appendChild(this.manipulationDOM.addNodeLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";this.manipulationDOM.addEdgeSpan=document.createElement("div");this.manipulationDOM.addEdgeSpan.className="network-manipulationUI connect";this.manipulationDOM.addEdgeLabelSpan=document.createElement("div");this.manipulationDOM.addEdgeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.addEdgeLabelSpan.innerHTML=h.addEdge;this.manipulationDOM.addEdgeSpan.appendChild(this.manipulationDOM.addEdgeLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.addNodeSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.addEdgeSpan);if(this._getSelectedNodeCount()==1&&this.triggerFunctions.edit){this.manipulationDOM.seperatorLineDiv2=document.createElement("div");this.manipulationDOM.seperatorLineDiv2.className="network-seperatorLine";this.manipulationDOM.editNodeSpan=document.createElement("div");this.manipulationDOM.editNodeSpan.className="network-manipulationUI edit node";this.manipulationDOM.editNodeLabelSpan=document.createElement("div");this.manipulationDOM.editNodeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.editNodeLabelSpan.innerHTML=h.editNode;this.manipulationDOM.editNodeSpan.appendChild(this.manipulationDOM.editNodeLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv2);this.manipulationDiv.appendChild(this.manipulationDOM.editNodeSpan)}else{if(this._getSelectedEdgeCount()==1&&this._getSelectedNodeCount()==0){this.manipulationDOM.seperatorLineDiv3=document.createElement("div");this.manipulationDOM.seperatorLineDiv3.className="network-seperatorLine";this.manipulationDOM.editEdgeSpan=document.createElement("div");this.manipulationDOM.editEdgeSpan.className="network-manipulationUI edit edge";this.manipulationDOM.editEdgeLabelSpan=document.createElement("div");this.manipulationDOM.editEdgeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.editEdgeLabelSpan.innerHTML=h.editEdge;this.manipulationDOM.editEdgeSpan.appendChild(this.manipulationDOM.editEdgeLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv3);this.manipulationDiv.appendChild(this.manipulationDOM.editEdgeSpan)}}if(this._selectionIsEmpty()==false){this.manipulationDOM.seperatorLineDiv4=document.createElement("div");this.manipulationDOM.seperatorLineDiv4.className="network-seperatorLine";this.manipulationDOM.deleteSpan=document.createElement("div");this.manipulationDOM.deleteSpan.className="network-manipulationUI delete";this.manipulationDOM.deleteLabelSpan=document.createElement("div");this.manipulationDOM.deleteLabelSpan.className="network-manipulationLabel";this.manipulationDOM.deleteLabelSpan.innerHTML=h.del;this.manipulationDOM.deleteSpan.appendChild(this.manipulationDOM.deleteLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv4);this.manipulationDiv.appendChild(this.manipulationDOM.deleteSpan)}this._bindHammerToDiv(this.manipulationDOM.addNodeSpan,"_createAddNodeToolbar");this._bindHammerToDiv(this.manipulationDOM.addEdgeSpan,"_createAddEdgeToolbar");this._bindHammerToDiv(this.closeDiv,"_toggleEditMode");if(this._getSelectedNodeCount()==1&&this.triggerFunctions.edit){this._bindHammerToDiv(this.manipulationDOM.editNodeSpan,"_editNode")}else{if(this._getSelectedEdgeCount()==1&&this._getSelectedNodeCount()==0){this._bindHammerToDiv(this.manipulationDOM.editEdgeSpan,"_createEditEdgeToolbar")}}if(this._selectionIsEmpty()==false){this._bindHammerToDiv(this.manipulationDOM.deleteSpan,"_deleteSelected")}var i=this;this.boundFunction=i._createManipulatorBar;this.on("select",this.boundFunction)}else{while(this.editModeDiv.hasChildNodes()){this.editModeDiv.removeChild(this.editModeDiv.firstChild)}this.manipulationDOM.editModeSpan=document.createElement("div");this.manipulationDOM.editModeSpan.className="network-manipulationUI edit editmode";this.manipulationDOM.editModeLabelSpan=document.createElement("div");this.manipulationDOM.editModeLabelSpan.className="network-manipulationLabel";this.manipulationDOM.editModeLabelSpan.innerHTML=h.edit;this.manipulationDOM.editModeSpan.appendChild(this.manipulationDOM.editModeLabelSpan);this.editModeDiv.appendChild(this.manipulationDOM.editModeSpan);this._bindHammerToDiv(this.manipulationDOM.editModeSpan,"_toggleEditMode")}};c._bindHammerToDiv=function(j,h){var i=a(j,{prevent_default:true});i.on("touch",this[h].bind(this));this.manipulationHammers.push(i)};c._createAddNodeToolbar=function(){this._clearManipulatorBar();if(this.boundFunction){this.off("select",this.boundFunction)}var h=this.constants.locales[this.constants.locale];this.manipulationDOM={};this.manipulationDOM.backSpan=document.createElement("div");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=document.createElement("div");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=h.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";this.manipulationDOM.descriptionSpan=document.createElement("div");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";this.manipulationDOM.descriptionLabelSpan=document.createElement("div");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=h.addDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar");var i=this;this.boundFunction=i._addNode;this.on("select",this.boundFunction)};c._createAddEdgeToolbar=function(){this._clearManipulatorBar();this._unselectAll(true);this.freezeSimulation(true);if(this.boundFunction){this.off("select",this.boundFunction)}var h=this.constants.locales[this.constants.locale];this._unselectAll();this.forceAppendSelection=false;this.blockConnectingEdgeSelection=true;this.manipulationDOM={};this.manipulationDOM.backSpan=document.createElement("div");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=document.createElement("div");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=h.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";this.manipulationDOM.descriptionSpan=document.createElement("div");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";this.manipulationDOM.descriptionLabelSpan=document.createElement("div");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=h.edgeDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar");var i=this;this.boundFunction=i._handleConnect;this.on("select",this.boundFunction);this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleDragEnd=this._handleDragEnd;this.cachedFunctions._handleOnHold=this._handleOnHold;this._handleTouch=this._handleConnect;this._manipulationReleaseOverload=function(){};this._handleOnHold=function(){};this._handleDragStart=function(){};this._handleDragEnd=this._finishConnect;this._redraw()};c._createEditEdgeToolbar=function(){this._clearManipulatorBar();this.controlNodesActive=true;if(this.boundFunction){this.off("select",this.boundFunction)}this.edgeBeingEdited=this._getSelectedEdge();this.edgeBeingEdited._enableControlNodes();var h=this.constants.locales[this.constants.locale];this.manipulationDOM={};this.manipulationDOM.backSpan=document.createElement("div");this.manipulationDOM.backSpan.className="network-manipulationUI back";this.manipulationDOM.backLabelSpan=document.createElement("div");this.manipulationDOM.backLabelSpan.className="network-manipulationLabel";this.manipulationDOM.backLabelSpan.innerHTML=h.back;this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan);this.manipulationDOM.seperatorLineDiv1=document.createElement("div");this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine";this.manipulationDOM.descriptionSpan=document.createElement("div");this.manipulationDOM.descriptionSpan.className="network-manipulationUI none";this.manipulationDOM.descriptionLabelSpan=document.createElement("div");this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel";this.manipulationDOM.descriptionLabelSpan.innerHTML=h.editEdgeDescription;this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan);this.manipulationDiv.appendChild(this.manipulationDOM.backSpan);this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1);this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan);this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar");this.cachedFunctions._handleTouch=this._handleTouch;this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload;this.cachedFunctions._handleTap=this._handleTap;this.cachedFunctions._handleDragStart=this._handleDragStart;this.cachedFunctions._handleOnDrag=this._handleOnDrag;this._handleTouch=this._selectControlNode;this._handleTap=function(){};this._handleOnDrag=this._controlNodeDrag;this._handleDragStart=function(){};this._manipulationReleaseOverload=this._releaseControlNode;this._redraw()};c._selectControlNode=function(h){this.edgeBeingEdited.controlNodes.from.unselect();this.edgeBeingEdited.controlNodes.to.unselect();this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(h.x),this._YconvertDOMtoCanvas(h.y));if(this.selectedControlNode!==null){this.selectedControlNode.select();this.freezeSimulation(true)}this._redraw()};c._controlNodeDrag=function(h){var i=this._getPointer(h.gesture.center);if(this.selectedControlNode!==null&&this.selectedControlNode!==undefined){this.selectedControlNode.x=this._XconvertDOMtoCanvas(i.x);this.selectedControlNode.y=this._YconvertDOMtoCanvas(i.y)}this._redraw()};c._releaseControlNode=function(i){var h=this._getNodeAt(i);if(h!==null){if(this.edgeBeingEdited.controlNodes.from.selected==true){this.edgeBeingEdited._restoreControlNodes();this._editEdge(h.id,this.edgeBeingEdited.to.id);this.edgeBeingEdited.controlNodes.from.unselect()}if(this.edgeBeingEdited.controlNodes.to.selected==true){this.edgeBeingEdited._restoreControlNodes();this._editEdge(this.edgeBeingEdited.from.id,h.id);this.edgeBeingEdited.controlNodes.to.unselect()}}else{this.edgeBeingEdited._restoreControlNodes()}this.freezeSimulation(false);this._redraw()};c._handleConnect=function(m){if(this._getSelectedNodeCount()==0){var i=this._getNodeAt(m);if(i!=null){if(i.clusterSize>1){alert(this.constants.locales[this.constants.locale]["createEdgeError"])}else{this._selectObject(i,false);var k=this.sectors.support["nodes"];k.targetNode=new e({id:"targetNode"},{},{},this.constants);var j=k.targetNode;j.x=i.x;j.y=i.y;this.edges.connectionEdge=new d({id:"connectionEdge",from:i.id,to:j.id},this,this.constants);var l=this.edges.connectionEdge;l.from=i;l.connected=true;l.options.smoothCurves={enabled:true,dynamic:false,type:"continuous",roundness:0.5};l.selected=true;l.to=j;this.cachedFunctions._handleOnDrag=this._handleOnDrag;var h=this;this._handleOnDrag=function(n){var p=this._getPointer(n.gesture.center);var o=h.edges.connectionEdge;o.to.x=h._XconvertDOMtoCanvas(p.x);o.to.y=h._YconvertDOMtoCanvas(p.y);h._redraw()};this.moving=true;this.start()}}}};c._finishConnect=function(i){if(this._getSelectedNodeCount()==1){var k=this._getPointer(i.gesture.center);this._handleOnDrag=this.cachedFunctions._handleOnDrag;delete this.cachedFunctions._handleOnDrag;var j=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge;delete this.sectors.support["nodes"]["targetNode"];delete this.sectors.support["nodes"]["targetViaNode"];var h=this._getNodeAt(k);if(h!=null){if(h.clusterSize>1){alert(this.constants.locales[this.constants.locale]["createEdgeError"])}else{this._createEdge(j,h.id);this._createManipulatorBar()}}this._unselectAll()}};c._addNode=function(){if(this._selectionIsEmpty()&&this.editMode==true){var j=this._pointerToPositionObject(this.pointerPosition);var h={id:b.randomUUID(),x:j.left,y:j.top,label:"new",allowedToMoveX:true,allowedToMoveY:true};if(this.triggerFunctions.add){if(this.triggerFunctions.add.length==2){var i=this;this.triggerFunctions.add(h,function(k){i.nodesData.add(k);i._createManipulatorBar();i.moving=true;i.start()})}else{throw new Error("The function for add does not support two arguments (data,callback)");this._createManipulatorBar();this.moving=true;this.start()}}else{this.nodesData.add(h);this._createManipulatorBar();this.moving=true;this.start()}}};c._createEdge=function(i,k){if(this.editMode==true){var h={from:i,to:k};if(this.triggerFunctions.connect){if(this.triggerFunctions.connect.length==2){var j=this;this.triggerFunctions.connect(h,function(l){j.edgesData.add(l);j.moving=true;j.start()})}else{throw new Error("The function for connect does not support two arguments (data,callback)");this.moving=true;this.start()}}else{this.edgesData.add(h);this.moving=true;this.start()}}};c._editEdge=function(i,k){if(this.editMode==true){var h={id:this.edgeBeingEdited.id,from:i,to:k};if(this.triggerFunctions.editEdge){if(this.triggerFunctions.editEdge.length==2){var j=this;this.triggerFunctions.editEdge(h,function(l){j.edgesData.update(l);j.moving=true;j.start()})}else{throw new Error("The function for edit does not support two arguments (data, callback)");this.moving=true;this.start()}}else{this.edgesData.update(h);this.moving=true;this.start()}}};c._editNode=function(){if(this.triggerFunctions.edit&&this.editMode==true){var i=this._getSelectedNode();var j={id:i.id,label:i.label,group:i.options.group,shape:i.options.shape,color:{background:i.options.color.background,border:i.options.color.border,highlight:{background:i.options.color.highlight.background,border:i.options.color.highlight.border}}};if(this.triggerFunctions.edit.length==2){var h=this;this.triggerFunctions.edit(j,function(k){h.nodesData.update(k);h._createManipulatorBar();h.moving=true;h.start()})}else{throw new Error("The function for edit does not support two arguments (data, callback)")}}else{throw new Error("No edit function has been bound to this button")}};c._deleteSelected=function(){if(!this._selectionIsEmpty()&&this.editMode==true){if(!this._clusterInSelection()){var k=this.getSelectedNodes();var j=this.getSelectedEdges();if(this.triggerFunctions.del){var h=this;var i={nodes:k,edges:j};if(this.triggerFunctions.del.length==2){this.triggerFunctions.del(i,function(l){h.edgesData.remove(l.edges);h.nodesData.remove(l.nodes);h._unselectAll();h.moving=true;h.start()})}else{throw new Error("The function for delete does not support two arguments (data, callback)")}}else{this.edgesData.remove(j);this.nodesData.remove(k);this._unselectAll();this.moving=true;this.start()}}else{alert(this.constants.locales[this.constants.locale]["deleteClusterError"])}}}},function(d,c,e){var b=e(1);var a=e(45);c._cleanNavigation=function(){if(this.navigationHammers.length!=0){for(var f=0;f<this.navigationHammers.length;f++){this.navigationHammers[f].dispose()}this.navigationHammers=[]}this._navigationReleaseOverload=function(){};if(this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode){this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper)}};c._loadNavigationElements=function(){this._cleanNavigation();this.navigationDOM={};var h=["up","down","left","right","zoomIn","zoomOut","zoomExtends"];var j=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_zoomExtent"];this.navigationDOM.wrapper=document.createElement("div");this.frame.appendChild(this.navigationDOM.wrapper);for(var g=0;g<h.length;g++){this.navigationDOM[h[g]]=document.createElement("div");this.navigationDOM[h[g]].className="network-navigation "+h[g];this.navigationDOM.wrapper.appendChild(this.navigationDOM[h[g]]);var f=a(this.navigationDOM[h[g]],{prevent_default:true});f.on("touch",this[j[g]].bind(this));this.navigationHammers.push(f)}this._navigationReleaseOverload=this._stopMovement};c._zoomExtent=function(f){this.zoomExtent({duration:700});f.stopPropagation()};c._stopMovement=function(){this._xStopMoving();this._yStopMoving();this._stopZoom()};c._moveUp=function(f){this.yIncrement=this.constants.keyboard.speed.y;this.start();f.preventDefault()};c._moveDown=function(f){this.yIncrement=-this.constants.keyboard.speed.y;this.start();f.preventDefault()};c._moveLeft=function(f){this.xIncrement=this.constants.keyboard.speed.x;this.start();f.preventDefault()};c._moveRight=function(f){this.xIncrement=-this.constants.keyboard.speed.y;this.start();f.preventDefault()};c._zoomIn=function(f){this.zoomIncrement=this.constants.keyboard.speed.zoom;this.start();f.preventDefault()};c._zoomOut=function(f){this.zoomIncrement=-this.constants.keyboard.speed.zoom;this.start();f.preventDefault()};c._stopZoom=function(f){this.zoomIncrement=0;f&&f.preventDefault()};c._yStopMoving=function(f){this.yIncrement=0;f&&f.preventDefault()};c._xStopMoving=function(f){this.xIncrement=0;f&&f.preventDefault()}},function(b,a,c){a._resetLevels=function(){for(var e in this.nodes){if(this.nodes.hasOwnProperty(e)){var d=this.nodes[e];if(d.preassignedLevel==false){d.level=-1;d.hierarchyEnumerated=false}}}};a._setupHierarchicalLayout=function(){if(this.constants.hierarchicalLayout.enabled==true&&this.nodeIndices.length>0){var f=0;var g,i;var h=false;var e=false;for(i in this.nodes){if(this.nodes.hasOwnProperty(i)){g=this.nodes[i];if(g.level!=-1){h=true}else{e=true}if(f<g.edges.length){f=g.edges.length}}}if(e==true&&h==true){throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");this.zoomExtent({duration:0},true,this.constants.clustering.enabled);if(!this.constants.clustering.enabled){this.start()}}else{this._changeConstants();if(e==true){if(this.constants.hierarchicalLayout.layout=="hubsize"){this._determineLevels(f)}else{this._determineLevelsDirected(false)}}var d=this._getDistribution();this._placeNodesByHierarchy(d);this.start()}}};a._placeNodesByHierarchy=function(d){var f,e;for(var g in d){if(d.hasOwnProperty(g)){for(f in d[g].nodes){if(d[g].nodes.hasOwnProperty(f)){e=d[g].nodes[f];if(this.constants.hierarchicalLayout.direction=="UD"||this.constants.hierarchicalLayout.direction=="DU"){if(e.xFixed){e.x=d[g].minPos;e.xFixed=false;d[g].minPos+=d[g].nodeSpacing}}else{if(e.yFixed){e.y=d[g].minPos;e.yFixed=false;d[g].minPos+=d[g].nodeSpacing}}this._placeBranchNodes(e.edges,e.id,d,e.level)}}}}this._stabilize()};a._getDistribution=function(){var d={};var g,e,h;for(g in this.nodes){if(this.nodes.hasOwnProperty(g)){e=this.nodes[g];e.xFixed=true;e.yFixed=true;if(this.constants.hierarchicalLayout.direction=="UD"||this.constants.hierarchicalLayout.direction=="DU"){e.y=this.constants.hierarchicalLayout.levelSeparation*e.level}else{e.x=this.constants.hierarchicalLayout.levelSeparation*e.level}if(d[e.level]===undefined){d[e.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}}d[e.level].amount+=1;d[e.level].nodes[g]=e}}var f=0;for(h in d){if(d.hasOwnProperty(h)){if(f<d[h].amount){f=d[h].amount}}}for(h in d){if(d.hasOwnProperty(h)){d[h].nodeSpacing=(f+1)*this.constants.hierarchicalLayout.nodeSpacing;d[h].nodeSpacing/=(d[h].amount+1);d[h].minPos=d[h].nodeSpacing-(0.5*(d[h].amount+1)*d[h].nodeSpacing)}}return d};a._determineLevels=function(d){var f,e;for(f in this.nodes){if(this.nodes.hasOwnProperty(f)){e=this.nodes[f];if(e.edges.length==d){e.level=0}}}for(f in this.nodes){if(this.nodes.hasOwnProperty(f)){e=this.nodes[f];if(e.level==0){this._setLevel(1,e.edges,e.id)}}}};a._determineLevelsDirected=function(){var f,d,e;var g=10000;e=this.nodes[this.nodeIndices[0]];e.level=g;this._setLevelDirected(g,e.edges,e.id);for(f in this.nodes){if(this.nodes.hasOwnProperty(f)){d=this.nodes[f];g=d.level<g?d.level:g}}for(f in this.nodes){if(this.nodes.hasOwnProperty(f)){d=this.nodes[f];d.level-=g}}};a._changeConstants=function(){this.constants.clustering.enabled=false;this.constants.physics.barnesHut.enabled=false;this.constants.physics.hierarchicalRepulsion.enabled=true;this._loadSelectedForceSolver();if(this.constants.smoothCurves.enabled==true){this.constants.smoothCurves.dynamic=false}this._configureSmoothCurves();var d=this.constants.hierarchicalLayout;d.levelSeparation=Math.abs(d.levelSeparation);if(d.direction=="RL"||d.direction=="DU"){d.levelSeparation*=-1}if(d.direction=="RL"||d.direction=="LR"){if(this.constants.smoothCurves.enabled==true){this.constants.smoothCurves.type="vertical"}}else{if(this.constants.smoothCurves.enabled==true){this.constants.smoothCurves.type="horizontal"}}};a._placeBranchNodes=function(f,k,d,j){for(var h=0;h<f.length;h++){var g=null;if(f[h].toId==k){g=f[h].from}else{g=f[h].to}var e=false;if(this.constants.hierarchicalLayout.direction=="UD"||this.constants.hierarchicalLayout.direction=="DU"){if(g.xFixed&&g.level>j){g.xFixed=false;g.x=d[g.level].minPos;e=true}}else{if(g.yFixed&&g.level>j){g.yFixed=false;g.y=d[g.level].minPos;e=true}}if(e==true){d[g.level].minPos+=d[g.level].nodeSpacing;if(g.edges.length>1){this._placeBranchNodes(g.edges,g.id,d,g.level)}}}};a._setLevel=function(h,d,g){for(var f=0;f<d.length;f++){var e=null;if(d[f].toId==g){e=d[f].from}else{e=d[f].to}if(e.level==-1||e.level>h){e.level=h;if(e.edges.length>1){this._setLevel(h+1,e.edges,e.id)}}}};a._setLevelDirected=function(j,d,h){this.nodes[h].hierarchyEnumerated=true;var f,g;for(var e=0;e<d.length;e++){g=1;if(d[e].toId==h){f=d[e].from;g=-1}else{f=d[e].to}if(f.level==-1){f.level=j+g}}for(var e=0;e<d.length;e++){if(d[e].toId==h){f=d[e].from}else{f=d[e].to}if(f.edges.length>1&&f.hierarchyEnumerated===false){this._setLevelDirected(f.level,f.edges,f.id)}}};a._restoreNodes=function(){for(var d in this.nodes){if(this.nodes.hasOwnProperty(d)){this.nodes[d].xFixed=false;this.nodes[d].yFixed=false}}}},function(b,a,c){a._calculateNodeForces=function(){var n,m,u,k,g,f,h,o,e,d,t,s;var q=this.calculationNodes;var l=this.calculationNodeIndices;var r=-2/3;var w=4/3;var v=this.constants.physics.repulsion.nodeDistance;var p=v;for(t=0;t<l.length-1;t++){e=q[l[t]];for(s=t+1;s<l.length;s++){d=q[l[s]];h=e.clusterSize+d.clusterSize-2;n=d.x-e.x;m=d.y-e.y;k=Math.sqrt(n*n+m*m);if(k==0){k=0.1*Math.random();n=k}p=(h==0)?v:(v*(1+h*this.constants.clustering.distanceAmplification));var x=r/p;if(k<2*p){if(k<0.5*p){o=1}else{o=x*k+w}o*=(h==0)?1:1+h*this.constants.clustering.forceAmplification;o=o/Math.max(k,0.01*p);g=n*o;f=m*o;e.fx-=g;e.fy-=f;d.fx+=g;d.fy+=f}}}}},function(b,a,c){a._calculateNodeForces=function(){var s,r,e,h,g,o,q,p,l,k;var d=this.calculationNodes;var m=this.calculationNodeIndices;var n=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(l=0;l<m.length-1;l++){q=d[m[l]];for(k=l+1;k<m.length;k++){p=d[m[k]];if(q.level==p.level){s=p.x-q.x;r=p.y-q.y;e=Math.sqrt(s*s+r*r);var f=0.05;if(e<n){o=-Math.pow(f*e,2)+Math.pow(f*n,2)}else{o=0}if(e==0){e=0.01}else{o=o/e}h=s*o;g=r*o;q.fx-=h;q.fy-=g;p.fx+=h;p.fy+=g}}}};a._calculateHierarchicalSpringForces=function(){var s,o,y;var r,q,m,k,x,n;var h=this.edges;var u=this.calculationNodes;var p=this.calculationNodeIndices;for(var w=0;w<p.length;w++){var e=u[p[w]];e.springFx=0;e.springFy=0}for(y in h){if(h.hasOwnProperty(y)){o=h[y];if(o.connected){if(this.nodes.hasOwnProperty(o.toId)&&this.nodes.hasOwnProperty(o.fromId)){s=o.physics.springLength;s+=(o.to.clusterSize+o.from.clusterSize-2)*this.constants.clustering.edgeGrowth;r=(o.from.x-o.to.x);q=(o.from.y-o.to.y);n=Math.sqrt(r*r+q*q);if(n==0){n=0.01}x=this.constants.physics.springConstant*(s-n)/n;m=r*x;k=q*x;if(o.to.level!=o.from.level){o.to.springFx-=m;o.to.springFy-=k;o.from.springFx+=m;o.from.springFy+=k}else{var t=0.5;o.to.fx-=t*m;o.to.fy-=t*k;o.from.fx+=t*m;o.from.fy+=t*k}}}}}var x=1;var g,f;for(w=0;w<p.length;w++){var v=u[p[w]];g=Math.min(x,Math.max(-x,v.springFx));f=Math.min(x,Math.max(-x,v.springFy));v.fx+=g;v.fy+=f}var l=0;var j=0;for(w=0;w<p.length;w++){var v=u[p[w]];l+=v.fx;j+=v.fy}var d=l/p.length;var z=j/p.length;for(w=0;w<p.length;w++){var v=u[p[w]];v.fx-=d;v.fy-=z}}},function(b,a,c){a._calculateNodeForces=function(){if(this.constants.physics.barnesHut.gravitationalConstant!=0){var h;var e=this.calculationNodes;var g=this.calculationNodeIndices;var d=g.length;this._formBarnesHutTree(e,g);var j=this.barnesHutTree;for(var f=0;f<d;f++){h=e[g[f]];if(h.options.mass>0){this._getForceContribution(j.root.children.NW,h);this._getForceContribution(j.root.children.NE,h);this._getForceContribution(j.root.children.SW,h);this._getForceContribution(j.root.children.SE,h)}}}};a._getForceContribution=function(j,i){if(j.childrenCount>0){var e,d,k;e=j.centerOfMass.x-i.x;d=j.centerOfMass.y-i.y;k=Math.sqrt(e*e+d*d);if(k*j.calcSize>this.constants.physics.barnesHut.thetaInverted){if(k==0){k=0.1*Math.random();e=k}var h=this.constants.physics.barnesHut.gravitationalConstant*j.mass*i.options.mass/(k*k*k);var g=e*h;var f=d*h;i.fx+=g;i.fy+=f}else{if(j.childrenCount==4){this._getForceContribution(j.children.NW,i);this._getForceContribution(j.children.NE,i);this._getForceContribution(j.children.SW,i);this._getForceContribution(j.children.SE,i)}else{if(j.children.data.id!=i.id){if(k==0){k=0.5*Math.random();e=k}var h=this.constants.physics.barnesHut.gravitationalConstant*j.mass*i.options.mass/(k*k*k);var g=e*h;var f=d*h;i.fx+=g;i.fy+=f}}}}};a._formBarnesHutTree=function(m,e){var n;var q=e.length;var v=Number.MAX_VALUE,t=Number.MAX_VALUE,u=-Number.MAX_VALUE,s=-Number.MAX_VALUE;for(var p=0;p<q;p++){var k=m[e[p]].x;var j=m[e[p]].y;if(m[e[p]].options.mass>0){if(k<v){v=k}if(k>u){u=k}if(j<t){t=j}if(j>s){s=j}}}var o=Math.abs(u-v)-Math.abs(s-t);if(o>0){t-=0.5*o;s+=0.5*o}else{v+=0.5*o;u-=0.5*o}var g=0.00001;var r=Math.max(g,Math.abs(u-v));var l=0.5*r;var h=0.5*(v+u),f=0.5*(t+s);var d={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:h-l,maxX:h+l,minY:f-l,maxY:f+l},size:r,calcSize:1/r,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(d.root);for(p=0;p<q;p++){n=m[e[p]];if(n.options.mass>0){this._placeInTree(d.root,n)}}this.barnesHutTree=d};a._updateBranchMass=function(h,g){var e=h.mass+g.options.mass;var d=1/e;h.centerOfMass.x=h.centerOfMass.x*h.mass+g.x*g.options.mass;h.centerOfMass.x*=d;h.centerOfMass.y=h.centerOfMass.y*h.mass+g.y*g.options.mass;h.centerOfMass.y*=d;h.mass=e;var f=Math.max(Math.max(g.height,g.radius),g.width);h.maxWidth=(h.maxWidth<f)?f:h.maxWidth};a._placeInTree=function(f,d,e){if(e!=true||e===undefined){this._updateBranchMass(f,d)}if(f.children.NW.range.maxX>d.x){if(f.children.NW.range.maxY>d.y){this._placeInRegion(f,d,"NW")}else{this._placeInRegion(f,d,"SW")}}else{if(f.children.NW.range.maxY>d.y){this._placeInRegion(f,d,"NE")}else{this._placeInRegion(f,d,"SE")}}};a._placeInRegion=function(f,d,e){switch(f.children[e].childrenCount){case 0:f.children[e].children.data=d;f.children[e].childrenCount=1;this._updateBranchMass(f.children[e],d);break;case 1:if(f.children[e].children.data.x==d.x&&f.children[e].children.data.y==d.y){d.x+=Math.random();d.y+=Math.random()}else{this._splitBranch(f.children[e]);this._placeInTree(f.children[e],d)}break;case 4:this._placeInTree(f.children[e],d);break}};a._splitBranch=function(e){var d=null;if(e.childrenCount==1){d=e.children.data;e.mass=0;e.centerOfMass.x=0;e.centerOfMass.y=0}e.childrenCount=4;e.children.data=null;this._insertRegion(e,"NW");this._insertRegion(e,"NE");this._insertRegion(e,"SW");this._insertRegion(e,"SE");if(d!=null){this._placeInTree(e,d)}};a._insertRegion=function(i,h){var d,g,j,f;var e=0.5*i.size;switch(h){case"NW":d=i.range.minX;g=i.range.minX+e;j=i.range.minY;f=i.range.minY+e;break;case"NE":d=i.range.minX+e;g=i.range.maxX;j=i.range.minY;f=i.range.minY+e;break;case"SW":d=i.range.minX;g=i.range.minX+e;j=i.range.minY+e;f=i.range.maxY;break;case"SE":d=i.range.minX+e;g=i.range.maxX;j=i.range.minY+e;f=i.range.maxY;break}i.children[h]={centerOfMass:{x:0,y:0},mass:0,range:{minX:d,maxX:g,minY:j,maxY:f},size:0.5*i.size,calcSize:2*i.calcSize,children:{data:null},maxWidth:0,level:i.level+1,childrenCount:0}};a._drawTree=function(d,e){if(this.barnesHutTree!==undefined){d.lineWidth=1;this._drawBranch(this.barnesHutTree.root,d,e)}};a._drawBranch=function(f,d,e){if(e===undefined){e="#FF0000"}if(f.childrenCount==4){this._drawBranch(f.children.NW,d);this._drawBranch(f.children.NE,d);this._drawBranch(f.children.SE,d);this._drawBranch(f.children.SW,d)}d.strokeStyle=e;d.beginPath();d.moveTo(f.range.minX,f.range.minY);d.lineTo(f.range.maxX,f.range.minY);d.stroke();d.beginPath();d.moveTo(f.range.maxX,f.range.minY);d.lineTo(f.range.maxX,f.range.maxY);d.stroke();d.beginPath();d.moveTo(f.range.maxX,f.range.maxY);d.lineTo(f.range.minX,f.range.maxY);d.stroke();d.beginPath();d.moveTo(f.range.minX,f.range.maxY);d.lineTo(f.range.minX,f.range.minY);d.stroke()}},function(b,a,c){function d(e){throw new Error("Cannot find module '"+e+"'.")}d.keys=function(){return[]};d.resolve=d;b.exports=d;d.id=70},function(b,a,c){b.exports=function(d){if(!d.webpackPolyfill){d.deprecate=function(){};d.paths=[];d.children=[];d.webpackPolyfill=1}return d}}])});
